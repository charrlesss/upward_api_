"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[8470],{70272:function(e,t,n){var r=n(54270),i=n(80184);t.Z=function(e){var t=e.title,n=void 0===t?"":t;return(0,i.jsxs)(r.q,{children:[(0,i.jsx)("title",{children:"".concat("UMIS"," - ").concat(n)}),(0,i.jsx)("link",{rel:"icon",type:"image/png",href:"".concat("/","/logo.png")})]})}},20765:function(e,t,n){n.r(t),n.d(t,{default:function(){return S},poliyAccountColumn:function(){return A},setNewStateValue:function(){return D}});var r=n(1413),i=n(74165),c=n(15861),o=n(29439),u=n(72791),l=n(36151),a=n(42419),s=n(27247),d=n(4378),f=n(3380),h=n(91933),p=n(21830),v=n.n(p),x=n(79018),m=n(29823),y=n(53329),k=n(39709),w=n(64230),b=n(70272),C=n(15703),g=n(5403),j=n(65413),R=n(48910),Z=(n(96857),n(80184)),A=[{key:"AccountCode",label:"Code",width:200},{key:"Account",label:"Account",width:350},{key:"Description",label:"Description",width:400},{key:"_Inactive",label:"Inactive",width:100},{key:"Inactive",label:"Inactive",hide:!0},{key:"COM",label:"",hide:!0},{key:"TPL",label:"",hide:!0},{key:"MAR",label:"",hide:!0},{key:"FIRE",label:"",hide:!0},{key:"G02",label:"",hide:!0},{key:"G13",label:"",hide:!0},{key:"G16",label:"",hide:!0},{key:"MSPR",label:"",hide:!0},{key:"PA",label:"",hide:!0},{key:"CGL",label:"",hide:!0},{key:"createdAt",label:"",hide:!0}];function S(){var e,t,n,p,S=(0,u.useRef)(null),D=(0,u.useContext)(f.V),z=D.myAxios,I=D.user,T=(0,u.useState)(""),M=(0,o.Z)(T,2),G=M[0],N=M[1],L=(0,u.useRef)(null),E=(0,u.useRef)(null),P=(0,u.useRef)(null),F=(0,u.useRef)(null),K=(0,u.useRef)(null),V=(0,u.useRef)(null),U=(0,u.useRef)(null),W=(0,u.useRef)(null),q=(0,u.useRef)(null),H=(0,u.useRef)(null),O=(0,u.useRef)(null),Y=(0,u.useRef)(null),_=(0,u.useRef)(null),J=(0,u.useRef)(null),Q=(0,u.useRef)(null),X=(0,h.useMutation)({mutationKey:"search-policy",mutationFn:function(t){return(e=e||(0,c.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/reference/search-policy-account",t,{headers:{Authorization:"Bearer ".concat(null===I||void 0===I?void 0:I.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){e.data.success&&(0,x.D)(100).then((function(){S.current.setDataFormated(e.data.data)}))}}),$=X.mutate,ee=X.isLoading,te=(0,u.useRef)($),ne=(0,h.useMutation)({mutationKey:"add",mutationFn:function(e){return(t=t||(0,c.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/reference/add-policy-account",t,{headers:{Authorization:"Bearer ".concat(null===I||void 0===I?void 0:I.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:he}),re=ne.mutate,ie=ne.isLoading,ce=(0,h.useMutation)({mutationKey:"update",mutationFn:function(e){return(n=n||(0,c.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/reference/update-policy-account",t,{headers:{Authorization:"Bearer ".concat(null===I||void 0===I?void 0:I.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:he}),oe=ce.mutate,ue=ce.isLoading,le=(0,h.useMutation)({mutationKey:"delete",mutationFn:function(e){return(p=p||(0,c.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/reference/delete-policy-account",t,{headers:{Authorization:"Bearer ".concat(null===I||void 0===I?void 0:I.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:he}),ae=le.mutate,se=le.isLoading;function de(e){var t,n,i,c,o,u,l,a,s,d,f,h,p,x,m,y;if(""===(null===(t=E.current)||void 0===t?void 0:t.value))return v().fire({position:"center",icon:"warning",title:"Account is required!",showConfirmButton:!1,timer:1500});if(""===(null===(n=P.current)||void 0===n?void 0:n.value))return v().fire({position:"center",icon:"warning",title:"Account Code is required!",showConfirmButton:!1,timer:1500});e.preventDefault();var k={AccountCode:null===(i=E.current)||void 0===i?void 0:i.value,Account:null===(c=P.current)||void 0===c?void 0:c.value,Description:null===(o=F.current)||void 0===o?void 0:o.value,Inactive:null===(u=K.current)||void 0===u?void 0:u.checked,COM:null===(l=V.current)||void 0===l?void 0:l.checked,TPL:null===(a=U.current)||void 0===a?void 0:a.checked,MAR:null===(s=W.current)||void 0===s?void 0:s.checked,FIRE:null===(d=q.current)||void 0===d?void 0:d.checked,G02:null===(f=H.current)||void 0===f?void 0:f.checked,G13:null===(h=O.current)||void 0===h?void 0:h.checked,G16:null===(p=Y.current)||void 0===p?void 0:p.checked,MSPR:null===(x=_.current)||void 0===x?void 0:x.checked,PA:null===(m=J.current)||void 0===m?void 0:m.checked,CGL:null===(y=Q.current)||void 0===y?void 0:y.checked};"edit"===G?(0,w.s)({isUpdate:!0,cb:function(e){oe((0,r.Z)((0,r.Z)({},k),{},{userCodeConfirmation:e}))}}):(0,w.L)({isConfirm:function(){re(k)}})}function fe(){E.current&&(E.current.value=""),P.current&&(P.current.value=""),F.current&&(F.current.value=""),K.current&&(K.current.checked=!1),V.current&&(V.current.checked=!1),U.current&&(U.current.checked=!1),W.current&&(W.current.checked=!1),q.current&&(q.current.checked=!1),H.current&&(H.current.checked=!1),O.current&&(O.current.checked=!1),Y.current&&(Y.current.checked=!1),_.current&&(_.current.checked=!1),J.current&&(J.current.checked=!1),Q.current&&(Q.current.checked=!1)}function he(e){if(e.data.success)return S.current.setSelectedRow(null),S.current.resetCheckBox(),te.current({search:""}),N(""),fe(),v().fire({position:"center",icon:"success",title:e.data.message,showConfirmButton:!1,timer:1500});v().fire({position:"center",icon:"error",title:e.data.message,showConfirmButton:!1,timer:1500})}return(0,u.useEffect)((function(){te.current({search:""})}),[]),(0,Z.jsxs)(Z.Fragment,{children:[ee&&(0,Z.jsx)(j.g,{}),(0,Z.jsx)(b.Z,{title:"Policy Account"}),(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:1,width:"100%",padding:"5px",position:"relative"},children:[(0,Z.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"5px",marginBottom:"10px"},children:[(0,Z.jsx)(C.oi,{containerClassName:"custom-input",containerStyle:{width:"550px",marginRight:"10px"},label:{title:"Search: ",style:{fontSize:"12px",fontWeight:"bold",width:"50px"}},input:{className:"search-input-up-on-key-down",type:"search",onKeyDown:function(e){("Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),$({search:e.currentTarget.value})),"ArrowDown"===e.key)&&(e.preventDefault(),document.querySelector(".grid-container").focus())},style:{width:"500px"}},icon:(0,Z.jsx)(g.Z,{sx:{fontSize:"18px"}}),onIconClick:function(e){e.preventDefault(),L.current&&$({search:L.current.value})},inputRef:L}),(0,Z.jsxs)("div",{className:"button-action-desktop",style:{display:"flex",alignItems:"center",columnGap:"8px"},children:[""===G&&(0,Z.jsx)(l.Z,{sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,Z.jsx)(a.Z,{}),id:"entry-header-save-button",onClick:function(){N("add")},children:"New"}),(0,Z.jsx)(k.Z,{sx:{height:"22px",fontSize:"11px"},id:"save-entry-header",color:"primary",variant:"contained",type:"submit",onClick:de,disabled:""===G,startIcon:(0,Z.jsx)(y.Z,{}),loading:ie||ue,children:"Save"}),""!==G&&(0,Z.jsx)(l.Z,{sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,Z.jsx)(m.Z,{}),color:"error",onClick:function(){v().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&(fe(),N(""),S.current.setSelectedRow(null),S.current.resetCheckBox())}))},children:"Cancel"}),(0,Z.jsx)(k.Z,{id:"save-entry-header",variant:"contained",sx:{height:"22px",fontSize:"11px",backgroundColor:d.Z[500],"&:hover":{backgroundColor:d.Z[600]}},disabled:"edit"!==G,startIcon:(0,Z.jsx)(s.Z,{}),loading:se,onClick:function(){var e;(0,w.s)({isUpdate:!1,title:"Confirmation",saveTitle:"Confirm",text:"Are you sure you want to delete '".concat(null===(e=P.current)||void 0===e?void 0:e.value,"'?"),cb:function(e){var t;ae({Account:null===(t=E.current)||void 0===t?void 0:t.value,userCodeConfirmation:e})}})},children:"Delete"})]})]}),(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column",rowGap:"5px"},children:[(0,Z.jsxs)("div",{className:"container-fields-custom",style:{display:"flex",width:"590px",justifyContent:"space-between"},children:[(0,Z.jsx)(C.oi,{containerClassName:"custom-input",label:{title:"Account Code: ",style:{fontSize:"12px",fontWeight:"bold",width:"95px"}},input:{disabled:""===G||"edit"===G,type:"text",style:{width:"300px"},onKeyDown:function(e){"NumpadEnter"!==e.code&&"Enter"!==e.code||e.preventDefault()}},inputRef:E}),(0,Z.jsx)(B,{gridRow:1,inputRef:K,label:"Mark as Inactive"})]}),(0,Z.jsx)(C.oi,{containerClassName:"custom-input",label:{title:"Account : ",style:{fontSize:"12px",fontWeight:"bold",width:"95px"}},input:{disabled:""===G,type:"text",style:{width:"500px"},onKeyDown:function(e){"NumpadEnter"!==e.code&&"Enter"!==e.code||e.preventDefault()}},inputRef:P}),(0,Z.jsx)(C.oi,{containerClassName:"custom-input",label:{title:"Description : ",style:{fontSize:"12px",fontWeight:"bold",width:"95px"}},input:{disabled:""===G,type:"text",style:{width:"500px"},onKeyDown:function(e){"NumpadEnter"!==e.code&&"Enter"!==e.code||e.preventDefault()}},inputRef:F}),(0,Z.jsxs)("fieldset",{className:"container-max-width",style:{border:"1px solid black",padding:"5px",width:"590px"},children:[(0,Z.jsx)("legend",{style:{color:"black",fontSize:"13px",fontWeight:"bold"},children:"Policy Type"}),(0,Z.jsxs)("div",{className:"container-fields-grid",style:{width:"100%",display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"10px"},children:[(0,Z.jsx)(B,{gridRow:1,inputRef:V,label:"Comprehensive"}),(0,Z.jsx)(B,{gridRow:2,inputRef:U,label:"TPL"}),(0,Z.jsx)(B,{gridRow:1,inputRef:W,label:"Marine"}),(0,Z.jsx)(B,{gridRow:2,inputRef:q,label:"Fire"}),(0,Z.jsx)(B,{gridRow:1,inputRef:H,label:"Bond G(02)"}),(0,Z.jsx)(B,{gridRow:2,inputRef:O,label:"Bond G(13)"}),(0,Z.jsx)(B,{gridRow:1,inputRef:Y,label:"Bond G(16)"}),(0,Z.jsx)(B,{gridRow:2,inputRef:_,label:"MSPR"}),(0,Z.jsx)(B,{gridRow:1,inputRef:J,label:"PA"}),(0,Z.jsx)(B,{gridRow:2,inputRef:Q,label:"CGL"})]})]})]}),(0,Z.jsx)("div",{style:{marginTop:"10px",width:"100%",position:"relative",flex:1,display:"flex"},children:(0,Z.jsx)(R.BW,{containerStyle:{flex:1,height:"auto"},ref:S,columns:A,height:"280px",getSelectedItem:function(e){e?(N("edit"),E.current&&(E.current.value=e[0]),P.current&&(P.current.value=e[1]),F.current&&(F.current.value=e[2]),K.current&&(K.current.checked=e[4]),V.current&&(V.current.checked=e[5]),U.current&&(U.current.checked=e[6]),W.current&&(W.current.checked=e[7]),q.current&&(q.current.checked=e[8]),H.current&&(H.current.checked=e[9]),O.current&&(O.current.checked=e[10]),Y.current&&(Y.current.checked=e[11]),_.current&&(_.current.checked=e[12]),J.current&&(J.current.checked=e[13]),Q.current&&(Q.current.checked=e[14])):fe()}})}),(0,Z.jsxs)("div",{className:"button-action-mobile",style:{display:"flex",alignItems:"center",columnGap:"8px"},children:[""===G&&(0,Z.jsx)(l.Z,{sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,Z.jsx)(a.Z,{}),id:"entry-header-save-button",onClick:function(){N("add")},children:"New"}),(0,Z.jsx)(k.Z,{sx:{height:"22px",fontSize:"11px"},id:"save-entry-header",color:"primary",variant:"contained",type:"submit",onClick:de,disabled:""===G,startIcon:(0,Z.jsx)(y.Z,{}),loading:ie||ue,children:"Save"}),""!==G&&(0,Z.jsx)(l.Z,{sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,Z.jsx)(m.Z,{}),color:"error",onClick:function(){v().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&(fe(),N(""),S.current.setSelectedRow(null),S.current.resetCheckBox())}))},children:"Cancel"}),(0,Z.jsx)(k.Z,{id:"save-entry-header",variant:"contained",sx:{height:"22px",fontSize:"11px",backgroundColor:d.Z[500],"&:hover":{backgroundColor:d.Z[600]}},disabled:"edit"!==G,startIcon:(0,Z.jsx)(s.Z,{}),loading:se,onClick:function(){var e;(0,w.s)({isUpdate:!1,title:"Confirmation",saveTitle:"Confirm",text:"Are you sure you want to delete '".concat(null===(e=P.current)||void 0===e?void 0:e.value,"'?"),cb:function(e){var t;ae({Account:null===(t=E.current)||void 0===t?void 0:t.value,userCodeConfirmation:e})}})},children:"Delete"})]})]})]})}var B=function(e){var t=e.inputRef,n=e.label,r=e.gridRow,i=(0,u.useId)();return(0,Z.jsxs)("div",{style:{display:"flex",columnGap:"5px",gridRow:r},children:[(0,Z.jsx)("input",{id:i,ref:t,type:"checkbox",style:{cursor:"pointer"}}),(0,Z.jsx)("label",{htmlFor:i,style:{fontSize:"12px",cursor:"pointer"},children:n})]})};function D(e,t){Object.entries(t).forEach((function(t){var n=(0,o.Z)(t,2),r=n[0],i=n[1];e({type:"UPDATE_FIELD",field:r,value:i})}))}},64230:function(e,t,n){n.d(t,{L:function(){return l},s:function(){return u}});var r=n(74165),i=n(15861),c=n(21830),o=n.n(c);function u(e){var t;o().fire({title:null!==e&&void 0!==e&&e.title?null===e||void 0===e?void 0:e.title:"Are you sure!",html:null!==e&&void 0!==e&&e.text?null===e||void 0===e?void 0:e.text:e.isUpdate?"Are you sure you want to make this change?":"Are you sure you want to delete this?",icon:"warning",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:null!==e&&void 0!==e&&e.saveTitle?null===e||void 0===e?void 0:e.saveTitle:"Save",confirmButtonColor:"green",showLoaderOnConfirm:!0,cancelButtonText:null!==e&&void 0!==e&&e.cancelTitle?null===e||void 0===e?void 0:e.cancelTitle:"Cancel",cancelButtonColor:"#d33",preConfirm:function(n){return(t=t||(0,i.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e.cb(n)}catch(r){o().showValidationMessage("\n            Request failed: ".concat(r,"\n          "))}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)},allowOutsideClick:function(){return!o().isLoading()}}).then((function(t){if(t.isConfirmed&&e.isConfirm)return e.isConfirm();e.isDeclined&&e.isDeclined()}))}function l(e){o().fire({title:"Are you sure?",text:null!==e&&void 0!==e&&e.text?null===e||void 0===e?void 0:e.text:"Do you want to proceed with saving?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, save it!"}).then((function(t){if(t.isConfirmed&&e.isConfirm)return e.isConfirm();e.isDeclined&&e.isDeclined()}))}},42419:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),c=n(80184),o=(0,i.default)((0,c.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=o},27247:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),c=n(80184),o=(0,i.default)((0,c.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=o},53329:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),c=n(80184),o=(0,i.default)((0,c.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=o},5403:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),c=n(80184),o=(0,i.default)((0,c.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},4378:function(e,t){t.Z={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"}},96857:function(){}}]);
//# sourceMappingURL=8470.a9442374.chunk.js.map