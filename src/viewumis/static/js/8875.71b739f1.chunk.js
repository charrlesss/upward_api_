"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[8875],{70272:function(e,t,n){var r=n(54270),a=n(80184);t.Z=function(e){var t=e.title,n=void 0===t?"":t;return(0,a.jsxs)(r.q,{children:[(0,a.jsx)("title",{children:"".concat("UMIS"," - ").concat(n)}),(0,a.jsx)("link",{rel:"icon",type:"image/png",href:"".concat("/","/logo.png")})]})}},30486:function(e,t,n){n.r(t),n.d(t,{default:function(){return ee},reducer:function(){return X}});var r=n(37762),a=n(74165),o=n(15861),i=n(29439),c=n(4942),u=n(1413),l=n(72791),s=n(36151),d=n(88447),p=n(64554),f=n(13400),h=n(20890),v=n(85523),x=n(94454),m=n(68096),y=n(94925),g=n(58406),b=n(23786),w=n(67442),C=n(39709),N=n(42419),D=n(29823),S=n(21830),j=n.n(S),k=n(3380),T=n(91933),Z=n(79018),I=n(84669),A=n(71652),E=n(12752),R=n(48439),z=n(95643),_={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037"},M=n(5519),L=n(64230),F=n(53329),B=n(15703),V=n(42249),P=n(85545),O=n(84072),U=n(16386),W=n(8604),J=n(70272),K=n(48910),G=n(65413),H=n(637),q=n(5403),Y=n(80184),Q={totalDebit:"",totalCredit:"",totalBalance:"",jobAutoExp:!1,jobTransactionDate:new Date,jobType:"",search:""},X=function(e,t){return"UPDATE_FIELD"===t.type?(0,u.Z)((0,u.Z)({},e),{},(0,c.Z)({},t.field,t.value)):e},$=[{key:"code",label:"Code",width:150},{key:"acctName",label:"Account Name",width:300},{key:"subAcctName",label:"Sub Account",width:170},{key:"ClientName",label:"Name",width:300},{key:"debit",label:"Debit",width:120,type:"number"},{key:"credit",label:"Credit",width:120,type:"number"},{key:"TC_Code",label:"TC",width:120},{key:"remarks",label:"Remarks",flex:1,width:300},{key:"vatType",label:"Vat Type",width:120},{key:"invoice",label:"Invoice",width:200},{key:"TempID",label:"TempId",hide:!0},{key:"IDNo",label:"I.D.",width:300,hide:!0},{key:"BranchCode",label:"BranchCode",width:300,hide:!0}];function ee(){var e,t,n,c,u,S,ee,ne,re,ae,oe=(0,H.Z)().executeQueryToClient,ie=(0,l.useState)(""),ce=(0,i.Z)(ie,2),ue=ce[0],le=ce[1],se=(0,l.useState)({totalRow:"0",totalDebit:"0.00",totalCredit:"0.00",balance:"0.00"}),de=(0,i.Z)(se,2),pe=de[0],fe=de[1],he=(0,l.useState)(!1),ve=(0,i.Z)(he,2),xe=ve[0],me=ve[1],ye=(0,l.useRef)(null),ge=(0,l.useRef)(null),be=(0,l.useRef)(null),we=(0,l.useRef)(null),Ce=(0,l.useRef)(null),Ne=(0,l.useRef)(null),De=(0,l.useRef)(null),Se=(0,l.useRef)(null),je=(0,l.useRef)(null),ke=(0,l.useRef)(null),Te=(0,l.useRef)(null),Ze=(0,l.useRef)(null),Ie=(0,l.useRef)(null),Ae=(0,l.useRef)(null),Ee=(0,l.useRef)(null),Re=(0,l.useRef)(""),ze=(0,l.useRef)(""),_e=(0,l.useRef)(""),Me=(0,l.useContext)(k.V),Le=Me.myAxios,Fe=Me.user,Be=(0,l.useReducer)(X,Q),Ve=(0,i.Z)(Be,2),Pe=Ve[0],Oe=Ve[1],Ue=(0,l.useState)(!1),We=(0,i.Z)(Ue,2),Je=We[0],Ke=We[1],Ge=(0,l.useRef)(null),He="add"===ue,qe="update"===ue,Ye=""===ue,Qe=(0,T.useQuery)({queryKey:"general-journal-id-generator",queryFn:function(){return(e=e||(0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.get("/task/accounting/general-journal/get-general-journal-id",{headers:{Authorization:"Bearer ".concat(null===Fe||void 0===Fe?void 0:Fe.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},refetchOnWindowFocus:!1,onSuccess:function(e){var t,n=e;qe?Oe({type:"UPDATE_FIELD",field:"refNo",value:null!==(t=Pe.sub_refNo)&&void 0!==t?t:""}):(0,Z.D)(100).then((function(){ge.current&&(ge.current.value=n.data.generateGeneralJournalID[0].general_journal_id),be.current&&(be.current.value=n.data.generateGeneralJournalID[0].general_journal_id),Ae.current&&(Ae.current.value="Non-VAT")}))}}),Xe=Qe.isLoading,$e=Qe.refetch,et=(0,T.useMutation)({mutationKey:"add-journal-voucher",mutationFn:function(e){return(t=t||(0,o.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.post("/task/accounting/general-journal/add-general-journal",t,{headers:{Authorization:"Bearer ".concat(null===Fe||void 0===Fe?void 0:Fe.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;return t.data.success?j().fire({position:"center",icon:"success",title:t.data.message,timer:1500}).then((function(){j().fire({text:"Do you want to print it?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, print it!"}).then((function(e){if(e.isConfirmed){var t,n,r,a=Ge.current.getData().map((function(e){return{code:e[0],acctName:e[1],subAcctName:e[2],ClientName:e[3],debit:e[4],credit:e[5],TC_Code:e[6],remarks:e[7],vatType:e[8],invoice:e[9],TempID:e[10],IDNo:e[11],BranchCode:e[12]}}));jt({JVNo:null===(t=ge.current)||void 0===t?void 0:t.value,JVDate:null===(n=we.current)||void 0===n?void 0:n.value,JVExp:null===(r=Ce.current)||void 0===r?void 0:r.value,generalJournal:a,reportTitle:"UPWARD MANAGEMENT INSURANCE SERVICES"})}(0,Z.D)(100).then((function(){_t(),Mt(),Lt(),Ft(),le("")}))}))})):j().fire({position:"center",icon:"warning",title:t.data.message,timer:1500})}}),tt=et.mutate,nt=et.isLoading,rt=(0,T.useMutation)({mutationKey:"void-journal-voucher",mutationFn:function(e){return(n=n||(0,o.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.post("/task/accounting/general-journal/void-general-journal",t,{headers:{Authorization:"Bearer ".concat(null===Fe||void 0===Fe?void 0:Fe.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;return t.data.success?(_t(),Mt(),Lt(),Ft(),le(""),j().fire({position:"center",icon:"success",title:t.data.message,timer:1500})):j().fire({position:"center",icon:"warning",title:t.data.message,timer:1500})}}),at=rt.mutate,ot=rt.isLoading,it=(0,T.useMutation)({mutationKey:"get-selected-search-general-journal",mutationFn:function(e){return(c=c||(0,o.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.post("/task/accounting/general-journal/get-selected-search-general-journal",t,{headers:{Authorization:"Bearer ".concat(null===Fe||void 0===Fe?void 0:Fe.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e.data.getSelectedSearchGeneralJournal,n=t[0],r=n.explanation,a=n.dateEntry,o=n.refNo;ge.current&&(ge.current.value=o),we.current&&(we.current.value=(0,U.Z)(new Date(a),"yyyy-MM-dd")),Ce.current&&(Ce.current.value=r),console.log(t),Ge.current.setDataFormated(t),zt()}}),ct=it.mutate,ut=it.isLoading,lt=(0,K._j)({size:"medium",link:"/task/accounting/general-journal/search-general-journal",column:[{key:"Date_Entry",headerName:"Date",width:130},{key:"Source_No",headerName:"Ref No.",width:150},{key:"Explanation",headerName:"Explanation",width:300}],getSelectedItem:function(e,t,n,r){return(u=u||(0,o.Z)((0,a.Z)().mark((function e(t,n,r,o){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&((0,Z.D)(100).then((function(){ct({Source_No:t[1]}),le("update"),Ge.current.resetTable(),It()})),pt());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),st=lt.UpwardTableModalSearch,dt=lt.openModal,pt=lt.closeModal,ft=(0,K._j)({size:"medium",link:"/task/accounting/general-journal/get-chart-account",column:[{key:"Acct_Code",label:"Account Code",width:130},{key:"Acct_Title",label:"Account Title.",width:250},{key:"Short",label:"Short",width:300}],getSelectedItem:function(e,t,n,r){return(S=S||(0,o.Z)((0,a.Z)().mark((function e(t,n,r,o){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&((0,Z.D)(100).then((function(){var e;Ne.current&&(Ne.current.value=t[0]),De.current&&(De.current.value=t[1]),null===(e=je.current)||void 0===e||e.focus()})),xt());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),ht=ft.UpwardTableModalSearch,vt=ft.openModal,xt=ft.closeModal,mt=(0,K._j)({size:"medium",link:"/task/accounting/search-pdc-policy-id",column:[{key:"Type",label:"Type",width:130},{key:"IDNo",label:"ID No.",width:150},{key:"Name",label:"Name",width:300},{key:"ID",label:"ID",hide:!0},{key:"client_id",label:"client_id",hide:!0},{key:"sub_account",label:"sub_account",hide:!0},{key:"ShortName",label:"ShortName",hide:!0}],getSelectedItem:function(e,t,n,r){return(ee=ee||(0,o.Z)((0,a.Z)().mark((function e(t,n,r,o){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&((0,Z.D)(100).then((function(){var e,n,r;je.current&&(je.current.value=null!==(n=t[2])&&void 0!==n?n:"");Se.current&&(Se.current.value=null!==(r=t[6])&&void 0!==r?r:"");Re.current=t[1],ze.current=t[5],null===(e=ke.current)||void 0===e||e.focus()})),bt());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),yt=mt.UpwardTableModalSearch,gt=mt.openModal,bt=mt.closeModal,wt=(0,K._j)({link:"/task/accounting/general-journal/get-transaction-account",column:[{key:"Code",label:"Code",width:130},{key:"Description",label:"Description",width:300}],getSelectedItem:function(e,t,n,r){return(ne=ne||(0,o.Z)((0,a.Z)().mark((function e(t,n,r,o){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&((0,Z.D)(100).then((function(){var e;Ze.current&&(Ze.current.value=t[0]),_e.current=t[1],null===(e=Ie.current)||void 0===e||e.focus()})),Dt());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),Ct=wt.UpwardTableModalSearch,Nt=wt.openModal,Dt=wt.closeModal,St=(0,T.useMutation)({mutationKey:"print",mutationFn:function(e){return(re=re||(0,o.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.post("/task/accounting/general-journal/print",t,{responseType:"arraybuffer",headers:{Authorization:"Bearer ".concat(null===Fe||void 0===Fe?void 0:Fe.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=new Blob([e.data],{type:"application/pdf"}),n=URL.createObjectURL(t);window.open("/".concat("UMIS","/dashboard/report?pdf=").concat(encodeURIComponent(n)),"_blank")}}),jt=St.mutate,kt=St.isLoading,Tt=(0,l.useCallback)((function(){var e,t;if(""===(null===(e=ge.current)||void 0===e?void 0:e.value))return j().fire({position:"center",icon:"warning",title:"Please provide reference number!",timer:1500});if(""===(null===(t=Ce.current)||void 0===t?void 0:t.value))return j().fire({position:"center",icon:"warning",title:"Please provide explanation!",timer:1500}).then((function(){(0,Z.D)(300).then((function(){var e;null===(e=Ce.current)||void 0===e||e.focus()}))}));if(parseFloat(pe.totalDebit.replace(/,/g,""))<=0||parseFloat(pe.totalCredit.replace(/,/g,""))<=0)return j().fire({position:"center",icon:"warning",title:"Total Debit and Credit amount must not be zero(0), please double check the entries",timer:1500}).then((function(){(0,Z.D)(300).then((function(){}))}));if(pe.totalDebit!==pe.totalCredit)return j().fire({position:"center",icon:"warning",title:"Total Debit and Credit amount must be balance, please double check the entries",timer:1500}).then((function(){(0,Z.D)(300).then((function(){}))}));var n=Ge.current.getData().map((function(e){return{code:e[0],acctName:e[1],subAcctName:e[2],ClientName:e[3],debit:e[4],credit:e[5],TC_Code:e[6],remarks:e[7],vatType:e[8],invoice:e[9],TempID:e[10],IDNo:e[11],BranchCode:e[12]}}));qe?(0,L.s)({isUpdate:!0,cb:function(e){var t,r,a;tt({hasSelected:!0,refNo:null===(t=ge.current)||void 0===t?void 0:t.value,dateEntry:null===(r=we.current)||void 0===r?void 0:r.value,explanation:null===(a=Ce.current)||void 0===a?void 0:a.value,generalJournal:n,userCodeConfirmation:e})}}):(0,L.L)({isConfirm:function(){var e,t,r;tt({hasSelected:!1,refNo:null===(e=ge.current)||void 0===e?void 0:e.value,dateEntry:null===(t=we.current)||void 0===t?void 0:t.value,explanation:null===(r=Ce.current)||void 0===r?void 0:r.value,generalJournal:n})}})}),[pe,tt,qe]);function Zt(){(0,L.s)({isUpdate:!1,text:"Are you sure you want to void ".concat(Pe.refNo),cb:function(e){var t,n;at({refNo:null===(t=ge.current)||void 0===t?void 0:t.value,dateEntry:null===(n=we.current)||void 0===n?void 0:n.value,userCodeConfirmation:e})}})}function It(){Ne.current&&(Ne.current.value=""),De.current&&(De.current.value=""),je.current&&(je.current.value=""),Se.current&&(Se.current.value=""),Ze.current&&(Ze.current.value=""),ke.current&&(ke.current.value=""),Te.current&&(Te.current.value=""),Ie.current&&(Ie.current.value=""),Ae.current&&(Ae.current.value="Non-VAT"),Ee.current&&(Ee.current.value=""),_e.current="",Re.current="",ze.current=""}function At(){var e,t,n,r,a,o,i;if(Ne.current&&""===Ne.current.value)return j().fire({position:"center",icon:"warning",title:"Code is required!",timer:1500}).then((function(){(0,Z.D)(300).then((function(){return vt(Pe.code)}))}));if(je.current&&""===je.current.value)return j().fire({position:"center",icon:"warning",title:"ID is required!",timer:1500}).then((function(){(0,Z.D)(300).then((function(){var e;return gt(null===(e=je.current)||void 0===e?void 0:e.value)}))}));if(ke.current&&isNaN(parseFloat(null===(e=ke.current)||void 0===e?void 0:e.value.replace(/,/g,""))))return j().fire({position:"center",icon:"warning",title:"Debit is required!",timer:1500}).then((function(){(0,Z.D)(300).then((function(){var e;null===(e=ke.current)||void 0===e||e.focus()}))}));if(Te.current&&isNaN(parseFloat(null===(t=Te.current)||void 0===t?void 0:t.value.replace(/,/g,""))))return j().fire({position:"center",icon:"warning",title:"Credit is required!",timer:1500}).then((function(){(0,Z.D)(300).then((function(){var e;null===(e=Te.current)||void 0===e||e.focus()}))}));if(ke.current&&Te.current&&0===parseFloat(null===(n=Te.current)||void 0===n?void 0:n.value.replace(/,/g,""))&&0===parseFloat(null===(r=ke.current)||void 0===r?void 0:r.value.replace(/,/g,"")))return j().fire({position:"center",icon:"warning",title:"Credit and Debit must be different!",timer:1500}).then((function(){(0,Z.D)(300).then((function(){var e;null===(e=Te.current)||void 0===e||e.focus()}))}));if(Ze.current&&""===(null===(a=Ze.current)||void 0===a?void 0:a.value))return j().fire({position:"center",icon:"warning",title:"TC is required!",timer:1500}).then((function(){(0,Z.D)(300).then((function(){Nt(Pe.TC_Code)}))}));if(Ne.current&&(null===(o=Ne.current)||void 0===o?void 0:o.value.length)>=200)return j().fire({position:"center",icon:"warning",title:"Code is too long!",timer:1500}).then((function(){(0,Z.D)(300).then((function(){var e;null===(e=Ne.current)||void 0===e||e.focus()}))}));if(je.current&&(null===(i=je.current)||void 0===i?void 0:i.value.length)>=200)return j().fire({position:"center",icon:"warning",title:"Client name is too long!",timer:1500}).then((function(){(0,Z.D)(300).then((function(){var e;null===(e=je.current)||void 0===e||e.focus()}))}));if(Ze.current&&Ze.current.value.length>=200)return j().fire({position:"center",icon:"warning",title:"TC is too long!",timer:1500}).then((function(){(0,Z.D)(300).then((function(){var e;null===(e=Ze.current)||void 0===e||e.focus()}))}));if(Ee.current&&Ee.current.value.length>=200)return j().fire({position:"center",icon:"warning",title:"Invoice is too long!",timer:1500}).then((function(){(0,Z.D)(300).then((function(){var e;null===(e=Ee.current)||void 0===e||e.focus()}))}));var c=Ge.current.getSelectedRow(),u=null!==c;j().fire({title:u?"Are you sure you want to update row?":"Are you sure you want to add new row?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:u?"Yes, update it!":"Yes Add it"}).then((function(e){if(e.isConfirmed&&Ne.current&&De.current&&Se.current&&je.current&&ke.current&&Te.current&&Ze.current&&Ie.current&&Ae.current&&Ee.current){var t=Ge.current.getData(),n=[Ne.current.value,De.current.value,Se.current.value,je.current.value,ke.current.value,Te.current.value,Ze.current.value,Ie.current.value,Ae.current.value,Ee.current.value,Re.current,Re.current,ze.current],r=[],a=0;if("VAT"===n[8]&&"1.06.02"!==n[0]){var o=parseFloat(n[4].replace(/,/g,"")),i=parseFloat(n[5].replace(/,/g,""));o>0?(a=o/1.12,n[4]=Bt(a)):(a=i/1.12,n[5]=Bt(a));var l=.12*a,s="",d="";o>0?(s=Bt(l),d=n[5]):(d=Bt(l),s=n[4]),r=["1.06.02","Input Tax",Se.current.value,je.current.value,s,d,Ze.current.value,Ie.current.value,Ae.current.value,Ee.current.value,Re.current,Re.current,ze.current]}u?(t[c]=n,Ge.current.setSelectedRow(null),Ge.current.resetCheckBox(null)):t[t.length]=n,Ge.current.setData(t),setTimeout((function(){if("VAT"===n[8]&&"1.06.02"!==n[0]){var e=Ge.current.getData();u?e.splice(c+1,0,r):e[e.length]=r,Ge.current.setData(e)}It()}),100),setTimeout((function(){Ne.current&&Ne.current.focus()}),350),zt()}}))}function Et(){Ke((function(e){return!e}))}function Rt(){_t(),Mt(),Lt(),Ft(),le("")}function zt(){setTimeout((function(){var e=Ge.current.getData(),t=e.reduce((function(e,t){return e+parseFloat(t[5].replace(/,/g,""))}),0),n=e.reduce((function(e,t){return e+parseFloat(t[4].replace(/,/g,""))}),0);fe({totalRow:"".concat(e.length),totalCredit:Bt(t),totalDebit:Bt(n),balance:Bt(t-n)})}),200)}function _t(){$e(),we.current&&(we.current.value=(0,U.Z)(new Date,"yyyy-MM-dd")),Ce.current&&(Ce.current.value="")}function Mt(){Ne.current&&(Ne.current.value=""),De.current&&(De.current.value=""),Se.current&&(Se.current.value=""),je.current&&(je.current.value=""),ke.current&&(ke.current.value=""),Te.current&&(Te.current.value=""),Ze.current&&(Ze.current.value=""),Ie.current&&(Ie.current.value=""),Ae.current&&(Ae.current.value="Non-VAT"),Ee.current&&(Ee.current.value="")}function Lt(){Ge.current.resetTable()}function Ft(){fe({totalRow:"0",totalDebit:"0.00",totalCredit:"0.00",balance:"0.00"})}function Bt(e){return e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}return(0,l.useEffect)((function(){var e=function(e){(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),Tt())};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[Tt]),(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(J.Z,{title:"General Journal"}),(0,Y.jsx)(Ct,{}),(0,Y.jsx)(yt,{}),(0,Y.jsx)(ht,{}),(0,Y.jsx)(st,{}),(ut||xe||nt||ot||kt)&&(0,Y.jsx)(G.g,{}),(0,Y.jsxs)("div",{className:"main",style:{display:"flex",flexDirection:"column",width:"100%",height:"auto",flex:1,padding:"10px",background:"#F1F1F1",rowGap:"10px",position:"relative"},children:[(0,Y.jsx)("div",{style:{display:"flex",alignItems:"center",columnGap:"5px"},children:(0,Y.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"5px",width:"100%"},children:[(0,Y.jsx)(B.oi,{containerClassName:"search-input",label:{title:"Search: ",style:{fontSize:"12px",fontWeight:"bold",width:"50px"}},input:{className:"search-input-up-on-key-down",type:"search",onKeyDown:function(e){("Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),dt(e.currentTarget.value)),"ArrowDown"===e.key)&&(e.preventDefault(),document.querySelector(".grid-container").focus())},style:{width:"500px"}},icon:(0,Y.jsx)(q.Z,{sx:{fontSize:"18px"}}),onIconClick:function(e){e.preventDefault(),ye.current&&dt(ye.current.value)},inputRef:ye}),(0,Y.jsxs)("div",{className:"general-journal-desktop-buttons",style:{display:"flex",alignItems:"center",columnGap:"10px"},children:[Ye&&(0,Y.jsx)(s.Z,{sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,Y.jsx)(N.Z,{sx:{width:15,height:15}}),id:"entry-header-save-button",onClick:function(){le("add")},color:"primary",children:"New"}),(0,Y.jsx)(C.Z,{sx:{height:"22px",fontSize:"11px"},loading:nt,disabled:Ye,onClick:Tt,color:"success",variant:"contained",children:"Save"}),(He||qe)&&(0,Y.jsx)(C.Z,{sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,Y.jsx)(D.Z,{sx:{width:15,height:15}}),color:"error",onClick:function(){j().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&Rt()}))},disabled:Ye,children:"Cancel"}),(0,Y.jsx)(C.Z,{sx:{height:"22px",fontSize:"11px",background:z.Z[500],":hover":{background:z.Z[600]}},onClick:Zt,loading:ot,disabled:Ye,variant:"contained",startIcon:(0,Y.jsx)(I.Z,{sx:{width:20,height:20}}),children:"Void"}),(0,Y.jsx)(C.Z,{sx:{height:"22px",fontSize:"11px",background:_[500],":hover":{background:_[600]}},onClick:Et,variant:"contained",startIcon:(0,Y.jsx)(w.Z,{sx:{width:20,height:20}}),children:"Jobs"}),(0,Y.jsx)(s.Z,{disabled:Ye,id:"basic-button","aria-haspopup":"true",onClick:function(){var e,t,n,r=Ge.current.getData().map((function(e){return{code:e[0],acctName:e[1],subAcctName:e[2],ClientName:e[3],debit:e[4],credit:e[5],TC_Code:e[6],remarks:e[7],vatType:e[8],invoice:e[9],TempID:e[10],IDNo:e[11],BranchCode:e[12]}}));jt({JVNo:null===(e=ge.current)||void 0===e?void 0:e.value,JVDate:null===(t=we.current)||void 0===t?void 0:t.value,JVExp:null===(n=Ce.current)||void 0===n?void 0:n.value,generalJournal:r,reportTitle:"UPWARD MANAGEMENT INSURANCE SERVICES"})},sx:{height:"22px",fontSize:"11px",color:"white",backgroundColor:M.Z[600],"&:hover":{backgroundColor:M.Z[700]}},children:"Print"})]})]})}),(0,Y.jsxs)("div",{className:"layer-one",style:{position:"relative",width:"100%",height:"auto",display:"flex",marginTop:"10px",gap:"10px",padding:"5px"},children:[Xe?(0,Y.jsx)(C.Z,{loading:Xe}):(0,Y.jsx)(B.oi,{containerClassName:"custom-input",label:{title:"Ref. No. : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:Ye||qe,type:"text",style:{width:"190px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=we.current)||void 0===t||t.focus())}},inputRef:ge}),(0,Y.jsx)(B.oi,{containerClassName:"custom-input",label:{title:"Date : ",style:{fontSize:"12px",fontWeight:"bold",width:"50px"}},input:{defaultValue:(0,U.Z)(new Date,"yyyy-MM-dd"),disabled:Ye,type:"date",style:{width:"190px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=Ce.current)||void 0===t||t.focus())}},inputRef:we}),(0,Y.jsx)(B.oi,{containerClassName:"custom-input",label:{title:"Explanation : ",style:{fontSize:"12px",fontWeight:"bold",width:"90px"}},input:{disabled:Ye,type:"text",style:{width:"600px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=Ne.current)||void 0===t||t.focus())}},inputRef:Ce})]}),(0,Y.jsxs)("fieldset",{className:"layer-two",style:{border:"1px solid #cbd5e1",borderRadius:"5px",position:"relative",width:"100%",height:"auto",marginTop:"10px",padding:"15px"},children:[(0,Y.jsxs)("div",{className:"layer-two-main-div-container",style:{display:"flex",gap:"10px"},children:[(0,Y.jsx)(B.oi,{containerClassName:"custom-input ",label:{title:"Code : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:Ye,type:"text",style:{width:"190px"},onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),Ne.current&&vt(Ne.current.value))}},inputRef:Ne,icon:(0,Y.jsx)(V.Z,{sx:{fontSize:"18px",color:Ye?"gray":"black"}}),onIconClick:function(e){e.preventDefault(),Ne.current&&vt(Ne.current.value)},disableIcon:Ye}),(0,Y.jsx)(B.oi,{containerClassName:"custom-input ",label:{title:"Account Name : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:Ye,type:"text",style:{width:"190px"},readOnly:!0,onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=Se.current)||void 0===t||t.focus())}},inputRef:De}),(0,Y.jsx)(B.oi,{containerClassName:"custom-input ",label:{title:"Sub Account : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:Ye,type:"text",style:{width:"190px"},readOnly:!0,onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=je.current)||void 0===t||t.focus())}},inputRef:Se}),(0,Y.jsx)(B.oi,{containerClassName:"custom-input ",label:{title:"I.D : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:Ye,type:"text",style:{width:"300px"},onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),je.current&&gt(e.currentTarget.value))}},inputRef:je,icon:(0,Y.jsx)(P.Z,{sx:{fontSize:"18px",color:Ye?"gray":"black"}}),onIconClick:function(e){e.preventDefault(),je.current&&gt(je.current.value)},disableIcon:Ye})]}),(0,Y.jsxs)("div",{className:"layer-two-main-div-container",style:{display:"flex",gap:"10px",marginTop:"10px"},children:[(0,Y.jsx)(B.iA,{containerClassName:"custom-input ",label:{title:"Debit : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:Ye,type:"text",style:{width:"190px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=Te.current)||void 0===t||t.focus())}},inputRef:ke}),(0,Y.jsx)(B.iA,{containerClassName:"custom-input ",label:{title:"Credit : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:Ye,type:"text",style:{width:"190px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=Ze.current)||void 0===t||t.focus())}},inputRef:Te}),(0,Y.jsx)(B.oi,{containerClassName:"custom-input ",label:{title:"TC : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:Ye,type:"text",style:{width:"190px"},onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),Ze.current&&Nt(e.currentTarget.value))}},inputRef:Ze,icon:(0,Y.jsx)(O.Z,{sx:{fontSize:"18px",color:Ye?"gray":"black"}}),onIconClick:function(e){e.preventDefault(),Ze.current&&Nt(Ze.current.value)},disableIcon:Ye}),(0,Y.jsx)(B.oi,{containerClassName:"custom-input ",label:{title:"Remarks : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:Ye,type:"text",style:{width:"300px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=Ae.current)||void 0===t||t.focus())}},inputRef:Ie})]}),(0,Y.jsxs)("div",{className:"layer-two-main-div-container",style:{display:"flex",gap:"10px",marginTop:"10px"},children:[(0,Y.jsx)(B.lq,{containerClassName:"custom-input ",label:{title:"Vat Type : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},selectRef:Ae,select:{disabled:Ye,style:{width:"190px",height:"22px"},defaultValue:"Non-VAT",onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(e.preventDefault(),null===(t=Ee.current)||void 0===t||t.focus())}},datasource:[{key:"VAT"},{key:"Non-VAT"}],values:"key",display:"key"}),(0,Y.jsx)(B.oi,{containerClassName:"custom-input ",label:{title:"OR/Invoice No. : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:Ye,type:"text",style:{width:"300px"},onKeyDown:function(e){"NumpadEnter"!==e.code&&"Enter"!==e.code||(e.preventDefault(),At())}},inputRef:Ee}),(0,Y.jsx)(s.Z,{disabled:Ye,sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,Y.jsx)(F.Z,{sx:{fontSize:"12px"}}),onClick:function(){At()},color:"success",children:"Save Row"})]})]}),(0,Y.jsx)(K.BW,{containerStyle:{flex:1,height:"auto",minHeight:"200px"},ref:Ge,columns:$,height:"380px",getSelectedItem:function(e){e?(Re.current=e[11],ze.current=e[12],Ne.current&&(Ne.current.value=e[0]),De.current&&(De.current.value=e[1]),Se.current&&(Se.current.value=e[2]),je.current&&(je.current.value=e[3]),ke.current&&(ke.current.value=e[4]),Te.current&&(Te.current.value=e[5]),Ze.current&&(Ze.current.value=e[6]),Ie.current&&(Ie.current.value=e[7]),Ae.current&&(Ae.current.value=e[8]),Ee.current&&(Ee.current.value=e[9])):It()},onKeyDown:function(e,t,n){if(("Delete"===n.code||"Backspace"===n.code)&&window.confirm("Are you sure you want to delete?")){var r=Ge.current.getData();return r.splice(t,1),Ge.current.setData(r),void setTimeout((function(){zt()}),200)}}}),(0,Y.jsxs)("div",{className:"footer-table",style:{fontSize:"13px",border:"1px solid #d4d4d8",width:"100%",display:"flex",columnGap:"50px",height:"30px",alignItems:"center",justifyContent:"flex-end",padding:"0px 10px"},children:[(0,Y.jsxs)("div",{style:{margin:0,padding:0,color:"black",display:"flex",columnGap:"10px",alignItems:"flex-end"},children:[(0,Y.jsx)("div",{style:{fontSize:"12px"},children:"Total Rows:"}),(0,Y.jsx)("div",{style:{background:"white",padding:"0px 10px",textAlign:"right",width:"100px",fontWeight:"bold"},children:pe.totalRow})]}),(0,Y.jsxs)("div",{style:{margin:0,padding:0,color:"black",display:"flex",columnGap:"10px",alignItems:"flex-end"},children:[(0,Y.jsx)("div",{style:{fontSize:"12px"},children:"Total Debit:"}),(0,Y.jsx)("div",{style:{background:"white",padding:"0px 10px",textAlign:"right",width:"100px",fontWeight:"bold"},children:pe.totalDebit})]}),(0,Y.jsxs)("div",{style:{margin:0,padding:0,color:"black",display:"flex",columnGap:"10px",alignItems:"flex-end"},children:[(0,Y.jsx)("div",{style:{fontSize:"12px"},children:"Total Credit:"}),(0,Y.jsx)("div",{style:{background:"white",padding:"0px 10px",textAlign:"right",width:"100px",fontWeight:"bold"},children:pe.totalCredit})]}),(0,Y.jsxs)("div",{style:{margin:0,padding:0,color:"black",display:"flex",columnGap:"10px",alignItems:"flex-end"},children:[(0,Y.jsx)("div",{style:{fontSize:"12px"},children:"Balance:"})," ",(0,Y.jsx)("div",{style:{color:0!==parseInt(pe.balance.replace(/,/g,""))?"red":"black",background:"white",padding:"0px 10px",textAlign:"right",width:"100px",fontWeight:"bold"},children:pe.balance})]})]}),(0,Y.jsx)(d.Z,{open:Je,onClose:function(){return Ke(!1)},children:(0,Y.jsxs)(p.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:470,bgcolor:"background.paper",p:4},children:[(0,Y.jsx)(f.Z,{style:{position:"absolute",top:"10px",right:"10px"},"aria-label":"search-client",onClick:function(){return Ke(!1)},children:(0,Y.jsx)(D.Z,{})}),(0,Y.jsx)(h.Z,{id:"modal-modal-title",variant:"h6",component:"h2",sx:{marginBottom:"20px"},children:"Jobs"}),(0,Y.jsxs)("div",{style:{width:"400px"},children:[(0,Y.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"10px",justifyContent:"space-between",alignItems:"center"},children:[(0,Y.jsx)(A._,{dateAdapter:E.H,children:(0,Y.jsx)(R.M,{sx:{width:"200px",".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},slotProps:{textField:{size:"small",name:"",InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}}},label:"Transaction Date: ",views:["month","year"],value:Pe.jobTransactionDate,onChange:function(e){Oe({type:"UPDATE_FIELD",field:"jobTransactionDate",value:e})}})}),(0,Y.jsx)(v.Z,{sx:{height:"30px","& .MuiTypography-root":{fontSize:"14px"}},control:(0,Y.jsx)(x.Z,{size:"small",checked:Pe.jobAutoExp,onChange:function(e){Oe({type:"UPDATE_FIELD",field:"jobAutoExp",value:!Pe.jobAutoExp})}}),label:"Auto Explanation"})]}),(0,Y.jsxs)(m.Z,{fullWidth:!0,size:"small",variant:"outlined",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,Y.jsx)(y.Z,{id:"label-selection-job-type",children:"Type of Job"}),(0,Y.jsxs)(g.Z,{labelId:"label-selection-job-type",value:Pe.jobType,name:"jobType",onChange:function(e){var t=e.target,n=t.name,r=t.value;Oe({type:"UPDATE_FIELD",field:n,value:r})},autoWidth:!0,sx:{height:"27px",fontSize:"14px"},children:[(0,Y.jsx)(b.Z,{value:"",children:" "}),(0,Y.jsx)(b.Z,{value:"0",children:"Reversal of Accrued Interest "}),(0,Y.jsxs)(b.Z,{value:"1",children:[" ","Income Recognition & Accrual of Interest"]}),(0,Y.jsx)(b.Z,{value:"2",children:"Penalty Charges"}),(0,Y.jsx)(b.Z,{value:"3",children:"Penalty Income"}),(0,Y.jsx)(b.Z,{value:"4",children:"RPT Transaction (NIL-HN)"}),(0,Y.jsx)(b.Z,{value:"5",children:"RPT Transaction (AMIFIN)"}),(0,Y.jsx)(b.Z,{value:"6",children:"RPT Income"}),(0,Y.jsx)(b.Z,{value:"7",children:"Monthly Accrual Expenses"}),(0,Y.jsx)(b.Z,{value:"8",children:"Monthly Accrual Income"}),(0,Y.jsx)(b.Z,{value:"9",children:"Production (Milestone Guarantee)"}),(0,Y.jsx)(b.Z,{value:"10",children:"Production (Liberty Insurance Co.)"}),(0,Y.jsx)(b.Z,{value:"11",children:"Production (Federal Phoenix)"})]})]})]}),(0,Y.jsxs)("div",{style:{display:"flex",columnGap:"30px",alignItems:"flex-end",marginTop:"20px"},children:[(0,Y.jsx)(C.Z,{color:"success",variant:"contained",onClick:function(){"4"===Pe.jobType&&function(){(ae=ae||(0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:me(!0),Ke(!1),setTimeout((0,o.Z)((0,a.Z)().mark((function e(){var t,n,o,i,c,u,l,s,d,p,f,h,v,x,m,y,g,b,w,C,N,D,S,j,k;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date(Pe.jobTransactionDate),n=(0,U.Z)(t,"yyyy-MM-01-"),o=(0,U.Z)((0,W.Z)(t),"yyyy-MM-dd"),i=0,c="\n    select \n      a.PolicyNo,\n      a.IDNo,\n      (TotalDue - ifnull(b.TotalPaid,0)) as 'Amount',\n      c.Mortgagee \n    from policy a \n      left join (\n        select \n          IDNo,\n          sum(Debit) as 'TotalPaid' \n        from collection \n        group by IDNo\n      ) b on b.IDNo = a.PolicyNo \n      inner join vpolicy c on c.PolicyNo = a.PolicyNo \n      where\n      (TotalDue - ifnull(b.TotalPaid,0)) <> 0 and \n      a.PolicyType = 'TPL' and \n      c.Mortgagee = 'N I L - HN' and \n      (\n        a.DateIssued >= '".concat(n,"' and \n        a.DateIssued <= '").concat(o,"'\n      ) \n      order by a.DateIssued\n      "),u=[],e.next=8,oe(c);case 8:if(l=e.sent,s=l.data,!((d=s.data).length>0)){e.next=47;break}v=0,x=0,m=(0,r.Z)(d),e.prev=15,m.s();case 17:if((y=m.n()).done){e.next=31;break}return C=y.value,0===x?i=0:i+=1,N=C.IDNo,e.next=24,oe("SELECT Shortname ,Sub_ShortName, Sub_Acct FROM (".concat(te,") id_entry WHERE IDNo = '").concat(N,"'"));case 24:D=e.sent,S=D.data,u[i]=["1.03.01","Premium Receivables",null===(g=S.data[0])||void 0===g?void 0:g.Sub_ShortName,null===(b=S.data[0])||void 0===b?void 0:b.Shortname,"0.00",Bt(C.Amount),"RPT","","Non-VAT","",C.PolicyNo,C.PolicyNo,null===(w=S.data[0])||void 0===w?void 0:w.Sub_Acct],v+=parseFloat(C.Amount.toString().replace(/,/g,"")),x+=1;case 29:e.next=17;break;case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(15),m.e(e.t0);case 36:return e.prev=36,m.f(),e.finish(36);case 39:return e.next=41,oe("SELECT Shortname ,Sub_ShortName, Sub_Acct FROM (".concat(te,") id_entry WHERE IDNo = 'O-1024-00011'"));case 41:j=e.sent,k=j.data,u[i+1]=["1.03.01","Premium Receivables",null===(p=k.data[0])||void 0===p?void 0:p.Sub_ShortName,null===(f=k.data[0])||void 0===f?void 0:f.Shortname,Bt(v),"0.00","RPT","","Non-VAT","","1.05.02","1.05.02",null===(h=k.data[0])||void 0===h?void 0:h.Sub_Acct],Ge.current.setData(u),le("update"),Ke(!1);case 47:me(!1);case 48:case"end":return e.stop()}}),e,null,[[15,33,36,39]])}))),300);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}()},children:"Create Job"}),(0,Y.jsx)(s.Z,{color:"error",variant:"contained",onClick:function(){return Ke(!1)},children:"Cancel"})]})]})}),(0,Y.jsxs)("div",{className:"general-journal-mobile-buttons",style:{display:"none",alignItems:"center",columnGap:"10px"},children:[Ye&&(0,Y.jsx)(s.Z,{sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,Y.jsx)(N.Z,{sx:{width:15,height:15}}),id:"entry-header-save-button",onClick:function(){le("add")},color:"primary",children:"New"}),(0,Y.jsx)(C.Z,{sx:{height:"22px",fontSize:"11px"},loading:nt,disabled:Ye,onClick:Tt,color:"success",variant:"contained",children:"Save"}),(He||qe)&&(0,Y.jsx)(C.Z,{sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,Y.jsx)(D.Z,{sx:{width:15,height:15}}),color:"error",onClick:function(){j().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&Rt()}))},disabled:Ye,children:"Cancel"}),(0,Y.jsx)(C.Z,{sx:{height:"22px",fontSize:"11px",background:z.Z[500],":hover":{background:z.Z[600]}},onClick:Zt,loading:ot,disabled:Ye,variant:"contained",startIcon:(0,Y.jsx)(I.Z,{sx:{width:20,height:20}}),children:"Void"}),(0,Y.jsx)(C.Z,{sx:{height:"22px",fontSize:"11px",background:_[500],":hover":{background:_[600]}},onClick:Et,variant:"contained",startIcon:(0,Y.jsx)(w.Z,{sx:{width:20,height:20}}),children:"Jobs"}),(0,Y.jsx)(s.Z,{disabled:Ye,id:"basic-button","aria-haspopup":"true",onClick:function(){var e,t,n,r=Ge.current.getData().map((function(e){return{code:e[0],acctName:e[1],subAcctName:e[2],ClientName:e[3],debit:e[4],credit:e[5],TC_Code:e[6],remarks:e[7],vatType:e[8],invoice:e[9],TempID:e[10],IDNo:e[11],BranchCode:e[12]}}));jt({JVNo:null===(e=ge.current)||void 0===e?void 0:e.value,JVDate:null===(t=we.current)||void 0===t?void 0:t.value,JVExp:null===(n=Ce.current)||void 0===n?void 0:n.value,generalJournal:r,reportTitle:"UPWARD MANAGEMENT INSURANCE SERVICES"})},sx:{height:"22px",fontSize:"11px",color:"white",backgroundColor:M.Z[600],"&:hover":{backgroundColor:M.Z[700]}},children:"Print"})]})]})]})}var te="\nSELECT \n       id_entry.IDNo,\n       id_entry.ShortName as Shortname,\n       IDType,\n       b.Acronym as Sub_Acct,\n       b.ShortName as Sub_ShortName\n   FROM\n       (SELECT \n           IF(aa.option = 'individual', CONCAT(IF(aa.lastname IS NOT NULL\n                   AND TRIM(aa.lastname) <> '', CONCAT(aa.lastname, ', '), ''), aa.firstname), aa.company) AS ShortName,\n               aa.entry_client_id AS IDNo,\n               aa.sub_account,\n               'Client' as IDType\n       FROM\n           entry_client aa UNION ALL SELECT \n           CONCAT(IF(aa.lastname IS NOT NULL\n                   AND TRIM(aa.lastname) <> '', CONCAT(aa.lastname, ', '), ''), aa.firstname) AS ShortName,\n               aa.entry_agent_id AS IDNo,\n               aa.sub_account,\n               'Agent' as IDType\n       FROM\n           entry_agent aa UNION ALL SELECT \n           CONCAT(IF(aa.lastname IS NOT NULL\n                   AND TRIM(aa.lastname) <> '', CONCAT(aa.lastname, ', '), ''), aa.firstname) AS ShortName,\n               aa.entry_employee_id AS IDNo,\n               aa.sub_account,\n               'Employee' as IDType\n       FROM\n           entry_employee aa UNION ALL SELECT \n           aa.fullname AS ShortName,\n               aa.entry_fixed_assets_id AS IDNo,\n               sub_account,\n                'Fixed Assets' as IDType\n       FROM\n           entry_fixed_assets aa UNION ALL SELECT \n           aa.description AS ShortName,\n               aa.entry_others_id AS IDNo,\n               aa.sub_account,\n               'Others' as IDType\n       FROM\n           entry_others aa UNION ALL SELECT \n           IF(aa.option = 'individual', CONCAT(IF(aa.lastname IS NOT NULL\n                   AND TRIM(aa.lastname) <> '', CONCAT(aa.lastname, ', '), ''), aa.firstname), aa.company) AS ShortName,\n               aa.entry_supplier_id AS IDNo,\n               aa.sub_account,\n                'Supplier' as IDType\n       FROM\n           entry_supplier aa) id_entry\n      left join sub_account b ON id_entry.sub_account = b.Sub_Acct\n "},64230:function(e,t,n){n.d(t,{L:function(){return u},s:function(){return c}});var r=n(74165),a=n(15861),o=n(21830),i=n.n(o);function c(e){var t;i().fire({title:null!==e&&void 0!==e&&e.title?null===e||void 0===e?void 0:e.title:"Are you sure!",html:null!==e&&void 0!==e&&e.text?null===e||void 0===e?void 0:e.text:e.isUpdate?"Are you sure you want to make this change?":"Are you sure you want to delete this?",icon:"warning",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:null!==e&&void 0!==e&&e.saveTitle?null===e||void 0===e?void 0:e.saveTitle:"Save",confirmButtonColor:"green",showLoaderOnConfirm:!0,cancelButtonText:null!==e&&void 0!==e&&e.cancelTitle?null===e||void 0===e?void 0:e.cancelTitle:"Cancel",cancelButtonColor:"#d33",preConfirm:function(n){return(t=t||(0,a.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e.cb(n)}catch(r){i().showValidationMessage("\n            Request failed: ".concat(r,"\n          "))}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)},allowOutsideClick:function(){return!i().isLoading()}}).then((function(t){if(t.isConfirmed&&e.isConfirm)return e.isConfirm();e.isDeclined&&e.isDeclined()}))}function u(e){i().fire({title:"Are you sure?",text:null!==e&&void 0!==e&&e.text?null===e||void 0===e?void 0:e.text:"Do you want to proceed with saving?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, save it!"}).then((function(t){if(t.isConfirmed&&e.isConfirm)return e.isConfirm();e.isDeclined&&e.isDeclined()}))}},84072:function(e,t,n){var r=n(64836);t.Z=void 0;var a=r(n(45649)),o=n(80184),i=(0,a.default)((0,o.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"AccountBalanceWallet");t.Z=i},42419:function(e,t,n){var r=n(64836);t.Z=void 0;var a=r(n(45649)),o=n(80184),i=(0,a.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=i},67442:function(e,t,n){var r=n(64836);t.Z=void 0;var a=r(n(45649)),o=n(80184),i=(0,a.default)((0,o.jsx)("path",{d:"M20 6h-3V4c0-1.11-.89-2-2-2H9c-1.11 0-2 .89-2 2v2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM9 4h6v2H9V4zm11 15H4v-2h16v2zm0-5H4V8h3v2h2V8h6v2h2V8h3v6z"}),"CardTravel");t.Z=i},84669:function(e,t,n){var r=n(64836);t.Z=void 0;var a=r(n(45649)),o=n(80184),i=(0,a.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"}),"NotInterested");t.Z=i},53329:function(e,t,n){var r=n(64836);t.Z=void 0;var a=r(n(45649)),o=n(80184),i=(0,a.default)((0,o.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=i},5403:function(e,t,n){var r=n(64836);t.Z=void 0;var a=r(n(45649)),o=n(80184),i=(0,a.default)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=i},42249:function(e,t,n){var r=n(64836);t.Z=void 0;var a=r(n(45649)),o=n(80184),i=(0,a.default)((0,o.jsx)("path",{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5zM9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3zm7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75zM9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13z"}),"SupervisorAccount");t.Z=i},95643:function(e,t){t.Z={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"}},8604:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(38527),a=n(4522);function o(e){(0,a.Z)(1,arguments);var t=(0,r.Z)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}}}]);
//# sourceMappingURL=8875.71b739f1.chunk.js.map