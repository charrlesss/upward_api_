"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[4200,1004],{72738:function(e,t,n){n.r(t),n.d(t,{default:function(){return B},rateColumn:function(){return A}});var r=n(1413),i=n(74165),o=n(15861),a=n(29439),u=n(72791),c=n(36151),s=n(42419),l=n(27247),d=n(4378),f=n(3380),p=n(91933),h=n(21830),x=n.n(h),v=n(79018),m=n(29823),y=n(53329),w=n(39709),g=n(64230),b=n(70272),C=n(15703),k=n(5403),Z=n(50039),S=n(65413),j=n(58418),D=(n(96857),n(80184)),A=[{key:"Account",label:"Account",width:200},{key:"Line",label:"Line",width:120},{key:"Type",label:"Type",width:300},{key:"Rate",label:"Rate",width:120,type:"number"},{key:"ID",label:"ID",width:100,hide:!0}];function B(){var e,t,n,h,B,R=(0,u.useContext)(f.V),z=R.myAxios,L=R.user,I=(0,u.useRef)(null),T=(0,u.useState)(""),N=(0,a.Z)(T,2),M=N[0],E=N[1],K=(0,u.useRef)(null),F=(0,u.useRef)(null),W=(0,u.useRef)(null),G=(0,u.useRef)(null),P=(0,u.useRef)(null),V=(0,u.useRef)(null),Y=(0,u.useRef)(""),U=(0,p.useMutation)({mutationKey:"get-accounts-from-rates",mutationFn:function(t){return(e=e||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/reference/get-accounts-from-rates",t,{headers:{Authorization:"Bearer ".concat(null===L||void 0===L?void 0:L.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){e.data.success&&(0,v.D)(100).then((function(){W.current.setDataSource(e.data.data)}))}}),H=U.mutate,q=U.isLoading,J=(0,u.useRef)(H),O=(0,p.useMutation)({mutationKey:"search-mortgagee",mutationFn:function(e){return(t=t||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/reference/search-rates",t,{headers:{Authorization:"Bearer ".concat(null===L||void 0===L?void 0:L.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){e.data.success&&(console.log(e.data),(0,v.D)(100).then((function(){K.current.setDataFormated(e.data.data)})))}}),Q=O.mutate,X=O.isLoading,$=(0,u.useRef)(Q),_=(0,p.useMutation)({mutationKey:"add",mutationFn:function(e){return(n=n||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/reference/add-rates",t,{headers:{Authorization:"Bearer ".concat(null===L||void 0===L?void 0:L.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:le}),ee=_.mutate,te=_.isLoading,ne=(0,p.useMutation)({mutationKey:"edit",mutationFn:function(e){return(h=h||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/reference/update-rates",t,{headers:{Authorization:"Bearer ".concat(null===L||void 0===L?void 0:L.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:le}),re=ne.mutate,ie=ne.isLoading,oe=(0,p.useMutation)({mutationKey:"delete",mutationFn:function(e){return(B=B||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/reference/delete-rates",t,{headers:{Authorization:"Bearer ".concat(null===L||void 0===L?void 0:L.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:le}),ae=oe.mutate,ue=oe.isLoading;function ce(e){var t,n,i,o,a,u,c,s;if(e.preventDefault(),""===(null===(t=F.current)||void 0===t?void 0:t.value))return x().fire({position:"center",icon:"warning",title:"Please select Account",showConfirmButton:!1,timer:1500});if(""===(null===(n=G.current)||void 0===n?void 0:n.value))return x().fire({position:"center",icon:"warning",title:"Please select Line",showConfirmButton:!1,timer:1500});if(""===(null===(i=P.current)||void 0===i?void 0:i.value))return x().fire({position:"center",icon:"warning",title:"Please put Type",showConfirmButton:!1,timer:1500});if("0.00"===(null===(o=V.current)||void 0===o?void 0:o.value))return x().fire({position:"center",icon:"warning",title:"Rate must be greater than zero (0.00)",showConfirmButton:!1,timer:1500});var l={Line:null===(a=G.current)||void 0===a?void 0:a.value,Account:null===(u=F.current)||void 0===u?void 0:u.value,Type:null===(c=P.current)||void 0===c?void 0:c.value,Rate:null===(s=V.current)||void 0===s?void 0:s.value,ID:Y.current};"edit"===M?(0,g.s)({isUpdate:!0,cb:function(e){re((0,r.Z)((0,r.Z)({},l),{},{userCodeConfirmation:e}))}}):(0,g.L)({isConfirm:function(){ee(l)}})}function se(){F.current&&(F.current.value=""),G.current&&(G.current.value=""),P.current&&(P.current.value=""),V.current&&(V.current.value="0.00"),Y.current=""}function le(e){if(e.data.success)return K.current.setSelectedRow(null),K.current.resetCheckBox(),$.current({search:""}),se(),E(""),x().fire({position:"center",icon:"success",title:e.data.message,showConfirmButton:!1,timer:1500});x().fire({position:"center",icon:"error",title:e.data.message,showConfirmButton:!1,timer:1500})}return(0,u.useEffect)((function(){$.current({search:""}),J.current({})}),[]),(0,D.jsxs)(D.Fragment,{children:[(X||q)&&(0,D.jsx)(S.g,{}),(0,D.jsx)(b.Z,{title:"Rates"}),(0,D.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",flex:1,padding:"5px",position:"relative"},children:[(0,D.jsxs)("div",{style:{marginTop:"10px",marginBottom:"12px",width:"100%",display:"flex",columnGap:"7px"},children:[(0,D.jsx)(C.oi,{containerClassName:"custom-input",containerStyle:{width:"550px",marginRight:"20px"},label:{title:"Search: ",style:{fontSize:"12px",fontWeight:"bold",width:"50px"}},input:{className:"search-input-up-on-key-down",type:"search",onKeyDown:function(e){("Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),Q({search:e.currentTarget.value})),"ArrowDown"===e.key)&&(e.preventDefault(),document.querySelector(".grid-container").focus())},style:{width:"500px"}},icon:(0,D.jsx)(k.Z,{sx:{fontSize:"18px"}}),onIconClick:function(e){e.preventDefault(),I.current&&Q({search:I.current.value})},inputRef:I}),(0,D.jsxs)("div",{className:"button-action-desktop",style:{display:"flex",alignItems:"center",columnGap:"8px"},children:[""===M&&(0,D.jsx)(c.Z,{style:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,D.jsx)(s.Z,{}),id:"entry-header-save-button",onClick:function(){E("add")},children:"New"}),(0,D.jsx)(w.Z,{style:{height:"22px",fontSize:"11px"},id:"save-entry-header",color:"primary",variant:"contained",type:"submit",sx:{height:"30px",fontSize:"11px"},onClick:ce,startIcon:(0,D.jsx)(y.Z,{}),disabled:""===M,loading:te||ie,children:"Save"}),""!==M&&(0,D.jsx)(c.Z,{style:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,D.jsx)(m.Z,{}),color:"error",onClick:function(){x().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&(se(),E(""),K.current.setSelectedRow(null),K.current.resetCheckBox())}))},children:"Cancel"}),(0,D.jsx)(w.Z,{id:"save-entry-header",variant:"contained",sx:{height:"22px",fontSize:"11px",backgroundColor:d.Z[500],"&:hover":{backgroundColor:d.Z[600]}},loading:ue,startIcon:(0,D.jsx)(l.Z,{}),disabled:"edit"!==M,onClick:function(){var e;(0,g.s)({isUpdate:!1,title:"Confirmation",saveTitle:"Confirm",text:"Are you sure you want to delete '".concat(null===(e=F.current)||void 0===e?void 0:e.value,"'?"),cb:function(e){ae({ID:Y.current,userCodeConfirmation:e})}})},children:"Delete"})]})]}),(0,D.jsxs)("fieldset",{className:"container-max-width",style:{padding:"5px",width:"590px",rowGap:"5px",display:"flex",flexDirection:"column"},children:[(0,D.jsx)(j.Autocomplete,{label:{title:"Line",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{id:"auto-solo-collection",style:{width:"100%",flex:1}},width:"100%",DisplayMember:"Line",DataSource:[{Line:"Vehicle"},{Line:"Fire"},{Line:"Marine"},{Line:"Bonds"},{Line:"MSPR"},{Line:"PA"},{Line:"CGL"}],disableInput:""===M,inputRef:G,onChange:function(e,t){G.current&&(G.current.value=e.Line)},onKeydown:function(e){var t;"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),null===(t=F.current)||void 0===t||t.focus())}}),(0,D.jsx)(j.Autocomplete,{ref:W,label:{title:"Account",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{id:"auto-solo-collection",style:{width:"100%",flex:1}},width:"100%",DisplayMember:"Account",DataSource:[],disableInput:""===M||"edit"===M,inputRef:F,onChange:function(e,t){F.current&&(F.current.value=e.Account)},onKeydown:function(e){var t;"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),null===(t=P.current)||void 0===t||t.focus())}}),(0,D.jsx)(C.oi,{containerClassName:"custom-input",label:{title:"Type : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:""===M,type:"text",style:{width:"500px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(e.preventDefault(),null===(t=V.current)||void 0===t||t.focus())}},inputRef:P}),(0,D.jsx)(C.iA,{containerClassName:"custom-input",label:{title:"Cost : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{placeholder:"0.00",defaultValue:"",type:"text",style:{width:"200px"},onKeyDown:function(e){"NumpadEnter"===e.code||e.code}},inputRef:V})]}),(0,D.jsx)("div",{style:{marginTop:"10px",width:"100%",position:"relative",flex:1,display:"flex"},children:(0,D.jsx)(Z.BW,{containerStyle:{flex:1,height:"auto"},ref:K,columns:A,height:"280px",getSelectedItem:function(e){e?(E("edit"),F.current&&(F.current.value=e[0]),G.current&&(G.current.value=e[1]),P.current&&(P.current.value=e[2]),V.current&&(V.current.value=e[3]),Y.current=e[4]):se()}})}),(0,D.jsxs)("div",{className:"button-action-mobile",style:{display:"flex",alignItems:"center",columnGap:"8px"},children:[""===M&&(0,D.jsx)(c.Z,{style:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,D.jsx)(s.Z,{}),id:"entry-header-save-button",onClick:function(){E("add")},children:"New"}),(0,D.jsx)(w.Z,{style:{height:"22px",fontSize:"11px"},id:"save-entry-header",color:"primary",variant:"contained",type:"submit",sx:{height:"30px",fontSize:"11px"},onClick:ce,startIcon:(0,D.jsx)(y.Z,{}),disabled:""===M,loading:te||ie,children:"Save"}),""!==M&&(0,D.jsx)(c.Z,{style:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,D.jsx)(m.Z,{}),color:"error",onClick:function(){x().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&(se(),E(""),K.current.setSelectedRow(null),K.current.resetCheckBox())}))},children:"Cancel"}),(0,D.jsx)(w.Z,{id:"save-entry-header",variant:"contained",sx:{height:"22px",fontSize:"11px",backgroundColor:d.Z[500],"&:hover":{backgroundColor:d.Z[600]}},loading:ue,startIcon:(0,D.jsx)(l.Z,{}),disabled:"edit"!==M,onClick:function(){var e;(0,g.s)({isUpdate:!1,title:"Confirmation",saveTitle:"Confirm",text:"Are you sure you want to delete '".concat(null===(e=F.current)||void 0===e?void 0:e.value,"'?"),cb:function(e){ae({ID:Y.current,userCodeConfirmation:e})}})},children:"Delete"})]})]})]})}},27247:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),o=n(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=a},4378:function(e,t){t.Z={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"}},96857:function(){}}]);
//# sourceMappingURL=4200.b9817084.chunk.js.map