"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[6969],{70272:function(e,t,n){var r=n(54270),i=n(80184);t.Z=function(e){var t=e.title,n=void 0===t?"":t;return(0,i.jsxs)(r.q,{children:[(0,i.jsx)("title",{children:"".concat("UMIS"," - ").concat(n)}),(0,i.jsx)("link",{rel:"icon",type:"image/png",href:"".concat("/","/logo.png")})]})}},36609:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var r=n(74165),i=n(15861),o=n(29439),a=n(72791),c=n(36151),u=n(42419),s=n(27247),l=n(4378),d=n(3380),f=n(91933),p=n(21830),h=n.n(p),v=n(79018),x=n(29823),m=n(53329),y=n(39709),w=n(64230),g=n(70272),C=n(15703),b=n(5403),k=n(48910),Z=n(65413),S=(n(96857),n(80184)),j=[{key:"Purpose",label:"Purpose",width:300},{key:"Code",label:"Code",width:120},{key:"Account_Name",label:"Account Name",width:400},{key:"Inactive",label:"Inactive ?",width:120},{key:"Petty_Log",label:"",width:0,hide:!0}];function z(){var e,t,n,p,z,A=(0,a.useContext)(d.V),D=A.myAxios,R=A.user,T=(0,a.useRef)(null),I=(0,a.useState)(""),N=(0,o.Z)(I,2),M=N[0],L=N[1],P=(0,a.useRef)(null),_=(0,a.useRef)(null),E=(0,a.useRef)(null),F=(0,a.useRef)(""),K=(0,a.useRef)(""),V=(0,a.useRef)(null),U=(0,f.useMutation)({mutationKey:"search-mortgagee",mutationFn:function(t){return(e=e||(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.post("/reference/search-petty-cash-transaction",t,{headers:{Authorization:"Bearer ".concat(null===R||void 0===R?void 0:R.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){e.data.success&&(0,v.D)(100).then((function(){P.current.setDataFormated(e.data.data)}))}}),Y=U.mutate,G=U.isLoading,H=(0,a.useRef)(Y),W=(0,f.useMutation)({mutationKey:"add",mutationFn:function(e){return(t=t||(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.post("/reference/add-petty-cash-transaction",t,{headers:{Authorization:"Bearer ".concat(null===R||void 0===R?void 0:R.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:ie}),q=W.mutate,O=W.isLoading,J=(0,f.useMutation)({mutationKey:"edit",mutationFn:function(e){return(n=n||(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.post("/reference/update-petty-cash-transaction",t,{headers:{Authorization:"Bearer ".concat(null===R||void 0===R?void 0:R.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:ie}),Q=J.mutate,X=J.isLoading,$=(0,f.useMutation)({mutationKey:"delete",mutationFn:function(e){return(p=p||(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.post("/reference/delete-petty-cash-transaction",t,{headers:{Authorization:"Bearer ".concat(null===R||void 0===R?void 0:R.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:ie}),ee=$.mutate,te=$.isLoading;function ne(e){var t,n;return e.preventDefault(),""===(null===(t=_.current)||void 0===t?void 0:t.value)?h().fire({position:"center",icon:"warning",title:"Please provide purpose!",showConfirmButton:!1,timer:1500}):""===(null===(n=E.current)||void 0===n?void 0:n.value)?h().fire({position:"center",icon:"warning",title:"Please provide account name",showConfirmButton:!1,timer:1500}):void("edit"===M?(0,w.s)({isUpdate:!0,cb:function(e){var t,n,r;Q({Purpose:null===(t=_.current)||void 0===t?void 0:t.value,Acct_Code:null===(n=E.current)||void 0===n?void 0:n.value,Short:F.current,Inactive:null===(r=V.current)||void 0===r?void 0:r.checked,Petty_Log:K.current,userCodeConfirmation:e})}}):(0,w.L)({isConfirm:function(){var e,t,n;q({Purpose:null===(e=_.current)||void 0===e?void 0:e.value,Acct_Code:null===(t=E.current)||void 0===t?void 0:t.value,Short:F.current,Inactive:null===(n=V.current)||void 0===n?void 0:n.checked})}}))}function re(){_.current&&(_.current.value=""),E.current&&(E.current.value=""),V.current&&(V.current.checked=!1),F.current="",K.current=""}function ie(e){if(e.data.success)return P.current.setSelectedRow(null),P.current.resetCheckBox(),H.current({search:""}),re(),L(""),h().fire({position:"center",icon:"success",title:e.data.message,showConfirmButton:!1,timer:1500});h().fire({position:"center",icon:"error",title:e.data.message,showConfirmButton:!1,timer:1500})}var oe=(0,k._j)({size:"medium",link:"/reference/search-petty-cash-transaction-chart-account",column:[{key:"Code",label:"Code",width:100},{key:"Title",label:"Title",width:300},{key:"Short_Name",label:"Short_Name",width:300}],getSelectedItem:function(e,t,n,o){return(z=z||(0,i.Z)((0,r.Z)().mark((function e(t,n,i,o){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(E.current&&(E.current.value=t[0]),F.current=t[1],ue(),null===(a=V.current)||void 0===a||a.focus());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),ae=oe.UpwardTableModalSearch,ce=oe.openModal,ue=oe.closeModal;return(0,a.useEffect)((function(){H.current({search:""})}),[]),(0,S.jsxs)(S.Fragment,{children:[G&&(0,S.jsx)(Z.g,{}),(0,S.jsx)(g.Z,{title:"Petty Cash Transaction"}),(0,S.jsx)(ae,{}),(0,S.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",flex:1,padding:"5px",position:"relative"},children:[(0,S.jsxs)("div",{style:{marginTop:"10px",marginBottom:"12px",width:"100%",display:"flex",columnGap:"7px"},children:[(0,S.jsx)(C.oi,{containerClassName:"custom-input",containerStyle:{width:"550px",marginRight:"20px"},label:{title:"Search: ",style:{fontSize:"12px",fontWeight:"bold",width:"50px"}},input:{className:"search-input-up-on-key-down",type:"search",onKeyDown:function(e){("Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),Y({search:e.currentTarget.value})),"ArrowDown"===e.key)&&(e.preventDefault(),document.querySelector(".grid-container").focus())},style:{width:"500px"}},icon:(0,S.jsx)(b.Z,{sx:{fontSize:"18px"}}),onIconClick:function(e){var t;(e.preventDefault(),T.current)&&Y({search:null===(t=T.current)||void 0===t?void 0:t.value})},inputRef:T}),(0,S.jsxs)("div",{className:"button-action-desktop",style:{display:"flex",alignItems:"center",columnGap:"8px"},children:[""===M&&(0,S.jsx)(c.Z,{style:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,S.jsx)(u.Z,{}),id:"entry-header-save-button",onClick:function(){L("add")},children:"New"}),(0,S.jsx)(y.Z,{style:{height:"22px",fontSize:"11px"},id:"save-entry-header",color:"primary",variant:"contained",type:"submit",sx:{height:"30px",fontSize:"11px"},onClick:ne,startIcon:(0,S.jsx)(m.Z,{}),disabled:""===M,loading:O||X,children:"Save"}),""!==M&&(0,S.jsx)(c.Z,{style:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,S.jsx)(x.Z,{}),color:"error",onClick:function(){h().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&(re(),L(""),P.current.setSelectedRow(null),P.current.resetCheckBox())}))},children:"Cancel"}),(0,S.jsx)(y.Z,{id:"save-entry-header",variant:"contained",sx:{height:"22px",fontSize:"11px",backgroundColor:l.Z[500],"&:hover":{backgroundColor:l.Z[600]}},loading:te,startIcon:(0,S.jsx)(s.Z,{}),disabled:"edit"!==M,onClick:function(){var e;(0,w.s)({isUpdate:!1,title:"Confirmation",saveTitle:"Confirm",text:"Are you sure you want to delete '".concat(null===(e=_.current)||void 0===e?void 0:e.value,"'?"),cb:function(e){ee({Petty_Log:K.current,userCodeConfirmation:e})}})},children:"Delete"})]})]}),(0,S.jsxs)("fieldset",{className:"container-max-width",style:{padding:"5px",width:"590px",rowGap:"5px",display:"flex",flexDirection:"column"},children:[(0,S.jsx)(C.oi,{containerClassName:"custom-input",containerStyle:{width:"550px",marginRight:"20px"},label:{title:"Purpose: ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:""===M||"edit"===M,className:"search-input-up-on-key-down",type:"text",onKeyDown:function(e){var t;"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),null===(t=E.current)||void 0===t||t.focus())},style:{width:"500px"}},inputRef:_}),(0,S.jsx)(C.oi,{containerClassName:"custom-input",containerStyle:{width:"550px",marginRight:"20px"},label:{title:"Account: ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:""===M,className:"search-input-up-on-key-down",type:"text",onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),ce(e.currentTarget.value))},style:{width:"500px"}},icon:(0,S.jsx)(b.Z,{sx:{fontSize:"18px"}}),onIconClick:function(e){e.preventDefault(),T.current&&ce(T.current.value)},inputRef:E}),(0,S.jsx)(B,{gridRow:1,inputRef:V,label:"Mark as Inactive",disabled:""===M})]}),(0,S.jsx)("div",{style:{marginTop:"10px",width:"100%",position:"relative",flex:1,display:"flex"},children:(0,S.jsx)(k.BW,{containerStyle:{flex:1,height:"auto"},ref:P,columns:j,height:"280px",getSelectedItem:function(e){e?(L("edit"),_.current&&(_.current.value=e[0]),E.current&&(E.current.value=e[1]),V.current&&(V.current.checked="YES"==e[3]),F.current=e[2],K.current=e[4]):re()}})}),(0,S.jsxs)("div",{className:"button-action-mobile",style:{display:"flex",alignItems:"center",columnGap:"8px"},children:[""===M&&(0,S.jsx)(c.Z,{style:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,S.jsx)(u.Z,{}),id:"entry-header-save-button",onClick:function(){L("add")},children:"New"}),(0,S.jsx)(y.Z,{style:{height:"22px",fontSize:"11px"},id:"save-entry-header",color:"primary",variant:"contained",type:"submit",sx:{height:"30px",fontSize:"11px"},onClick:ne,startIcon:(0,S.jsx)(m.Z,{}),disabled:""===M,loading:O||X,children:"Save"}),""!==M&&(0,S.jsx)(c.Z,{style:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,S.jsx)(x.Z,{}),color:"error",onClick:function(){h().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&(re(),L(""),P.current.setSelectedRow(null),P.current.resetCheckBox())}))},children:"Cancel"}),(0,S.jsx)(y.Z,{id:"save-entry-header",variant:"contained",sx:{height:"22px",fontSize:"11px",backgroundColor:l.Z[500],"&:hover":{backgroundColor:l.Z[600]}},loading:te,startIcon:(0,S.jsx)(s.Z,{}),disabled:"edit"!==M,onClick:function(){var e;(0,w.s)({isUpdate:!1,title:"Confirmation",saveTitle:"Confirm",text:"Are you sure you want to delete '".concat(null===(e=_.current)||void 0===e?void 0:e.value,"'?"),cb:function(e){ee({Petty_Log:K.current,userCodeConfirmation:e})}})},children:"Delete"})]})]})]})}var B=function(e){var t=e.inputRef,n=e.label,r=e.gridRow,i=e.disabled,o=(0,a.useId)();return(0,S.jsxs)("div",{style:{display:"flex",columnGap:"5px",gridRow:r},children:[(0,S.jsx)("input",{disabled:i,id:o,ref:t,type:"checkbox",style:{cursor:"pointer"}}),(0,S.jsx)("label",{htmlFor:o,style:{fontSize:"12px",cursor:"pointer"},children:n})]})}},64230:function(e,t,n){n.d(t,{L:function(){return u},s:function(){return c}});var r=n(74165),i=n(15861),o=n(21830),a=n.n(o);function c(e){var t;a().fire({title:null!==e&&void 0!==e&&e.title?null===e||void 0===e?void 0:e.title:"Are you sure!",html:null!==e&&void 0!==e&&e.text?null===e||void 0===e?void 0:e.text:e.isUpdate?"Are you sure you want to make this change?":"Are you sure you want to delete this?",icon:"warning",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:null!==e&&void 0!==e&&e.saveTitle?null===e||void 0===e?void 0:e.saveTitle:"Save",confirmButtonColor:"green",showLoaderOnConfirm:!0,cancelButtonText:null!==e&&void 0!==e&&e.cancelTitle?null===e||void 0===e?void 0:e.cancelTitle:"Cancel",cancelButtonColor:"#d33",preConfirm:function(n){return(t=t||(0,i.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e.cb(n)}catch(r){a().showValidationMessage("\n            Request failed: ".concat(r,"\n          "))}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)},allowOutsideClick:function(){return!a().isLoading()}}).then((function(t){if(t.isConfirmed&&e.isConfirm)return e.isConfirm();e.isDeclined&&e.isDeclined()}))}function u(e){a().fire({title:"Are you sure?",text:null!==e&&void 0!==e&&e.text?null===e||void 0===e?void 0:e.text:"Do you want to proceed with saving?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, save it!"}).then((function(t){if(t.isConfirmed&&e.isConfirm)return e.isConfirm();e.isDeclined&&e.isDeclined()}))}},42419:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),o=n(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=a},27247:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),o=n(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=a},53329:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),o=n(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=a},5403:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),o=n(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=a},4378:function(e,t){t.Z={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"}},96857:function(){}}]);
//# sourceMappingURL=6969.324c3d19.chunk.js.map