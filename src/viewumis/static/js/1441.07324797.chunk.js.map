{"version":3,"file":"static/js/1441.07324797.chunk.js","mappings":"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","sources":["components/Helmet.tsx","feautures/Admin/Task/Accounting/PettyCash.tsx","../node_modules/@mui/icons-material/KeyboardArrowDown.js","../node_modules/@mui/icons-material/PersonSearch.js","../node_modules/@mui/icons-material/RestartAlt.js"],"sourcesContent":["\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nconst PageHelmet = ({ title = '' }: { title: string }) => {\r\n    const imgUrl = process.env.REACT_APP_IMAGE_URL;\r\n    const department = process.env.REACT_APP_DEPARTMENT\r\n    return (\r\n        <Helmet>\r\n            <title>{`${department} - ${title}`}</title>\r\n            <link rel=\"icon\" type=\"image/png\" href={`${imgUrl}/logo.png`} />\r\n        </Helmet>\r\n    );\r\n};\r\n\r\nexport default PageHelmet;","import {\n  useContext,\n  useState,\n  useRef,\n  useEffect,\n  forwardRef,\n  useImperativeHandle,\n} from \"react\";\nimport { Button } from \"@mui/material\";\nimport LoadingButton from \"@mui/lab/LoadingButton\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport SaveIcon from \"@mui/icons-material/Save\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport Swal from \"sweetalert2\";\nimport { AuthContext } from \"../../../../components/AuthContext\";\nimport RestartAltIcon from \"@mui/icons-material/RestartAlt\";\nimport { useMutation, useQuery } from \"react-query\";\nimport useQueryModalTable from \"../../../../hooks/useQueryModalTable\";\nimport { wait } from \"../../../../lib/wait\";\nimport {\n  codeCondfirmationAlert,\n  saveCondfirmationAlert,\n} from \"../../../../lib/confirmationAlert\";\nimport PageHelmet from \"../../../../components/Helmet\";\nimport { SelectInput, TextInput } from \"../../../../components/UpwardFields\";\nimport { NumericFormat } from \"react-number-format\";\nimport { format } from \"date-fns\";\nimport useExecuteQueryFromClient from \"../../../../lib/executeQueryFromClient\";\nimport {\n  DataGridViewReact,\n  useUpwardTableModalSearchSafeMode,\n} from \"../../../../components/DataGridViewReact\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport { Loading } from \"../../../../components/Loading\";\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\nimport { flushSync } from \"react-dom\";\nimport PersonSearchIcon from \"@mui/icons-material/PersonSearch\";\n\nexport const reducer = (state: any, action: any) => {\n  switch (action.type) {\n    case \"UPDATE_FIELD\":\n      return {\n        ...state,\n        [action.field]: action.value,\n      };\n    default:\n      return state;\n  }\n};\nconst columns = [\n  { key: \"purpose\", label: \"Purpose\", width: 400 },\n  { key: \"amount\", label: \"Amount\", width: 140 },\n  {\n    key: \"usage\",\n    label: \"Usage\",\n    width: 450,\n  },\n  { key: \"accountID\", label: \"Account ID\", width: 400 },\n  { key: \"sub_account\", label: \"Sub Account\", width: 120 },\n  { key: \"clientID\", label: \"ID No\", width: 140 },\n  // hide\n  { key: \"clientName\", label: \"Name\", width: 350 },\n  { key: \"accountCode\", label: \"Accoount Code\", width: 130 },\n  {\n    key: \"accountShort\",\n    label: \"Account Short\",\n    width: 300,\n  },\n  { key: \"vatType\", label: \"Vat Type\", width: 100 },\n  { key: \"invoice\", label: \"Invoice\", width: 200 },\n  { key: \"TempID\", label: \"TempId\", hide: true },\n];\nexport const chartColumn = [\n  { field: \"Acct_Code\", headerName: \"Code\", flex: 1 },\n  { field: \"Acct_Title\", headerName: \"Title\", flex: 1 },\n  { field: \"Short\", headerName: \"Short Name\", flex: 1 },\n];\n\nexport default function PettyCash() {\n  const { myAxios, user } = useContext(AuthContext);\n  const [pettyCashMode, setPettyCashMode] = useState(\"\");\n  const { executeQueryToClient } = useExecuteQueryFromClient();\n  const tableRef = useRef<any>(null);\n  const inputSearchRef = useRef<HTMLInputElement>(null);\n\n  const subrefNoRef = useRef(\"\");\n  const refNoRef = useRef<HTMLInputElement>(null);\n  const dateRef = useRef<HTMLInputElement>(null);\n  const payeeRef = useRef<HTMLInputElement>(null);\n  const explanationRef = useRef<HTMLInputElement>(null);\n\n  const accountRef = useRef<HTMLInputElement>(null);\n  const usageRef = useRef<HTMLInputElement>(null);\n  const amountRef = useRef<HTMLInputElement>(null);\n  const vatRef = useRef<HTMLSelectElement>(null);\n  const invoiceRef = useRef<HTMLInputElement>(null);\n\n  const pdcSearchInput = useRef<HTMLInputElement>(null);\n\n  const transactionCodeRef = useRef(\"\");\n  const transactionShortRef = useRef(\"\");\n  const clientIdRef = useRef(\"\");\n  const subAcctRef = useRef(\"\");\n\n  const isDisableField = pettyCashMode === \"\";\n\n  const {\n    isLoading: loadingPettyCashIdGenerator,\n    refetch: refetchettyCashIdGenerator,\n  } = useQuery({\n    queryKey: \"petty-cash-id-generator\",\n    queryFn: async () =>\n      await myAxios.get(`/task/accounting/get-petty-cash-id`, {\n        headers: {\n          Authorization: `Bearer ${user?.accessToken}`,\n        },\n      }),\n    refetchOnWindowFocus: false,\n    onSuccess: (data) => {\n      const response = data as any;\n      wait(100).then(() => {\n        subrefNoRef.current = response.data.pettyCashId[0].petty_cash_id;\n        if (refNoRef.current) {\n          refNoRef.current.value = response.data.pettyCashId[0].petty_cash_id;\n        }\n      });\n    },\n  });\n  const {\n    isLoading: loadingAddUpdatePettyCash,\n    mutate: mutateAddUpdatePettyCash,\n  } = useMutation({\n    mutationKey: \"add-update-petty-cash\",\n    mutationFn: async (variables: any) =>\n      await myAxios.post(`/task/accounting/add-petty-cash`, variables, {\n        headers: {\n          Authorization: `Bearer ${user?.accessToken}`,\n        },\n      }),\n    onSuccess: (data) => {\n      const response = data as any;\n      if (response.data.success) {\n        resetPettyCash();\n        return Swal.fire({\n          position: \"center\",\n          icon: \"success\",\n          title: response.data.message,\n          timer: 1500,\n        });\n      }\n      return Swal.fire({\n        position: \"center\",\n        icon: \"warning\",\n        title: response.data.message,\n        timer: 1500,\n      });\n    },\n  });\n  const {\n    isLoading: isLoadingLoadSelectedPettyCash,\n    mutate: mutateLoadSelectedPettyCash,\n  } = useMutation({\n    mutationKey: \"load-selected-petty-cash\",\n    mutationFn: async (variables: any) =>\n      await myAxios.post(\n        `/task/accounting/load-selected-petty-cash`,\n        variables,\n        {\n          headers: {\n            Authorization: `Bearer ${user?.accessToken}`,\n          },\n        }\n      ),\n    onSuccess: (data) => {\n      const response = data as any;\n      const loadPettyCash = response.data.loadSelectedPettyCash;\n      subrefNoRef.current = loadPettyCash[0].PC_No;\n      if (refNoRef.current) {\n        refNoRef.current.value = loadPettyCash[0].PC_No;\n      }\n      if (dateRef.current) {\n        dateRef.current.value = format(\n          new Date(loadPettyCash[0].PC_Date),\n          \"yyyy-MM-dd\"\n        );\n      }\n      if (payeeRef.current) {\n        payeeRef.current.value = loadPettyCash[0].Payee;\n      }\n      if (explanationRef.current) {\n        explanationRef.current.value = loadPettyCash[0].Explanation;\n      }\n\n      tableRef.current.setDataFormated(loadPettyCash);\n    },\n  });\n  const { isLoading: laodPettyCashTransaction, data: dataCashTransaction } =\n    useQuery({\n      queryKey: \"load-transcation\",\n      queryFn: async () =>\n        await myAxios.get(`/task/accounting/load-transcation`, {\n          headers: {\n            Authorization: `Bearer ${user?.accessToken}`,\n          },\n        }),\n      refetchOnWindowFocus: false,\n    });\n\n  function handleOnSave() {\n    if (payeeRef.current && payeeRef.current.value === \"\") {\n      return Swal.fire({\n        position: \"center\",\n        icon: \"warning\",\n        title: \"Please provide payee!\",\n        timer: 1500,\n      }).then((result) => {\n        wait(300).then(() => {\n          payeeRef.current?.focus();\n        });\n      });\n    }\n    if (explanationRef.current && explanationRef.current.value === \"\") {\n      return Swal.fire({\n        position: \"center\",\n        icon: \"warning\",\n        title: \"Please provide explanation!\",\n        timer: 1500,\n      }).then((result) => {\n        wait(300).then(() => {\n          explanationRef.current?.focus();\n        });\n      });\n    }\n\n    const newData = tableRef.current.getData();\n    const newDataFormatted = newData.map((itm: any) => {\n      let newItm = {\n        purpose: itm[0],\n        amount: itm[1],\n        usage: itm[2],\n        accountID: itm[3],\n        sub_account: itm[4],\n        clientID: itm[5],\n        clientName: itm[6],\n        accountCode: itm[7],\n        accountShort: itm[8],\n        vatType: itm[9],\n        invoice: itm[10],\n      };\n      return newItm;\n    });\n\n    if (newDataFormatted.length <= 0) {\n      return Swal.fire({\n        position: \"center\",\n        icon: \"warning\",\n        title: \"Please provide transaction entry!\",\n        timer: 1500,\n      });\n    }\n\n    if (pettyCashMode === \"edit\") {\n      codeCondfirmationAlert({\n        isUpdate: true,\n        cb: (userCodeConfirmation) => {\n          mutateAddUpdatePettyCash({\n            refNo: refNoRef.current?.value,\n            datePetty: dateRef.current?.value,\n            payee: payeeRef.current?.value,\n            explanation: explanationRef.current?.value,\n            hasSelected: pettyCashMode === \"edit\",\n            pettyCash: newDataFormatted,\n            userCodeConfirmation,\n          });\n        },\n      });\n    } else {\n      saveCondfirmationAlert({\n        isConfirm: () => {\n          mutateAddUpdatePettyCash({\n            refNo: refNoRef.current?.value,\n            datePetty: dateRef.current?.value,\n            payee: payeeRef.current?.value,\n            explanation: explanationRef.current?.value,\n            hasSelected: pettyCashMode === \"edit\",\n            pettyCash: newDataFormatted,\n          });\n        },\n      });\n    }\n  }\n  async function handleAddTransaction() {\n    if (accountRef.current && accountRef.current.value === \"\") {\n      return Swal.fire({\n        position: \"center\",\n        icon: \"warning\",\n        title: \"Please provide transaction\",\n        timer: 1500,\n      }).then(() => {\n        wait(300).then(() => {\n          accountRef.current?.focus();\n        });\n      });\n    }\n    if (clientIdRef.current === \"\") {\n      return Swal.fire({\n        position: \"center\",\n        icon: \"warning\",\n        title: \"Please provide usage\",\n        timer: 1500,\n      }).then(() => {\n        wait(300).then(() => {\n          if (usageRef.current) {\n            clientOpenModal(usageRef.current.value);\n          }\n        });\n      });\n    }\n    if (\n      amountRef.current &&\n      (amountRef.current.value === \"\" ||\n        parseFloat(amountRef.current.value.replace(/,/g, \"\")) < 1)\n    ) {\n      return Swal.fire({\n        position: \"center\",\n        icon: \"warning\",\n        title: \"Please provide proper amount\",\n        timer: 1500,\n      }).then(() => {\n        wait(300).then(() => {\n          amountRef.current?.focus();\n        });\n      });\n    }\n\n    const TransDetail = await executeQueryToClient(`\n         SELECT DISTINCT\n              Chart_Account.Acct_Code,\n              Chart_Account.Acct_Title,\n              Chart_Account.Short\n          FROM\n              Petty_Log\n                  LEFT JOIN\n              Chart_Account ON Petty_Log.Acct_Code = Chart_Account.Acct_Code\n          WHERE\n              Petty_Log.Acct_Code = '${transactionCodeRef.current}'\n      `);\n\n    const getSelectedItem = tableRef.current.getSelectedRow();\n    if (getSelectedItem !== null) {\n      const data = tableRef.current.getData();\n      data.splice(getSelectedItem, 1);\n      tableRef.current.setData(data);\n    }\n\n    wait(100).then(() => {\n      const currentData = tableRef.current.getData();\n      const newData = [\n        accountRef.current?.value,\n        amountRef.current?.value,\n        `${usageRef.current?.value} > ${clientIdRef.current} > ${subAcctRef.current}`,\n        `${TransDetail.data.data[0].Short} > ${TransDetail.data.data[0].Acct_Code}`,\n        subAcctRef.current,\n        clientIdRef.current,\n        usageRef.current?.value,\n        TransDetail.data.data[0].Acct_Code,\n        TransDetail.data.data[0].Short,\n        vatRef.current?.value,\n        invoiceRef.current?.value,\n      ];\n\n      if (getSelectedItem !== null) {\n        currentData.splice(getSelectedItem, 0, newData);\n        tableRef.current.setData(currentData);\n        tableRef.current.setSelectedRow(null);\n        tableRef.current.resetCheckBox();\n      } else {\n        tableRef.current.setData([...currentData, newData]);\n        tableRef.current.setSelectedRow(null);\n        tableRef.current.resetCheckBox();\n      }\n\n      resetRefs();\n\n      if (accountRef.current) {\n        accountRef.current.focus();\n      }\n    });\n  }\n  function resetRefs() {\n    setTimeout(() => {\n      if (accountRef.current) {\n        accountRef.current.value = \"\";\n      }\n      if (amountRef.current) {\n        amountRef.current.value = \"\";\n      }\n      if (usageRef.current) {\n        usageRef.current.value = \"\";\n      }\n      if (vatRef.current) {\n        vatRef.current.value = \"NON-VAT\";\n      }\n      if (invoiceRef.current) {\n        invoiceRef.current.value = \"\";\n      }\n      subAcctRef.current = \"\";\n      clientIdRef.current = \"\";\n      transactionCodeRef.current = \"\";\n      transactionShortRef.current = \"\";\n    }, 100);\n  }\n  function resetRefsEntry() {\n    setTimeout(() => {\n      refetchettyCashIdGenerator();\n      if (dateRef.current) {\n        dateRef.current.value = format(new Date(), \"yyyy-MM-dd\");\n      }\n      if (payeeRef.current) {\n        payeeRef.current.value = \"\";\n      }\n      if (explanationRef.current) {\n        explanationRef.current.value = \"\";\n      }\n    }, 100);\n  }\n  function resetPettyCash() {\n    setPettyCashMode(\"\");\n    refetchettyCashIdGenerator();\n    resetRefsEntry();\n    resetRefs();\n    tableRef.current.setData([]);\n  }\n  function valueIsNaN(input: any) {\n    if (input !== \"\" && input !== null) {\n      const num = parseFloat(input.replace(/,/g, \"\"));\n      return isNaN(num) ? \"0.00\" : input;\n    }\n    return \"0.00\";\n  }\n\n  const {\n    UpwardTableModalSearch: PettyCashUpwardTableModalSearch,\n    openModal: pettyCashOpenModal,\n    closeModal: pettyCashCloseModal,\n  } = useUpwardTableModalSearchSafeMode({\n    link: \"/task/accounting/search-petty-cash\",\n    column: [\n      { key: \"PC_Date\", label: \"Type\", width: 130 },\n      { key: \"PC_No\", label: \"ID No.\", width: 200 },\n      {\n        key: \"Payee\",\n        label: \"Name\",\n        flex: 1,\n      },\n      {\n        key: \"Explanation\",\n        label: \"ID\",\n        flex: 1,\n      },\n      {\n        key: \"Explanation\",\n        label: \"ID\",\n        flex: 1,\n        hide: true,\n      },\n    ],\n    getSelectedItem: async (rowItm: any, _: any, rowIdx: any, __: any) => {\n      if (rowItm) {\n        wait(100).then(() => {\n          mutateLoadSelectedPettyCash({ PC_No: rowItm[1] });\n        });\n        setPettyCashMode(\"edit\");\n        pettyCashCloseModal();\n      }\n    },\n  });\n\n  const {\n    UpwardTableModalSearch: ClientUpwardTableModalSearch,\n    openModal: clientOpenModal,\n    closeModal: clientCloseModal,\n  } = useUpwardTableModalSearchSafeMode({\n    size: \"large\",\n    link: \"/task/accounting/search-pdc-policy-id\",\n    column: [\n      { key: \"Type\", label: \"Type\", width: 100 },\n      { key: \"IDNo\", label: \"ID No.\", width: 120 },\n      {\n        key: \"Name\",\n        label: \"Name\",\n        width: 350,\n      },\n      { key: \"chassis\", label: \"Chassis No.\", width: 200 },\n      {\n        key: \"remarks\",\n        label: \"remarks\",\n        width: 0,\n        hide: true,\n      },\n      {\n        key: \"client_id\",\n        label: \"client_id\",\n        width: 0,\n        hide: true,\n      },\n      {\n        key: \"Acronym\",\n        label: \"Acronym\",\n        width: 0,\n        hide: true,\n      },\n      {\n        key: \"sub_account\",\n        label: \"sub_account\",\n        width: 0,\n        hide: true,\n      },\n    ],\n    getSelectedItem: async (rowItm: any, _: any, rowIdx: any, __: any) => {\n      if (rowItm) {\n        wait(100).then(() => {\n          clientIdRef.current = rowItm[1];\n          subAcctRef.current = rowItm[6];\n          if (usageRef.current) usageRef.current.value = rowItm[2];\n        });\n        wait(200).then(() => {\n          if (amountRef.current) {\n            amountRef.current?.focus();\n            amountRef.current.value = \"\";\n          }\n        });\n        clientCloseModal();\n      }\n    },\n  });\n\n  return (\n    <>\n      {(isLoadingLoadSelectedPettyCash || loadingAddUpdatePettyCash) && (\n        <Loading />\n      )}\n      <PageHelmet title=\"Petty Cash\" />\n      <PettyCashUpwardTableModalSearch />\n      <ClientUpwardTableModalSearch />\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          width: \"100%\",\n          height: \"100%\",\n          flex: 1,\n          padding: \"5px\",\n          background: \"#F1F1F1\",\n        }}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            columnGap: \"5px\",\n            marginBottom: \"10px\",\n          }}\n        >\n          <TextInput\n            label={{\n              title: \"Search: \",\n              style: {\n                fontSize: \"12px\",\n                fontWeight: \"bold\",\n                width: \"50px\",\n              },\n            }}\n            input={{\n              className: \"search-input-up-on-key-down\",\n              type: \"search\",\n              onKeyDown: (e) => {\n                if (e.key === \"Enter\" || e.key === \"NumpadEnter\") {\n                  e.preventDefault();\n                  pettyCashOpenModal(e.currentTarget.value);\n                }\n                if (e.key === \"ArrowDown\") {\n                  e.preventDefault();\n                  const datagridview = document.querySelector(\n                    \".grid-container\"\n                  ) as HTMLDivElement;\n                  datagridview.focus();\n                }\n              },\n              style: { width: \"500px\" },\n            }}\n            icon={<SearchIcon sx={{ fontSize: \"18px\" }} />}\n            onIconClick={(e) => {\n              e.preventDefault();\n              if (inputSearchRef.current)\n                pettyCashOpenModal(inputSearchRef.current.value);\n            }}\n            inputRef={inputSearchRef}\n          />\n          {pettyCashMode === \"\" && (\n            <Button\n              sx={{\n                height: \"30px\",\n                fontSize: \"11px\",\n              }}\n              variant=\"contained\"\n              startIcon={<AddIcon sx={{ width: 15, height: 15 }} />}\n              id=\"entry-header-save-button\"\n              onClick={() => {\n                setPettyCashMode(\"add\");\n              }}\n            >\n              New\n            </Button>\n          )}\n          <LoadingButton\n            sx={{\n              height: \"30px\",\n              fontSize: \"11px\",\n            }}\n            id=\"save-entry-header\"\n            color=\"primary\"\n            variant=\"contained\"\n            type=\"submit\"\n            onClick={handleOnSave}\n            disabled={pettyCashMode === \"\"}\n            startIcon={<SaveIcon sx={{ width: 15, height: 15 }} />}\n            loading={loadingAddUpdatePettyCash}\n          >\n            {pettyCashMode === \"edit\" ? \"Update\" : \"Save\"}\n          </LoadingButton>\n          {pettyCashMode !== \"\" && (\n            <Button\n              sx={{\n                height: \"30px\",\n                fontSize: \"11px\",\n              }}\n              variant=\"contained\"\n              startIcon={<CloseIcon sx={{ width: 15, height: 15 }} />}\n              color=\"error\"\n              onClick={() => {\n                Swal.fire({\n                  title: \"Are you sure?\",\n                  text: \"You won't be able to revert this!\",\n                  icon: \"warning\",\n                  showCancelButton: true,\n                  confirmButtonColor: \"#3085d6\",\n                  cancelButtonColor: \"#d33\",\n                  confirmButtonText: \"Yes, cancel it!\",\n                }).then((result) => {\n                  if (result.isConfirmed) {\n                    resetPettyCash();\n                  }\n                });\n              }}\n            >\n              Cancel\n            </Button>\n          )}\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            width: \"100%\",\n            borderBottom: \"1px dashed  #334155\",\n            paddingBottom: \"20px\",\n            gap: \"50px\",\n            marginTop: \"5px\",\n          }}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              rowGap: \"10px\",\n            }}\n          >\n            {loadingPettyCashIdGenerator ? (\n              <LoadingButton loading={loadingPettyCashIdGenerator} />\n            ) : (\n              <TextInput\n                label={{\n                  title: \"Ref. No. : \",\n                  style: {\n                    fontSize: \"12px\",\n                    fontWeight: \"bold\",\n                    width: \"80px\",\n                  },\n                }}\n                input={{\n                  disabled: isDisableField,\n                  type: \"text\",\n                  style: { width: \"200px\" },\n                  readOnly: true,\n                  onKeyDown: (e) => {\n                    if (e.code === \"NumpadEnter\" || e.code === \"Enter\") {\n                      dateRef.current?.focus();\n                    }\n                  },\n                }}\n                icon={<RestartAltIcon sx={{ fontSize: \"18px\" }} />}\n                onIconClick={(e) => {\n                  e.preventDefault();\n                  refetchettyCashIdGenerator();\n                }}\n                inputRef={refNoRef}\n              />\n            )}\n            <TextInput\n              label={{\n                title: \"Deposit Date: \",\n                style: {\n                  fontSize: \"12px\",\n                  fontWeight: \"bold\",\n                  width: \"80px\",\n                },\n              }}\n              input={{\n                defaultValue: format(new Date(), \"yyyy-MM-dd\"),\n                className: \"search-input-up-on-key-down\",\n                type: \"date\",\n                style: { width: \"200px\" },\n                disabled: isDisableField,\n                onKeyDown: (e) => {\n                  if (e.code === \"NumpadEnter\" || e.code === \"Enter\") {\n                    payeeRef.current?.focus();\n                  }\n                },\n              }}\n              inputRef={dateRef}\n            />\n          </div>\n          <div\n            style={{\n              flex: 1,\n              display: \"flex\",\n              flexDirection: \"column\",\n              rowGap: \"10px\",\n            }}\n          >\n            <TextInput\n              label={{\n                title: \"Payee : \",\n                style: {\n                  fontSize: \"12px\",\n                  fontWeight: \"bold\",\n                  width: \"100px\",\n                },\n              }}\n              input={{\n                disabled: isDisableField,\n                type: \"text\",\n                style: { width: \"400px\" },\n                onKeyDown: (e) => {\n                  if (e.code === \"NumpadEnter\" || e.code === \"Enter\") {\n                    explanationRef.current?.focus();\n                  }\n                },\n              }}\n              inputRef={payeeRef}\n            />\n            <TextInput\n              label={{\n                title: \"Explanation : \",\n                style: {\n                  fontSize: \"12px\",\n                  fontWeight: \"bold\",\n                  width: \"100px\",\n                },\n              }}\n              input={{\n                disabled: isDisableField,\n                type: \"text\",\n                style: { flex: 1 },\n                onKeyDown: (e) => {\n                  if (e.code === \"NumpadEnter\" || e.code === \"Enter\") {\n                    accountRef.current?.focus();\n                  }\n                },\n              }}\n              inputRef={explanationRef}\n            />\n          </div>\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            width: \"100%\",\n            paddingTop: \"20px\",\n            gap: \"50px\",\n            borderRadius: \"3px\",\n          }}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              rowGap: \"10px\",\n            }}\n          >\n            {laodPettyCashTransaction ? (\n              <LoadingButton loading={laodPettyCashTransaction} />\n            ) : (\n              <Autocomplete\n                containerStyle={{\n                  width: \"100%\",\n                }}\n                label={{\n                  title: \"Transaction : \",\n                  style: {\n                    fontSize: \"12px\",\n                    fontWeight: \"bold\",\n                    width: \"80px\",\n                  },\n                }}\n                DisplayMember={\"Purpose\"}\n                DataSource={dataCashTransaction?.data.laodTranscation}\n                disableInput={isDisableField}\n                inputRef={accountRef}\n                input={{\n                  style: {\n                    width: \"100%\",\n                    flex: 1,\n                  },\n                }}\n                onChange={(selected: any, e: any) => {\n                  if (accountRef.current)\n                    accountRef.current.value = selected.Purpose;\n                  transactionCodeRef.current = selected.Acct_Code;\n                  transactionShortRef.current = selected.Short;\n                }}\n                onKeydown={(e: any) => {\n                  if (e.key === \"Enter\" || e.key === \"NumpadEnter\") {\n                    e.preventDefault();\n                    usageRef.current?.focus();\n                  }\n                }}\n              />\n            )}\n            <div\n              style={{\n                display: \"flex\",\n                columnGap: \"20px\",\n              }}\n            >\n              <TextInput\n                label={{\n                  title: \"Usage : \",\n                  style: {\n                    fontSize: \"12px\",\n                    fontWeight: \"bold\",\n                    width: \"80px\",\n                  },\n                }}\n                input={{\n                  disabled: isDisableField,\n                  type: \"text\",\n                  style: { width: \"450px\" },\n                  onKeyDown: (e) => {\n                    if (e.code === \"NumpadEnter\" || e.code === \"Enter\") {\n                      clientOpenModal(e.currentTarget.value);\n                    }\n                  },\n                }}\n                icon={\n                  <PersonSearchIcon\n                    sx={{\n                      fontSize: \"18px\",\n                      color: isDisableField ? \"gray\" : \"black\",\n                    }}\n                  />\n                }\n                onIconClick={(e) => {\n                  e.preventDefault();\n                  if (usageRef.current) {\n                    clientOpenModal(usageRef.current.value);\n                  }\n                }}\n                inputRef={usageRef}\n              />\n              <div\n                style={{\n                  display: \"flex\",\n                }}\n              >\n                <label\n                  style={{\n                    fontSize: \"12px\",\n                    fontWeight: \"bold\",\n                    width: \"70px\",\n                  }}\n                >\n                  Amount :\n                </label>\n                <NumericFormat\n                  disabled={isDisableField}\n                  getInputRef={amountRef}\n                  decimalScale={2}\n                  fixedDecimalScale={true}\n                  style={{\n                    width: \"200px\",\n                  }}\n                  onKeyDown={(e) => {\n                    if (e.code === \"Enter\" || e.code === \"NumpadEnter\") {\n                      e.currentTarget.value = valueIsNaN(e.currentTarget.value);\n                      vatRef.current?.focus();\n                    }\n                  }}\n                  onBlur={(e) => {\n                    if (e.currentTarget.value === \"\") {\n                      e.currentTarget.value = \"0.00\";\n                    }\n                  }}\n                  allowNegative={false}\n                  thousandSeparator\n                  valueIsNumericString\n                />\n              </div>\n            </div>\n            <div\n              style={{\n                display: \"flex\",\n                columnGap: \"20px\",\n              }}\n            >\n              <SelectInput\n                containerStyle={{\n                  fontSize: \"12px\",\n                  fontWeight: \"bold\",\n                }}\n                label={{\n                  title: \"VAT Type\",\n                  style: {\n                    width: \"80px\",\n                  },\n                }}\n                select={{\n                  defaultValue: \"NON-VAT\",\n                  disabled: isDisableField,\n                  style: {\n                    width: \"100% !important\",\n                    flex: 1,\n                    height: \"100% !important\",\n                    padding: 0,\n                    margin: 0,\n                    cursor: \"pointer\",\n                  },\n                  onKeyDown: (e) => {\n                    if (e.code === \"Enter\" || e.code === \"NumpadEnter\") {\n                      invoiceRef.current?.focus();\n                    }\n                  },\n                }}\n                datasource={[{ key: \"NON-VAT\" }, { key: \"VAT\" }]}\n                values={\"key\"}\n                display={\"key\"}\n                selectRef={vatRef}\n              />\n              <TextInput\n                label={{\n                  title: \"Invoice : \",\n                  style: {\n                    fontSize: \"12px\",\n                    fontWeight: \"bold\",\n                    width: \"80px\",\n                  },\n                }}\n                input={{\n                  disabled: isDisableField,\n                  type: \"text\",\n                  style: { width: \"270px\" },\n                  onKeyDown: (e) => {\n                    if (e.code === \"NumpadEnter\" || e.code === \"Enter\") {\n                      e.preventDefault();\n                      handleAddTransaction();\n                    }\n                  },\n                }}\n                inputRef={invoiceRef}\n              />\n              <Button\n                disabled={isDisableField}\n                color=\"success\"\n                variant=\"contained\"\n                style={{\n                  gridArea: \"button\",\n                  height: \"22px\",\n                  fontSize: \"12px\",\n                  width: \"270px\",\n                }}\n                startIcon={<AddIcon />}\n                onClick={() => {\n                  handleAddTransaction();\n                }}\n              >\n                Save Transaction\n              </Button>\n            </div>\n          </div>\n        </div>\n        <br />\n        <DataGridViewReact\n          containerStyle={{\n            flex: 1,\n            height: \"auto\",\n          }}\n          ref={tableRef}\n          width=\"100%\"\n          height=\"350px\"\n          columns={columns}\n          getSelectedItem={(\n            rowItm: any,\n            colItm: any,\n            rowIdx: any,\n            colIdx: any\n          ) => {\n            if (rowItm) {\n              if (accountRef.current) {\n                accountRef.current.value = rowItm[0];\n              }\n              if (amountRef.current) {\n                amountRef.current.value = rowItm[1];\n              }\n              if (usageRef.current) {\n                usageRef.current.value = rowItm[6];\n              }\n              if (vatRef.current) {\n                vatRef.current.value = rowItm[9];\n              }\n              if (invoiceRef.current) {\n                invoiceRef.current.value = rowItm[10];\n              }\n              subAcctRef.current = rowItm[4];\n              clientIdRef.current = rowItm[5];\n              transactionCodeRef.current = rowItm[7];\n              transactionShortRef.current = rowItm[8];\n            } else {\n              resetRefs();\n            }\n          }}\n          onKeyDown={(rowSelected: any, RowIndex: any, e: any) => {\n            if (e.code === \"Delete\" || e.code === \"Backspace\") {\n              Swal.fire({\n                title: \"Are you sure?\",\n                text: `You won't to delete this Check No. ${rowSelected[0]}`,\n                icon: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#3085d6\",\n                cancelButtonColor: \"#d33\",\n                confirmButtonText: \"Yes, delete it!\",\n              }).then((result) => {\n                if (result.isConfirmed) {\n                  setTimeout(() => {\n                    const newData = tableRef.current.getData();\n                    newData.splice(RowIndex, 1);\n                    tableRef.current.setData(newData);\n                    tableRef.current.setSelectedRow(null);\n                    tableRef.current.resetCheckBox();\n                  }, 100);\n                }\n              });\n            }\n          }}\n        />\n      </div>\n    </>\n  );\n}\nexport const Autocomplete = forwardRef(\n  (\n    {\n      DisplayMember,\n      DataSource: _DataSource,\n      inputRef,\n      disableInput = false,\n      onKeydown,\n      onChange,\n      label = {\n        title: \"Transaction : \",\n        style: {\n          fontSize: \"12px\",\n          fontWeight: \"bold\",\n          width: \"100px\",\n        },\n      },\n      input = {\n        width: \"740px\",\n      },\n      containerStyle,\n    }: any,\n    ref: any\n  ) => {\n    const [DataSource, setDataSource] = useState(_DataSource);\n    const [filteredSuggestions, setFilteredSuggestions] = useState([]);\n    const [showSuggestions, setShowSuggestions] = useState(false);\n    const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(0);\n\n    // Ref to store the suggestion container\n    const suggestionListRef = useRef<HTMLUListElement>(null);\n\n    useEffect(() => {\n      // Scroll the active suggestion into view\n      const activeElement =\n        suggestionListRef.current?.children[activeSuggestionIndex];\n      if (activeElement) {\n        activeElement.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"nearest\",\n        });\n      }\n    }, [activeSuggestionIndex]);\n\n    const handleChange = (e: any) => {\n      const value = e.target.value;\n\n      if (value.trim()) {\n        const filtered = DataSource.filter((item: any) =>\n          item[DisplayMember].toLowerCase().includes(value.toLowerCase())\n        );\n        setFilteredSuggestions(filtered);\n        setShowSuggestions(true);\n      } else {\n        setFilteredSuggestions([]);\n        setShowSuggestions(false);\n      }\n    };\n\n    const handleClick = (suggestion: any) => {\n      setShowSuggestions(false);\n    };\n\n    const handleKeyDown = (e: any) => {\n      if (e.key === \"Tab\") {\n        flushSync(() => {\n          setShowSuggestions(false);\n          setFilteredSuggestions([]);\n        });\n      }\n      if (e.key === \"ArrowDown\") {\n        e.preventDefault();\n        setActiveSuggestionIndex((prevIndex) =>\n          Math.min(prevIndex + 1, filteredSuggestions.length - 1)\n        );\n      } else if (e.key === \"ArrowUp\") {\n        e.preventDefault();\n\n        setActiveSuggestionIndex((prevIndex) => Math.max(prevIndex - 1, 0));\n      } else if (e.key === \"Enter\" || e.key === \"NumpadEnter\") {\n        e.preventDefault();\n        if (filteredSuggestions.length > 0) {\n          const selectedSuggestion = filteredSuggestions[activeSuggestionIndex];\n          onChange(selectedSuggestion, e);\n          setShowSuggestions(false);\n        }\n      }\n\n      setTimeout(() => {\n        if (onKeydown) onKeydown(e);\n      }, 150);\n    };\n\n    useImperativeHandle(ref, () => ({\n      setDataSource: (newDataSource: Array<any>) => {\n        setDataSource(newDataSource);\n      },\n    }));\n\n    return (\n      <div style={{ width: \"100%\" }}>\n        <TextInput\n          containerStyle={containerStyle}\n          label={label}\n          input={{\n            ...input,\n            disabled: disableInput,\n            type: \"text\",\n            onKeyDown: handleKeyDown,\n            onChange: handleChange,\n            onFocus: (e) => {\n              e.preventDefault();\n              e.currentTarget?.focus();\n              setShowSuggestions(true);\n              setFilteredSuggestions(DataSource);\n              if (inputRef.current) {\n                inputRef.current.focus();\n              }\n            },\n            onBlur: (e) => {\n              if (e.relatedTarget && e.relatedTarget.tagName === \"LI\") {\n                wait(250).then(() => {\n                  setShowSuggestions(false);\n                  setFilteredSuggestions([]);\n                });\n              } else {\n                setShowSuggestions(false);\n                setFilteredSuggestions([]);\n              }\n            },\n          }}\n          icon={<KeyboardArrowDownIcon sx={{ fontSize: \"18px\" }} />}\n          onIconClick={(e) => {\n            if (inputRef.current) {\n              inputRef.current.focus();\n            }\n          }}\n          inputRef={inputRef}\n        />\n        {showSuggestions && filteredSuggestions.length > 0 && (\n          <ul className=\"suggestions\" ref={suggestionListRef}>\n            {filteredSuggestions.map((suggestion, index) => (\n              <li\n                tabIndex={0}\n                key={index}\n                onClick={(e) => {\n                  handleClick(suggestion);\n                  onChange(suggestion, e);\n                }}\n                className={index === activeSuggestionIndex ? \"active\" : \"\"}\n                onMouseEnter={(e) => {\n                  e.preventDefault();\n                  setActiveSuggestionIndex(\n                    Math.min(index, filteredSuggestions.length - 1)\n                  );\n                }}\n              >\n                {suggestion[DisplayMember]}\n              </li>\n            ))}\n          </ul>\n        )}\n        <style>\n          {`\n          .suggestions {\n            margin-top: 0;\n            padding: 0;\n            list-style: none;\n            max-height: 150px;\n            overflow-y: auto;\n            position:absolute;\n            z-index:100;\n            background:white;\n            width:350px;\n            border:1px solid #e5e7eb;\n            box-shadow: 0px 23px 32px -17px rgba(0,0,0,0.75);\n          }\n          .suggestions li {\n            padding:3px 10px;\n            cursor: pointer;\n            font-size:14px;\n          }\n          .suggestions li.active {\n            background-color: #e2e8f0;\n          }\n      \n        `}\n        </style>\n      </div>\n    );\n  }\n);\n\nexport const AutocompleteNumber = forwardRef(\n  (\n    {\n      DisplayMember,\n      DataSource: _DataSource,\n      inputRef,\n      disableInput = false,\n      onKeydown,\n      onChange,\n      label = {\n        title: \"Transaction : \",\n        style: {\n          fontSize: \"12px\",\n          fontWeight: \"bold\",\n          width: \"100px\",\n        },\n      },\n      input = {\n        width: \"740px\",\n      },\n      containerStyle,\n    }: any,\n    ref: any\n  ) => {\n    const [DataSource, setDataSource] = useState(_DataSource);\n    const [filteredSuggestions, setFilteredSuggestions] = useState([]);\n    const [showSuggestions, setShowSuggestions] = useState(false);\n    const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(0);\n\n    // Ref to store the suggestion container\n    const suggestionListRef = useRef<HTMLUListElement>(null);\n\n    useEffect(() => {\n      // Scroll the active suggestion into view\n      const activeElement =\n        suggestionListRef.current?.children[activeSuggestionIndex];\n      if (activeElement) {\n        activeElement.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"nearest\",\n        });\n      }\n    }, [activeSuggestionIndex]);\n\n    const handleClick = (suggestion: any) => {\n      setShowSuggestions(false);\n    };\n\n    const handleKeyDown = (e: any) => {\n      if (e.key === \"Tab\") {\n        flushSync(() => {\n          setShowSuggestions(false);\n          setFilteredSuggestions([]);\n        });\n      }\n      if (e.key === \"ArrowDown\") {\n        e.preventDefault();\n        setActiveSuggestionIndex((prevIndex) =>\n          Math.min(prevIndex + 1, filteredSuggestions.length - 1)\n        );\n      } else if (e.key === \"ArrowUp\") {\n        e.preventDefault();\n\n        setActiveSuggestionIndex((prevIndex) => Math.max(prevIndex - 1, 0));\n      } else if (e.key === \"Enter\" || e.key === \"NumpadEnter\") {\n        e.preventDefault();\n        if (filteredSuggestions.length > 0) {\n          const selectedSuggestion = filteredSuggestions[activeSuggestionIndex];\n          onChange(selectedSuggestion, e);\n          setShowSuggestions(false);\n        }\n      }\n\n      setTimeout(() => {\n        if (onKeydown) onKeydown(e);\n      }, 150);\n    };\n\n    const formatNumber = (value: string) => {\n      if (!value) return value;\n\n      // Split the value into integer and decimal parts\n      const parts = value.split(\".\");\n\n      // Add commas to the integer part only\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n\n      // Join the integer and decimal parts if decimal exists\n      return parts.join(\".\");\n    };\n\n    // Helper function to remove commas\n    const unformatNumber = (value: string) => {\n      return value.replace(/,/g, \"\");\n    };\n\n    // Function to ensure two decimal places\n    const ensureTwoDecimals = (value: string) => {\n      // If the value has no decimal part, append '.00'\n      if (!value.includes(\".\")) {\n        if (value === \"\") {\n          return \"0.00\";\n        } else {\n          return value + \".00\";\n        }\n      }\n\n      // If the value has one decimal place, append '0'\n      const parts = value.split(\".\");\n      if (parts[1].length === 1) {\n        return value + \"0\";\n      }\n\n      // If it already has two decimal places, return as is\n      return value;\n    };\n\n    const handleChange = (e: any) => {\n      let value = e.target.value;\n\n      // Remove commas for processing\n      value = unformatNumber(value);\n\n      // Allow only numbers, commas, and one decimal point\n      const regex = /^-?\\d+(,\\d{3})*(\\.\\d*)?$/;\n\n      // Remove commas for processing\n      value = unformatNumber(value);\n\n      // Check if the value is valid\n      if (value === \"\" || regex.test(value)) {\n        // Set the formatted value back in the input field\n        //setInputValue(formatNumber(value));\n        e.target.value = formatNumber(value);\n      } else {\n        const numbers = value.match(/\\d+/g);\n        if (numbers) {\n          const newV = numbers.join(\"\");\n          e.target.value = formatNumber(newV);\n        } else {\n          e.target.value = \"0\";\n        }\n      }\n\n      filterOnChange(e.target.value);\n    };\n\n    const filterOnChange = (value: any) => {\n      if (value.trim()) {\n        const filtered = DataSource.filter((item: any) =>\n          item[DisplayMember].toLowerCase().includes(value.toLowerCase())\n        );\n        setFilteredSuggestions(filtered);\n        setShowSuggestions(true);\n      } else {\n        setFilteredSuggestions([]);\n        setShowSuggestions(false);\n      }\n    };\n\n    const formatOnBlur = (value: any, e: any) => {\n      let newValue = unformatNumber(value);\n\n      // Ensure the value has two decimal places\n      newValue = ensureTwoDecimals(newValue);\n\n      // Set the value with commas and .00 (if needed)\n      // setInputValue(formatNumber(value));\n      e.target.value = formatNumber(newValue);\n    };\n\n    useImperativeHandle(ref, () => ({\n      setDataSource: (newDataSource: Array<any>) => {\n        setDataSource(newDataSource);\n      },\n    }));\n\n    return (\n      <div style={{ flex: 1 }}>\n        <TextInput\n          containerStyle={containerStyle}\n          label={label}\n          input={{\n            ...input,\n            disabled: disableInput,\n            type: \"text\",\n            onKeyDown: handleKeyDown,\n            onChange: handleChange,\n            onFocus: (e) => {\n              e.preventDefault();\n              e.currentTarget?.focus();\n              setShowSuggestions(true);\n              setFilteredSuggestions(DataSource);\n              if (inputRef.current) {\n                inputRef.current.focus();\n              }\n            },\n            onBlur: (e) => {\n              formatOnBlur(e.currentTarget.value, e);\n              if (e.relatedTarget && e.relatedTarget.tagName === \"LI\") {\n                wait(250).then(() => {\n                  setShowSuggestions(false);\n                  setFilteredSuggestions([]);\n                });\n              } else {\n                setShowSuggestions(false);\n                setFilteredSuggestions([]);\n              }\n            },\n          }}\n          icon={<KeyboardArrowDownIcon sx={{ fontSize: \"18px\" }} />}\n          onIconClick={(e) => {\n            if (inputRef.current) {\n              inputRef.current.focus();\n            }\n          }}\n          inputRef={inputRef}\n        />\n        {showSuggestions && filteredSuggestions.length > 0 && (\n          <ul className=\"suggestions\" ref={suggestionListRef}>\n            {filteredSuggestions.map((suggestion, index) => (\n              <li\n                tabIndex={0}\n                key={index}\n                onClick={(e) => {\n                  handleClick(suggestion);\n                  onChange(suggestion, e);\n                }}\n                className={index === activeSuggestionIndex ? \"active\" : \"\"}\n                onMouseEnter={(e) => {\n                  e.preventDefault();\n                  setActiveSuggestionIndex(\n                    Math.min(index, filteredSuggestions.length - 1)\n                  );\n                }}\n              >\n                {suggestion[DisplayMember]}\n              </li>\n            ))}\n          </ul>\n        )}\n        <style>\n          {`\n          .suggestions {\n            margin-top: 0;\n            padding: 0;\n            list-style: none;\n            max-height: 150px;\n            overflow-y: auto;\n            position:absolute;\n            z-index:100;\n            background:white;\n            width:350px;\n            border:1px solid #e5e7eb;\n            box-shadow: 0px 23px 32px -17px rgba(0,0,0,0.75);\n          }\n          .suggestions li {\n            padding:3px 10px;\n            cursor: pointer;\n            font-size:14px;\n          }\n          .suggestions li.active {\n            background-color: #e2e8f0;\n          }\n      \n        `}\n        </style>\n      </div>\n    );\n  }\n);\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"\n}), 'KeyboardArrowDown');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)([/*#__PURE__*/(0, _jsxRuntime.jsx)(\"circle\", {\n  cx: \"10\",\n  cy: \"8\",\n  r: \"4\"\n}, \"0\"), /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M10.35 14.01C7.62 13.91 2 15.27 2 18v2h9.54c-2.47-2.76-1.23-5.89-1.19-5.99zm9.08 4.01c.36-.59.57-1.28.57-2.02 0-2.21-1.79-4-4-4s-4 1.79-4 4 1.79 4 4 4c.74 0 1.43-.22 2.02-.57L20.59 22 22 20.59l-2.57-2.57zM16 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z\"\n}, \"1\")], 'PersonSearch');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8zm-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91z\"\n}), 'RestartAlt');\nexports.default = _default;"],"names":["_ref","_ref$title","title","_jsxs","Helmet","children","_jsx","concat","process","rel","type","href","reducer","state","action","_objectSpread","_defineProperty","field","value","columns","key","label","width","hide","chartColumn","headerName","flex","PettyCash","_queryFn","_mutationFn","_mutationFn2","_queryFn2","_handleAddTransaction","_getSelectedItem","_getSelectedItem2","_useContext","useContext","AuthContext","myAxios","user","_useState","useState","_useState2","_slicedToArray","pettyCashMode","setPettyCashMode","executeQueryToClient","useExecuteQueryFromClient","tableRef","useRef","inputSearchRef","subrefNoRef","refNoRef","dateRef","payeeRef","explanationRef","accountRef","usageRef","amountRef","vatRef","invoiceRef","transactionCodeRef","transactionShortRef","clientIdRef","subAcctRef","isDisableField","_useQuery","useQuery","queryKey","queryFn","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","get","headers","Authorization","accessToken","abrupt","sent","stop","apply","arguments","refetchOnWindowFocus","onSuccess","data","response","wait","then","current","pettyCashId","petty_cash_id","loadingPettyCashIdGenerator","isLoading","refetchettyCashIdGenerator","refetch","_useMutation","useMutation","mutationKey","mutationFn","_x","_callee2","variables","_context2","post","success","resetPettyCash","Swal","position","icon","message","timer","loadingAddUpdatePettyCash","mutateAddUpdatePettyCash","mutate","_useMutation2","_x2","_callee3","_context3","loadPettyCash","loadSelectedPettyCash","PC_No","format","Date","PC_Date","Payee","Explanation","setDataFormated","isLoadingLoadSelectedPettyCash","mutateLoadSelectedPettyCash","_useQuery2","_callee4","_context4","laodPettyCashTransaction","dataCashTransaction","handleAddTransaction","_callee5","TransDetail","getSelectedItem","_context5","_accountRef$current","focus","clientOpenModal","parseFloat","replace","_amountRef$current","getSelectedRow","getData","splice","setData","_accountRef$current2","_amountRef$current2","_usageRef$current","_usageRef$current2","_vatRef$current","_invoiceRef$current","currentData","newData","Short","Acct_Code","setSelectedRow","resetCheckBox","_toConsumableArray","resetRefs","setTimeout","_useUpwardTableModalS","useUpwardTableModalSearchSafeMode","link","column","_x3","_x4","_x5","_x6","_callee6","rowItm","_","rowIdx","__","_context6","pettyCashCloseModal","PettyCashUpwardTableModalSearch","UpwardTableModalSearch","pettyCashOpenModal","openModal","closeModal","_useUpwardTableModalS2","size","_x7","_x8","_x9","_x10","_callee7","_context7","_amountRef$current3","clientCloseModal","ClientUpwardTableModalSearch","_Fragment","Loading","PageHelmet","style","display","flexDirection","height","padding","background","alignItems","columnGap","marginBottom","TextInput","fontSize","fontWeight","input","className","onKeyDown","e","preventDefault","currentTarget","document","querySelector","SearchIcon","sx","onIconClick","inputRef","Button","variant","startIcon","AddIcon","id","onClick","LoadingButton","color","result","_payeeRef$current","_explanationRef$curre","newDataFormatted","map","itm","purpose","amount","usage","accountID","sub_account","clientID","clientName","accountCode","accountShort","vatType","invoice","length","codeCondfirmationAlert","isUpdate","cb","userCodeConfirmation","_refNoRef$current","_dateRef$current","_payeeRef$current2","_explanationRef$curre2","refNo","datePetty","payee","explanation","hasSelected","pettyCash","saveCondfirmationAlert","isConfirm","_refNoRef$current2","_dateRef$current2","_payeeRef$current3","_explanationRef$curre3","disabled","SaveIcon","loading","CloseIcon","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","borderBottom","paddingBottom","gap","marginTop","rowGap","readOnly","_dateRef$current3","code","RestartAltIcon","defaultValue","_payeeRef$current4","_explanationRef$curre4","_accountRef$current3","paddingTop","borderRadius","Autocomplete","containerStyle","DisplayMember","DataSource","laodTranscation","disableInput","onChange","selected","Purpose","onKeydown","_usageRef$current3","PersonSearchIcon","NumericFormat","getInputRef","decimalScale","fixedDecimalScale","_vatRef$current2","num","isNaN","valueIsNaN","onBlur","allowNegative","thousandSeparator","valueIsNumericString","SelectInput","select","margin","cursor","_invoiceRef$current2","datasource","values","selectRef","gridArea","DataGridViewReact","ref","colItm","colIdx","rowSelected","RowIndex","forwardRef","_DataSource","_ref$disableInput","_ref$label","_ref$input","_useState3","_useState4","setDataSource","_useState5","_useState6","filteredSuggestions","setFilteredSuggestions","_useState7","_useState8","showSuggestions","setShowSuggestions","_useState9","_useState10","activeSuggestionIndex","setActiveSuggestionIndex","suggestionListRef","useEffect","_suggestionListRef$cu","activeElement","scrollIntoView","behavior","block","useImperativeHandle","newDataSource","flushSync","prevIndex","Math","min","max","selectedSuggestion","target","trim","filtered","filter","item","toLowerCase","includes","onFocus","_e$currentTarget","relatedTarget","tagName","KeyboardArrowDownIcon","suggestion","index","tabIndex","onMouseEnter","AutocompleteNumber","_ref2","_ref2$disableInput","_ref2$label","_ref2$input","_useState11","_useState12","_useState13","_useState14","_useState15","_useState16","_useState17","_useState18","_suggestionListRef$cu2","formatNumber","parts","split","join","unformatNumber","filterOnChange","test","numbers","match","newV","_e$currentTarget2","newValue","ensureTwoDecimals","formatOnBlur","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d","cx","cy","r"],"sourceRoot":""}