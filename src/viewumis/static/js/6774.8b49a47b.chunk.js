"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[6774,1004],{37470:function(e,t,n){n.r(t),n.d(t,{bankColumn:function(){return D},default:function(){return R}});var r=n(1413),i=n(74165),o=n(15861),c=n(29439),u=n(72791),a=n(36151),l=n(42419),s=n(27247),d=n(4378),p=n(3380),f=n(91933),h=n(21830),x=n.n(h),v=n(79018),m=n(29823),y=n(53329),w=n(39709),b=n(64230),C=n(70272),g=n(15703),k=n(5403),S=n(50039),j=n(65413),Z=n(58418),A=(n(96857),n(80184)),D=[{key:"Acct_Code",label:"Account Code",width:200},{key:"Acct_Title",label:"Account Name / Account Title",width:500},{key:"Short",label:"Short Name",width:200},{key:"Account",label:"Account Type",width:200},{key:"Acct_Type",label:"Account Type",width:200},{key:"SubAccnt",label:"Sub Account?",width:100},{key:"IDNo",label:"I.D?",width:100},{key:"Inactive",label:"Inactive?",width:100}];function R(){var e,t,n,h,R=(0,u.useContext)(p.V),z=R.myAxios,I=R.user,B=(0,u.useRef)(null),T=(0,u.useState)(""),E=(0,c.Z)(T,2),L=E[0],G=E[1],K=(0,u.useRef)(null),M=(0,u.useRef)(null),W=(0,u.useRef)(null),_=(0,u.useRef)(null),F=(0,u.useRef)(null),Y=(0,u.useRef)(null),q=(0,u.useRef)(null),H=(0,u.useRef)(null),P=(0,u.useRef)(null),U=(0,f.useMutation)({mutationKey:"search-chart-account",mutationFn:function(t){return(e=e||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/reference/search-chart-account",t,{headers:{Authorization:"Bearer ".concat(null===I||void 0===I?void 0:I.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){e.data.success&&(console.log(e.data),(0,v.D)(100).then((function(){K.current.setDataFormated(e.data.data)})))}}),V=U.mutate,J=U.isLoading,O=(0,u.useRef)(V),Q=(0,f.useMutation)({mutationKey:"add",mutationFn:function(e){return(t=t||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/reference/add-chart-account",t,{headers:{Authorization:"Bearer ".concat(null===I||void 0===I?void 0:I.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:ae}),X=Q.mutate,$=Q.isLoading,ee=(0,f.useMutation)({mutationKey:"edit",mutationFn:function(e){return(n=n||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/reference/update-chart-account",t,{headers:{Authorization:"Bearer ".concat(null===I||void 0===I?void 0:I.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:ae}),te=ee.mutate,ne=ee.isLoading,re=(0,f.useMutation)({mutationKey:"delete",mutationFn:function(e){return(h=h||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.post("/reference/delete-chart-account",t,{headers:{Authorization:"Bearer ".concat(null===I||void 0===I?void 0:I.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:ae}),ie=re.mutate,oe=re.isLoading;function ce(e){var t,n,i,o,c,u,a,l,s,d,p;if(e.preventDefault(),""===(null===(t=_.current)||void 0===t?void 0:t.value))return x().fire({position:"center",icon:"warning",title:"Please provide account code!",showConfirmButton:!1,timer:1500});if(""===(null===(n=F.current)||void 0===n?void 0:n.value))return x().fire({position:"center",icon:"warning",title:"Please provide account name or title!",showConfirmButton:!1,timer:1500});if(""===(null===(i=Y.current)||void 0===i?void 0:i.value))return x().fire({position:"center",icon:"warning",title:"Please provide account short name!",showConfirmButton:!1,timer:1500});var f={Acct_Code:null===(o=_.current)||void 0===o?void 0:o.value,Acct_Title:null===(c=F.current)||void 0===c?void 0:c.value,Short:null===(u=Y.current)||void 0===u?void 0:u.value,Account:null===(a=M.current)||void 0===a?void 0:a.value,Acct_Type:null===(l=W.current)||void 0===l?void 0:l.value,IDNo:null===(s=P.current)||void 0===s?void 0:s.checked,SubAccnt:null===(d=H.current)||void 0===d?void 0:d.checked,Inactive:null===(p=q.current)||void 0===p?void 0:p.checked,mode:"",search:""};"edit"===L?(0,b.s)({isUpdate:!0,cb:function(e){te((0,r.Z)((0,r.Z)({},f),{},{userCodeConfirmation:e}))}}):(0,b.L)({isConfirm:function(){X(f)}})}function ue(){M.current&&(M.current.value=""),W.current&&(W.current.value=""),_.current&&(_.current.value=""),F.current&&(F.current.value=""),Y.current&&(Y.current.value=""),q.current&&(q.current.checked=!1),H.current&&(H.current.checked=!1),P.current&&(P.current.checked=!1)}function ae(e){if(e.data.success)return K.current.setSelectedRow(null),K.current.resetCheckBox(),O.current({search:""}),ue(),G(""),x().fire({position:"center",icon:"success",title:e.data.message,showConfirmButton:!1,timer:1500});x().fire({position:"center",icon:"error",title:e.data.message,showConfirmButton:!1,timer:1500})}return(0,u.useEffect)((function(){O.current({search:""})}),[]),(0,A.jsxs)(A.Fragment,{children:[J&&(0,A.jsx)(j.g,{}),(0,A.jsx)(C.Z,{title:"Chart Account"}),(0,A.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",flex:1,padding:"5px",position:"relative"},children:[(0,A.jsxs)("div",{style:{marginTop:"10px",marginBottom:"12px",width:"100%",display:"flex",columnGap:"7px"},children:[(0,A.jsx)(g.oi,{containerClassName:"custom-input",containerStyle:{width:"550px"},label:{title:"Search: ",style:{fontSize:"12px",fontWeight:"bold",width:"50px"}},input:{className:"search-input-up-on-key-down",type:"search",onKeyDown:function(e){("Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),V({search:e.currentTarget.value})),"ArrowDown"===e.key)&&(e.preventDefault(),document.querySelector(".grid-container").focus())},style:{width:"500px"}},icon:(0,A.jsx)(k.Z,{sx:{fontSize:"18px"}}),onIconClick:function(e){e.preventDefault(),B.current&&V({search:B.current.value})},inputRef:B}),(0,A.jsxs)("div",{className:"button-action-desktop",style:{display:"flex",alignItems:"center",columnGap:"8px"},children:[""===L&&(0,A.jsx)(a.Z,{style:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,A.jsx)(l.Z,{}),id:"entry-header-save-button",onClick:function(){G("add")},children:"New"}),(0,A.jsx)(w.Z,{style:{height:"22px",fontSize:"11px"},id:"save-entry-header",color:"primary",variant:"contained",type:"submit",sx:{height:"30px",fontSize:"11px"},onClick:ce,startIcon:(0,A.jsx)(y.Z,{}),disabled:""===L,loading:$||ne,children:"Save"}),""!==L&&(0,A.jsx)(a.Z,{style:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,A.jsx)(m.Z,{}),color:"error",onClick:function(){x().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&(ue(),G(""),K.current.setSelectedRow(null),K.current.resetCheckBox())}))},children:"Cancel"}),(0,A.jsx)(w.Z,{id:"save-entry-header",variant:"contained",sx:{height:"22px",fontSize:"11px",backgroundColor:d.Z[500],"&:hover":{backgroundColor:d.Z[600]}},loading:oe,startIcon:(0,A.jsx)(s.Z,{}),disabled:"edit"!==L,onClick:function(){var e;(0,b.s)({isUpdate:!1,title:"Confirmation",saveTitle:"Confirm",text:"Are you sure you want to delete '".concat(null===(e=_.current)||void 0===e?void 0:e.value,"'?"),cb:function(e){var t;ie({Acct_Code:null===(t=_.current)||void 0===t?void 0:t.value,userCodeConfirmation:e})}})},children:"Delete"})]})]}),(0,A.jsxs)("fieldset",{className:"container-fields",style:{padding:"5px",width:"75%",rowGap:"5px",display:"flex",columnGap:"20px"},children:[(0,A.jsx)("legend",{style:{fontSize:"12px",fontWeight:"bold"},children:"Account Details"}),(0,A.jsxs)("div",{style:{width:"50%",display:"flex",flexDirection:"column",rowGap:"5px"},children:[(0,A.jsx)(Z.Autocomplete,{containerClassName:"custom-input",label:{title:"Account Classification :",style:{fontSize:"12px",fontWeight:"bold",width:"150px"}},input:{id:"auto-solo-collection",style:{width:"100%",flex:1}},width:"100%",DisplayMember:"Line",DataSource:[{Line:"Asset"},{Line:"Liability"},{Line:"Equity"},{Line:"Revenue"},{Line:"Expense"}],disableInput:""===L,inputRef:M,onChange:function(e,t){M.current&&(M.current.value=e.Line)},onKeydown:function(e){var t;"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),null===(t=W.current)||void 0===t||t.focus())}}),(0,A.jsx)(Z.Autocomplete,{containerClassName:"custom-input",label:{title:"Account Type :",style:{fontSize:"12px",fontWeight:"bold",width:"150px"}},input:{id:"auto-solo-collection",style:{width:"100%",flex:1}},width:"100%",DisplayMember:"Line",DataSource:[{Line:"Group Header"},{Line:"Header"},{Line:"Detail"}],disableInput:""===L,inputRef:W,onChange:function(e,t){W.current&&(W.current.value=e.Line)},onKeydown:function(e){var t;"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),null===(t=_.current)||void 0===t||t.focus())}})]}),(0,A.jsxs)("div",{className:"container-max-width",style:{width:"50%",display:"flex",flexDirection:"column",rowGap:"5px"},children:[(0,A.jsxs)("div",{className:"container-fields-custom",style:{display:"flex",columnGap:"5px"},children:[(0,A.jsx)(g.oi,{containerClassName:"custom-input",label:{title:"Code : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:""===L||"edit"===L,type:"text",style:{width:"250px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(e.preventDefault(),null===(t=F.current)||void 0===t||t.focus())}},inputRef:_}),(0,A.jsx)(N,{gridRow:1,inputRef:q,label:"Mark as Inactive"})]}),(0,A.jsx)(g.oi,{containerClassName:"custom-input",label:{title:"Name / Title : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:""===L,type:"text",style:{width:"400px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=Y.current)||void 0===t||t.focus(),e.preventDefault())}},inputRef:F}),(0,A.jsx)(g.oi,{containerClassName:"custom-input",label:{title:"Short Name : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:""===L,type:"text",style:{width:"400px"},onKeyDown:function(e){"NumpadEnter"!==e.code&&"Enter"!==e.code||e.preventDefault()}},inputRef:Y}),(0,A.jsxs)("div",{style:{display:"flex",columnGap:"10px"},children:[(0,A.jsx)(N,{gridRow:1,inputRef:H,label:"Required sub-account?"}),(0,A.jsx)(N,{gridRow:1,inputRef:P,label:"Required I.D.?"})]})]})]}),(0,A.jsx)("div",{style:{marginTop:"10px",width:"100%",position:"relative",flex:1,display:"flex"},children:(0,A.jsx)(S.BW,{containerStyle:{flex:1,height:"auto"},ref:K,columns:D,height:"280px",getSelectedItem:function(e){e?(G("edit"),M.current&&(M.current.value=e[3]),W.current&&(W.current.value=e[4]),_.current&&(_.current.value=e[0]),F.current&&(F.current.value=e[1]),Y.current&&(Y.current.value=e[2]),q.current&&(q.current.checked="YES"===e[7]),H.current&&(H.current.checked="YES"===e[5]),P.current&&(P.current.checked="YES"===e[6])):ue()}})}),(0,A.jsxs)("div",{className:"button-action-mobile",style:{display:"flex",alignItems:"center",columnGap:"8px"},children:[""===L&&(0,A.jsx)(a.Z,{style:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,A.jsx)(l.Z,{}),id:"entry-header-save-button",onClick:function(){G("add")},children:"New"}),(0,A.jsx)(w.Z,{style:{height:"22px",fontSize:"11px"},id:"save-entry-header",color:"primary",variant:"contained",type:"submit",sx:{height:"30px",fontSize:"11px"},onClick:ce,startIcon:(0,A.jsx)(y.Z,{}),disabled:""===L,loading:$||ne,children:"Save"}),""!==L&&(0,A.jsx)(a.Z,{style:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,A.jsx)(m.Z,{}),color:"error",onClick:function(){x().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&(ue(),G(""),K.current.setSelectedRow(null),K.current.resetCheckBox())}))},children:"Cancel"}),(0,A.jsx)(w.Z,{id:"save-entry-header",variant:"contained",sx:{height:"22px",fontSize:"11px",backgroundColor:d.Z[500],"&:hover":{backgroundColor:d.Z[600]}},loading:oe,startIcon:(0,A.jsx)(s.Z,{}),disabled:"edit"!==L,onClick:function(){var e;(0,b.s)({isUpdate:!1,title:"Confirmation",saveTitle:"Confirm",text:"Are you sure you want to delete '".concat(null===(e=_.current)||void 0===e?void 0:e.value,"'?"),cb:function(e){var t;ie({Acct_Code:null===(t=_.current)||void 0===t?void 0:t.value,userCodeConfirmation:e})}})},children:"Delete"})]})]})]})}var N=function(e){var t=e.inputRef,n=e.label,r=e.gridRow,i=(0,u.useId)();return(0,A.jsxs)("div",{style:{display:"flex",columnGap:"5px",gridRow:r},children:[(0,A.jsx)("input",{id:i,ref:t,type:"checkbox",style:{cursor:"pointer"}}),(0,A.jsx)("label",{htmlFor:i,style:{fontSize:"12px",cursor:"pointer"},children:n})]})}},27247:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),o=n(80184),c=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=c},4378:function(e,t){t.Z={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"}},96857:function(){}}]);
//# sourceMappingURL=6774.8b49a47b.chunk.js.map