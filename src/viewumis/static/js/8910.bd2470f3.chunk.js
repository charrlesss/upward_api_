"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[8910],{48910:function(e,t,n){n.d(t,{O0:function(){return S},BW:function(){return b},Jg:function(){return Z},_j:function(){return E}});var o=n(74165),r=n(15861),i=n(1413),c=n(93433),l=n(29439),u=n(72791),a=n(637),s=n(5403),d=n(15703),f=n(79018),p=n(29823),h=n(58340),x=n(3380),m=n(65413),v=n(54164),g=(n(71268),n(80184)),b=(0,u.forwardRef)((function(e,t){var n=e.columns,o=(e.rows,e.height),r=void 0===o?"400px":o,a=e.getSelectedItem,s=e.onKeyDown,d=e.disbaleTable,f=void 0!==d&&d,p=e.isTableSelectable,h=void 0===p||p,x=e.containerStyle,m=e.focusElementOnMaxTop,v=e.ActionComponent,b=void 0===v?function(){return(0,g.jsx)(g.Fragment,{})}:v,w=e.showSequence,S=void 0!==w&&w,j=(0,u.useRef)(null),I=(0,u.useRef)(null),Z=(0,u.useRef)([]),R=(0,u.useRef)(null),C=(0,u.useState)([]),E=(0,l.Z)(C,2),D=E[0],T=E[1],z=(0,u.useState)([]),N=(0,l.Z)(z,2),B=N[0],M=N[1],F=(0,u.useState)(0),A=(0,l.Z)(F,2),L=A[0],O=A[1],_=(0,u.useState)(null),K=(0,l.Z)(_,2),q=K[0],P=K[1],W=B.reduce((function(e,t){return e+t.width}),0),X=(0,u.useState)(h),Y=(0,l.Z)(X,2),H=Y[0],U=Y[1],V=(0,u.useState)(n.filter((function(e){return!e.hide}))),Q=(0,l.Z)(V,2),$=Q[0],J=Q[1],G=(0,u.useState)(null),ee=(0,l.Z)(G,2),te=ee[0],ne=ee[1];(0,u.useEffect)((function(){n.length>0&&M(n.filter((function(e){return!e.hide})))}),[n]),(0,u.useImperativeHandle)(t,(function(){return{checkNoIsExist:function(e){return D.some((function(t){return t[2]===e}))},selectedRow:function(){return L},getData:function(){return(0,c.Z)(D)},setData:function(e){T(e)},getColumns:function(){return n},resetTable:function(){T([]),O(0),P(null)},getSelectedRow:function(){return q},setSelectedRow:function(e){return P(e)},resetCheckBox:function(){return oe()},_setSelectedRow:function(e){return O(e)},setIsTableSelectable:function(e){U(e)},setDataFormated:function(e){T(e.map((function(e){return n.map((function(t){return e[t.key]}))})))},getDataFormatted:function(){return(0,c.Z)(D).map((function(e){return{Check_No:e[0],Check_Date:e[1],Check_Amnt:e[2],BankName:e[3],Branch:e[4],Check_Remarks:e[5],Deposit_Slip:e[6],DateDeposit:e[7],OR_No:e[8],BankCode:e[9]}}))},getElementBody:function(){return R.current},getParentElement:function(){return j.current}}}));var oe=function(){Z.current.forEach((function(e,t){e&&(e.checked=!1)}))},re=function(e){Z.current.forEach((function(t,n){e!==n&&t&&(t.checked=!1)}))},ie=function(e,t){e.preventDefault(),t===q&&I.current.showModal()};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(k,{ref:I,Component:(0,g.jsx)(b,{selectedRowIndex:q,closeModal:function(){return I.current.closeDelay()},rowItm:D[q]})}),(0,g.jsx)("div",{className:"table-datagridview-main",ref:j,style:(0,i.Z)((0,i.Z)({width:"100%",height:r,overflow:"auto",position:"relative",pointerEvents:f?"none":"auto",border:f?"2px solid #8c8f8e":"2px solid #c0c0c0",boxShadow:"inset -2px -2px 0 #ffffff, \n                        inset 2px 2px 0 #808080"},x),{},{background:"#dcdcdc"}),children:(0,g.jsxs)("div",{style:{position:"absolute",width:"".concat(W,"px"),height:"auto"},children:[(0,g.jsxs)("table",{id:"upward-cutom-table",style:{borderCollapse:"collapse",width:"100%",position:"relative",background:"#dcdcdc"},children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{style:{width:"30px",border:"none",position:"sticky",top:0,zIndex:1,background:"#f0f0f0"}}),S&&(0,g.jsx)("th",{style:{width:"50px",borderRight:"1px solid #e2e8f0",position:"sticky",top:0,zIndex:1,background:"#f0f0f0",fontSize:"12px",padding:"0px 5px",textAlign:"center"},children:"SEQ"}),B.map((function(e,t){return(0,g.jsx)("th",{style:{width:e.width,borderRight:"1px solid #e2e8f0",position:"sticky",top:0,zIndex:1,background:"#f0f0f0",fontSize:"12px",padding:"0px 5px",textAlign:"number"===e.type?"center":"left"},children:(0,g.jsxs)("div",{className:" ".concat(te===t?"highlight-column":""),style:{width:e.width,height:"20px"},children:[e.label,(0,g.jsx)("div",{className:"resize-handle",onMouseDown:function(e){return function(e,t){t.preventDefault(),t.stopPropagation();var n=t.clientX,o=$[e].width,r=function(t){var r=o+(t.clientX-n),i=(0,c.Z)($);i[e].width=r>50?r:50,J(i)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",e)}))}(t,e)},onMouseEnter:function(e){e.preventDefault(),ne(t)},onMouseLeave:function(e){e.preventDefault(),ne(null)}})]},t)},t)}))]})}),(0,g.jsx)("tbody",{ref:R,children:null===D||void 0===D?void 0:D.map((function(e,t){return(0,g.jsx)(y,{rowIdx:t,rowItm:e,selectedRowIndex:q,selectedRow:L,isTableSelectable:H,setSelectedRowIndex:P,getSelectedItem:a,setSelectedRow:O,column:B,onKeyDown:s,focusElementOnMaxTop:m,data:D,parentElementRef:j,checkboxRef:Z,handleResetCheckBox:oe,handleResetCheckBoxByIndex:re,handleRightClick:ie,showSequence:S},t)}))})]}),(0,g.jsx)("style",{children:"\n             #upward-cutom-table tr td{\n               border-right:1px solid #f1f5f9 !important;\n             }\n          \n              #upward-cutom-table tr:nth-child(odd) td {\n                  background-color: #ffffff !important;\n              }\n              #upward-cutom-table tr:nth-child(even) td {\n                  background-color: #f5f5f5 !important;\n              }\n              #upward-cutom-table tr.selected td {\n                  background-color: #0076d7 !important;\n                  color: #ffffff !important;\n                  border-right:1px solid white !important;\n                border-bottom:1px solid white !important;\n\n              }\n              \n               #upward-cutom-table tr.selected td input {\n                  color: #ffffff !important;\n              }\n\n              .resize-handle {\n                    position: absolute;\n                    right: 0;\n                    top: 0;\n                    width: 5px;\n                    height: 100%;\n                    cursor: col-resize;\n                    background-color: transparent;\n                  }\n\n                  .resize-handle:hover {\n                    background-color: #101111;\n                  }\n\n                  .highlight-column {\n                    border-right: 2px solid #007bff !important;\n                  }\n  \n              "})]})})]})})),y=(0,u.forwardRef)((function(e,t){var n=e.rowIdx,o=e.rowItm,r=e.selectedRowIndex,i=e.selectedRow,c=e.isTableSelectable,l=e.setSelectedRowIndex,u=e.getSelectedItem,a=e.setSelectedRow,s=e.column,d=e.onKeyDown,f=e.focusElementOnMaxTop,p=e.data,h=e.parentElementRef,x=e.checkboxRef,m=e.handleResetCheckBox,v=e.handleResetCheckBoxByIndex,b=e.handleRightClick,y=e.showSequence;return(0,g.jsxs)("tr",{"data-index":n,className:"row ".concat(i===n||r===n?"selected":""),children:[(0,g.jsx)("td",{style:{position:"relative",border:"none",cursor:"pointer",background:i===n?"#0076d":"",padding:0,margin:0},children:(0,g.jsx)("div",{style:{width:"18px",height:"18px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,g.jsx)(w,{checkboxRef:x,isTableSelectable:c,setSelectedRowIndex:l,rowIdx:n,rowItm:o,getSelectedItem:u,setSelectedRow:a,handleResetCheckBoxByIndex:v},n)})}),y&&(0,g.jsx)("td",{style:{position:"relative",border:"none",cursor:"pointer",background:i===n?"#0076d":"",padding:0,margin:0},children:(0,g.jsx)("input",{readOnly:!0,defaultValue:"".concat(String(n+1).padStart(2,"0")),style:{width:"50px",pointerEvents:"none",border:"none",background:"transparent",userSelect:"none",height:"100%",textAlign:"center"}})}),s.map((function(e,t){return(0,g.jsx)("td",{className:"td row-".concat(n," col-").concat(t," "),tabIndex:0,onDoubleClick:function(){c&&(m(),r===n?(l(null),x.current[n].checked=!1,u&&u(null,null,n,null)):(x.current[n].checked=!0,l(n),u&&u(o,null,n,null)),a(null))},onClick:function(){a(n)},onKeyDown:function(e){if(d&&d(o,n,e),"ArrowUp"===e.key?a((function(e){var t=Math.max(e-1,-1),n=document.querySelector(".td.row-".concat(t));if(!(t<0))return n&&n.focus(),t;f&&f()})):"ArrowDown"===e.key&&a((function(e){var t=Math.min(e+1,p.length-1),n=document.querySelector(".td.row-".concat(t));return n&&(n.focus(),t<=15)?(h.current.style.overflow="hidden",setTimeout((function(){h.current.style.overflow="auto"}),100),t):t})),"Enter"===e.code||"NumpadEnter"===e.code){if(e.preventDefault(),!c)return;l(n),u&&u(o,null,n,null),a(null)}},style:{border:"none",fontSize:"12px",padding:"0px 5px",cursor:"pointer",height:"20px",userSelect:"none"},onContextMenu:function(e){return b(e,n)},children:(0,g.jsx)("input",{type:D(o[t])?"date":"text",readOnly:!0,value:o[t],style:{width:e.width,pointerEvents:"none",border:"none",background:"transparent",userSelect:"none",height:"100%",textAlign:"number"===e.type?"right":"left"}})},t)}))]},n)})),w=(0,u.forwardRef)((function(e,t){var n=e.isTableSelectable,o=e.setSelectedRowIndex,r=e.rowIdx,i=e.rowItm,c=e.getSelectedItem,l=e.setSelectedRow,u=e.checkboxRef,a=e.handleResetCheckBoxByIndex;return(0,g.jsx)("input",{ref:function(e){return u.current[r]=e},style:{cursor:"pointer",margin:"0px !important",position:"absolute"},readOnly:!0,type:"checkbox",onClick:function(e){if(n)return a(r),e.currentTarget.checked?(o(r),c&&c(i,null,r,null),void l(null)):(o(null),c&&c(null,null,r,null),void l(null))}})})),k=(0,u.forwardRef)((function(e,t){e.handleOnSave;var n=e.handleOnClose,o=(e.hasSelectedRow,e.Component),r=(0,u.useState)(!1),i=(0,l.Z)(r,2),c=i[0],a=i[1],s=(0,u.useState)(!1),d=(0,l.Z)(s,2),f=d[0],h=d[1],x=(0,u.useState)(!1),m=(0,l.Z)(x,2),v=m[0],b=m[1],y=function(){h(!0),setTimeout((function(){a(!1),h(!1),n&&n()}),100)},w=(0,u.useRef)(y);return(0,u.useImperativeHandle)(t,(function(){return{showModal:function(){a(!0)},clsoeModal:function(){a(!1)},blick:v,closeDelay:y}})),(0,u.useEffect)((function(){window.addEventListener("keydown",(function(e){"Escape"===e.key&&w.current()}))}),[]),c?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0,background:"transparent",zIndex:"88"},onClick:function(){b(!0),setTimeout((function(){b(!1)}),250)}}),(0,g.jsxs)("div",{style:{height:"auto",width:"auto",border:"1px solid #64748b",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -75%)",display:"flex",flexDirection:"column",zIndex:f?-100:100,opacity:f?0:1,transition:"all 150ms",boxShadow:"3px 6px 32px -7px rgba(0,0,0,0.75)"},children:[(0,g.jsxs)("div",{style:{height:"22px",background:"white",display:"flex",justifyContent:"space-between",padding:"5px",position:"relative",alignItems:"center"},children:[(0,g.jsx)("span",{style:{fontSize:"13px",fontWeight:"bold"},children:"Action"}),(0,g.jsx)("button",{className:"btn-check-exit-modal",style:{padding:"0 5px",borderRadius:"0px",background:"white",color:"black",height:"22px",position:"absolute",top:0,right:0},onClick:function(){y()},children:(0,g.jsx)(p.Z,{sx:{fontSize:"22px"}})})]}),o,(0,g.jsx)("style",{children:"\n              .btn-check-exit-modal:hover{\n                background:red !important;\n                color:white !important;\n              }\n            "})]})]}):null})),S=(0,u.forwardRef)((function(e,t){var n=e.columns,o=(e.rows,e.height),r=void 0===o?"400px":o,a=e.getSelectedItem,s=e.onKeyDown,d=e.disbaleTable,f=void 0!==d&&d,p=e.isTableSelectable,h=void 0===p||p,x=e.containerStyle,m=e.focusElementOnMaxTop,v=e.onCheckAll,b=e.onUnCheckAll,y=e.rowIsSelectable,w=(0,u.useRef)(null),k=(0,u.useRef)(null),S=(0,u.useState)([]),j=(0,l.Z)(S,2),I=j[0],Z=j[1],R=(0,u.useState)([]),C=(0,l.Z)(R,2),E=C[0],T=C[1],z=(0,u.useState)(0),N=(0,l.Z)(z,2),B=N[0],M=N[1],F=(0,u.useState)([]),A=(0,l.Z)(F,2),L=A[0],O=A[1],_=E.reduce((function(e,t){return e+t.width}),0),K=(0,u.useState)(h),q=(0,l.Z)(K,2),P=q[0],W=q[1],X=(0,u.useState)(n.filter((function(e){return!e.hide}))),Y=(0,l.Z)(X,2),H=Y[0],U=Y[1],V=(0,u.useState)(null),Q=(0,l.Z)(V,2),$=Q[0],J=Q[1];(0,u.useEffect)((function(){n.length>0&&T(n.filter((function(e){return!e.hide})))}),[n]),(0,u.useImperativeHandle)(t,(function(){return{checkNoIsExist:function(e){return I.some((function(t){return t[2]===e}))},selectedRow:function(){return B},getData:function(){return(0,c.Z)(I)},getSelectedRowsData:function(){var e=(0,c.Z)(I);return L.map((function(t){return e[t]})).filter((function(e){return void 0!==e}))},setData:function(e){Z(e)},getColumns:function(){return n},resetTable:function(){Z([]),M(0),O([])},getSelectedRow:function(){return L},setSelectedRow:function(e){return O(e)},_setSelectedRow:function(e){return M(e)},setDataFormated:function(e){Z(e.map((function(e){return n.map((function(t){return e[t.key]}))})))},setIsTableSelectable:function(e){W(e)},getDataFormatted:function(){return(0,c.Z)(I).map((function(e){return{Check_No:e[0],Check_Date:e[1],Check_Amnt:e[2],BankName:e[3],Branch:e[4],Check_Remarks:e[5],Deposit_Slip:e[6],DateDeposit:e[7],OR_No:e[8],BankCode:e[9]}}))},getElementBody:function(){return k.current},getParentElement:function(){return w.current},isTableSelectable:P}}));return(0,g.jsx)("div",{ref:w,style:(0,i.Z)((0,i.Z)({width:"100%",height:r,overflow:"auto",position:"relative",pointerEvents:f?"none":"auto",border:f?"2px solid #8c8f8e":"2px solid #c0c0c0",boxShadow:"inset -2px -2px 0 #ffffff, \n                        inset 2px 2px 0 #808080"},x),{},{background:"#dcdcdc"}),children:(0,g.jsxs)("div",{style:{position:"absolute",width:"".concat(_,"px"),height:"auto"},children:[(0,g.jsxs)("table",{id:"upward-cutom-table-multi",style:{borderCollapse:"collapse",width:"100%",position:"relative",background:"#dcdcdc"},children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[P&&(0,g.jsx)("th",{style:{width:"30px",border:"none",position:"sticky",top:0,zIndex:1,background:"#f0f0f0"},children:(0,g.jsx)("div",{style:{width:"18px",height:"18px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,g.jsx)("input",{style:{cursor:"pointer",margin:"0px !important",position:"absolute"},readOnly:!0,type:"checkbox",onClick:function(e){e.currentTarget.checked?v&&v():b&&b()}})})}),E.map((function(e,t){return(0,g.jsx)("th",{style:{width:e.width,borderRight:"1px solid #e2e8f0",position:"sticky",top:0,zIndex:1,background:"#f0f0f0",fontSize:"12px",padding:"0px 5px",textAlign:"number"===e.type?"center":"left"},children:(0,g.jsxs)("div",{className:" ".concat($===t?"highlight-column":""),style:{width:e.width,height:"20px"},children:[e.label,(0,g.jsx)("div",{className:"resize-handle",onMouseDown:function(e){return function(e,t){t.preventDefault(),t.stopPropagation();var n=t.clientX,o=H[e].width,r=function(t){var r=o+(t.clientX-n),i=(0,c.Z)(H);i[e].width=r>50?r:50,U(i)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",e)}))}(t,e)},onMouseEnter:function(e){e.preventDefault(),J(t)},onMouseLeave:function(e){e.preventDefault(),J(null)}})]},t)},t)}))]})}),(0,g.jsx)("tbody",{ref:k,children:null===I||void 0===I?void 0:I.map((function(e,t){return(0,g.jsxs)("tr",{"data-index":t,className:"row ".concat(B===t&&L.includes(t)?"multi-selected-row-item":B===t?"multi-selected-row":L.includes(t)?"multi-selected-item":""),children:[P&&(0,g.jsx)("td",{style:{position:"relative",border:"none",cursor:"pointer",background:B===t?"#0076d":"",padding:0,margin:0},children:(0,g.jsx)("div",{style:{width:"18px",height:"18px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,g.jsx)("input",{style:{cursor:"pointer",margin:"0px !important",position:"absolute"},readOnly:!0,checked:L.includes(t),type:"checkbox",onClick:function(){y&&y(e)||P&&(L.includes(t)?O((function(e){return e.filter((function(e){return e!==t}))})):O((function(e){return[].concat((0,c.Z)(e),[t])})),a&&a(e,null,t,null))}})})}),E.map((function(n,o){return(0,g.jsx)("td",{className:"td row-".concat(t," col-").concat(o," "),tabIndex:0,onDoubleClick:function(){if((!y||!y(e))&&P)return L.includes(t)?(O((function(e){return e.filter((function(e){return e!==t}))})),void(a&&a(null,null,t,null))):(O((function(e){return[].concat((0,c.Z)(e),[t])})),void(a&&a(e,null,t,null)))},onClick:function(){M(t)},onKeyDown:function(n){if(s&&s(e,t,n),"ArrowUp"===n.key?M((function(e){var t=Math.max(e-1,-1),n=document.querySelector(".td.row-".concat(t));if(!(t<0))return n&&n.focus(),t;m&&m()})):"ArrowDown"===n.key&&M((function(e){var t=Math.min(e+1,I.length-1),n=document.querySelector(".td.row-".concat(t));return n&&(n.focus(),t<=15)?(w.current.style.overflow="hidden",setTimeout((function(){w.current.style.overflow="auto"}),100),t):t})),"Enter"===n.code||"NumpadEnter"===n.code){if(n.preventDefault(),!P)return;L.includes(t)?O((function(e){return e.filter((function(e){return e!==t}))})):O((function(e){return[].concat((0,c.Z)(e),[t])})),a&&a(e,null,t,null)}},style:{border:"none",fontSize:"12px",padding:"0px 5px",cursor:"pointer",height:"20px",userSelect:"none"},children:(0,g.jsx)("input",{type:D(e[o])?"date":"text",readOnly:!0,value:e[o],style:{width:n.width,pointerEvents:"none",border:"none",background:"transparent",userSelect:"none",height:"100%",textAlign:"number"===n.type?"right":"left"}})},o)}))]},t)}))})]}),(0,g.jsx)("style",{children:"\n             #upward-cutom-table-multi tr td{\n               border-right:1px solid #f1f5f9 !important;\n             }\n          \n              #upward-cutom-table-multi tr:nth-child(odd) td {\n                  background-color: #ffffff !important;\n              }\n              #upward-cutom-table-multi tr:nth-child(even) td {\n                  background-color: #f5f5f5 !important;\n              }\n\n             #upward-cutom-table-multi tr.multi-selected-row-item td {\n                background-color: rgba(84, 84, 82, 0.73) !important;\n                border-right:1px solid white !important;\n                border-bottom:1px solid white !important;\n              }\n              #upward-cutom-table-multi tr.multi-selected-row-item td input {\n                  color: #ffffff !important;\n              }\n\n            #upward-cutom-table-multi tr.multi-selected-item td {\n                background-color: rgba(232, 232, 226, 0.99) !important;\n                border-right:1px solid white !important;\n                border-bottom:1px solid white !important;\n              }\n              #upward-cutom-table-multi tr.multi-selected-item td input {\n                  color: black !important;\n              }\n\n              #upward-cutom-table-multi tr.multi-selected-row td {\n                  background-color: #0076d7 !important;\n                  border-right:1px solid white !important;\n                  border-bottom:1px solid white !important;\n              }\n              #upward-cutom-table-multi tr.multi-selected-row td input {\n                  color: #ffffff !important;\n              }\n                  .resize-handle {\n                    position: absolute;\n                    right: 0;\n                    top: 0;\n                    width: 5px;\n                    height: 100%;\n                    cursor: col-resize;\n                    background-color: transparent;\n                  }\n\n                  .resize-handle:hover {\n                    background-color: #101111;\n                  }\n\n                  .highlight-column {\n                    border-right: 2px solid #007bff !important;\n                  }\n  \n  \n              "})]})})})),j=[],I="",Z=function(e){var t=e.column,n=e.query,i=e.getSelectedItem,c=e.onKeyDown,x=e.customWidth,m=e.onClose,v=(0,u.useState)(!1),y=(0,l.Z)(v,2),w=y[0],k=y[1],S=(0,u.useRef)(null);function Z(){m&&(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&m(),k(!1),j=[]}var R=function(){var e,h,m,v=(0,u.useRef)(null),y=(0,u.useRef)(!1),k=(0,u.useRef)({x:0,y:0}),R=(0,u.useRef)(null),C=(0,u.useState)(!1),E=(0,l.Z)(C,2),D=E[0],T=E[1],z=(0,u.useState)([]),N=(0,l.Z)(z,2),B=N[0],M=N[1],F=(0,a.Z)().executeQueryToClient;(0,u.useEffect)((function(){j.length>0&&(S.current&&(S.current.value=I),M(j))}),[M]),(0,u.useEffect)((function(){var e;B.length>0&&(j=B,null===(e=R.current)||void 0===e||e.setDataFormated(B))}),[B]);var A=function(e){y.current&&v.current&&(v.current.style.left="".concat(e.clientX-k.current.x,"px"),v.current.style.top="".concat(e.clientY-k.current.y,"px"))},L=function e(){y.current=!1,document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",e)};return w?(0,g.jsxs)("div",{id:"modal-inject",children:[(0,g.jsx)("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0,background:"transparent",zIndex:"88"},onClick:function(){T(!0),setTimeout((function(){T(!1)}),250)}}),(0,g.jsxs)("div",{className:"modal-table-datagridview",ref:v,style:{background:"#F1F1F1",width:x?x(D,t):D?"451px":"450px",height:D?"501px":"500px",position:"absolute",zIndex:111111,top:"50%",left:"50%",transform:"translate(-50%,-50%)",boxShadow:"3px 6px 32px -7px rgba(0,0,0,0.75)",boxSizing:"border-box",display:"flex",flexDirection:"column"},children:[(0,g.jsxs)("div",{style:{height:"22px",background:"white",display:"flex",justifyContent:"space-between",padding:"5px",position:"relative",alignItems:"center",cursor:"grab"},onMouseDown:function(e){v.current&&(y.current=!0,k.current={x:e.clientX-v.current.offsetLeft,y:e.clientY-v.current.offsetTop},document.addEventListener("mousemove",A),document.addEventListener("mouseup",L))},children:[(0,g.jsx)("span",{style:{fontSize:"13px",fontWeight:"bold"},children:"Search"}),(0,g.jsx)("button",{className:"btn-check-exit-modal",style:{padding:"0 5px",borderRadius:"0px",background:"white",color:"black",height:"22px",position:"absolute",top:0,right:0},onClick:function(){Z()},children:(0,g.jsx)(p.Z,{sx:{fontSize:"22px"}})})]}),(0,g.jsx)("div",{style:{padding:"5px"},children:(0,g.jsx)(d.oi,{containerStyle:{width:"100%"},label:{title:"Search : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px",display:"none"}},input:{type:"text",style:{width:"100%"},onKeyDown:function(t){return(e=e||(0,r.Z)((0,o.Z)().mark((function e(t){var r,i,c,l,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("NumpadEnter"!==t.code&&"Enter"!==t.code){e.next=8;break}return I=t.currentTarget.value,r=n(t.currentTarget.value),console.log(r),e.next=6,F(r);case 6:i=e.sent,M(i.data.data);case 8:"ArrowDown"===t.code&&((l=document.querySelector(".td.row-0"))&&(u=R.current.getParentElement(),l.focus({preventScroll:!0}),u.style.overflow="hidden",(0,f.D)(100).then((function(){u.style.overflow="auto"}))),null===(c=R.current)||void 0===c||c._setSelectedRow(0));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onInput:function(e){return(h=h||(0,r.Z)((0,o.Z)().mark((function e(t){var r,i,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.currentTarget.value){e.next=6;break}return i=n(null===(r=S.current)||void 0===r?void 0:r.value),e.next=4,F(i);case 4:c=e.sent,M(c.data.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},inputRef:S,icon:(0,g.jsx)(s.Z,{sx:{fontSize:"18px"}}),onIconClick:function(e){return(m=m||(0,r.Z)((0,o.Z)().mark((function e(t){var r,i,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),S.current&&(I=S.current.value),i=n(null===(r=S.current)||void 0===r?void 0:r.value),e.next=5,F(i);case 5:c=e.sent,M(c.data.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})}),(0,g.jsx)("div",{style:{flex:1},children:(0,g.jsx)(b,{columns:t,height:"100%",ref:R,getSelectedItem:i,onKeyDown:c,focusElementOnMaxTop:function(){var e;null===(e=S.current)||void 0===e||e.focus()}})}),(0,g.jsx)("div",{style:{padding:"0 10px"},children:(0,g.jsxs)("span",{style:{fontSize:"13px",fontWeight:"bold"},children:["Records: Top ",B.length]})}),(0,g.jsx)("style",{children:"\n                .btn-check-exit-modal:hover{\n                    background:red !important;\n                    color:white !important;\n                }\n            "})]})]}):(0,g.jsx)(g.Fragment,{})};return{openModal:function(e){var t=document.body,n=document.createElement("div");n.id="modal-portal",document.getElementById("modal-portal")&&t.removeChild(document.getElementById("modal-portal")),t.insertBefore(n,document.getElementById("root")),(0,f.D)(100).then((function(){n.innerHTML=h.renderToString((0,g.jsx)(R,{}))})),k(!0),(0,f.D)(100).then((function(){if(S.current){S.current.value=e;var t=new KeyboardEvent("keydown",{code:"Enter",bubbles:!0});S.current.focus(),S.current.dispatchEvent(t),(0,f.D)(100).then((function(){var e;null===(e=S.current)||void 0===e||e.focus()}))}}))},closeModal:Z,UpwardTableModalSearch:R}},R=[],C="",E=function(e){var t=e.column,n=e.link,i=e.getSelectedItem,c=e.onKeyDown,a=(e.customWidth,e.onClose),h=e.size,y=void 0===h?"small":h,w=(0,u.useState)(!1),k=(0,l.Z)(w,2),S=k[0],j=k[1],I=(0,u.useRef)(null);function Z(){a&&(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&a(),j(!1),R=[]}var E=(0,u.forwardRef)((function(e,a){var h,w,k;!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e);var j=(0,u.useContext)(x.V),E=j.user,D=j.myAxios,T=(0,u.useRef)(null),z=(0,u.useRef)(!1),N=(0,u.useRef)({x:0,y:0}),B=(0,u.useRef)(null),M=(0,u.useState)(!1),F=(0,l.Z)(M,2),A=F[0],L=F[1],O=(0,u.useState)(!1),_=(0,l.Z)(O,2),K=_[0],q=_[1],P=(0,u.useState)([]),W=(0,l.Z)(P,2),X=W[0],Y=W[1];function H(e){q(!0),D.post(n,e,{headers:{Authorization:"Bearer ".concat(null===E||void 0===E?void 0:E.accessToken)}}).then((function(e){var t;Y(null===(t=e.data)||void 0===t?void 0:t.data),q(!1)})).catch((function(e){q(!1),console.log(e)})).finally((function(){q(!1)}))}function U(e){return(h=h||(0,r.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(!0),e.next=4,D.post(n,t,{headers:{Authorization:"Bearer ".concat(null===E||void 0===E?void 0:E.accessToken)}});case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),q(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}(0,u.useEffect)((function(){R.length>0&&(I.current&&(I.current.value=C),Y(R))}),[Y]),(0,u.useEffect)((function(){var e;X.length>0&&(R=X),null===(e=B.current)||void 0===e||e.setDataFormated(X)}),[X]);var V=function(e){z.current&&T.current&&(T.current.style.left="".concat(e.clientX-N.current.x,"px"),T.current.style.top="".concat(e.clientY-N.current.y,"px"))},Q=function e(){z.current=!1,document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",e)};return(0,u.useImperativeHandle)(a,(function(){return{mutate:H,mutateReturnValue:U}})),S?v.createPortal((0,g.jsxs)("div",{id:"modal-inject",children:[(0,g.jsx)("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0,background:"transparent",zIndex:"88"},onClick:function(){L(!0),setTimeout((function(){L(!1)}),250)}}),(0,g.jsxs)("div",{className:"modal-table-datagridview",ref:T,style:{background:"#F1F1F1",width:function(e){return"large"===y?e?"851px":"850px":"medium"===y?e?"651px":"650px":e?"451px":"450px"}(A),height:A?"501px":"500px",position:"absolute",zIndex:111111,top:"50%",left:"50%",transform:"translate(-50%,-50%)",boxShadow:"3px 6px 32px -7px rgba(0,0,0,0.75)",boxSizing:"border-box",display:"flex",flexDirection:"column"},children:[K&&(0,g.jsx)(m.g,{}),(0,g.jsxs)("div",{style:{height:"22px",background:"white",display:"flex",justifyContent:"space-between",padding:"5px",position:"relative",alignItems:"center",cursor:"grab"},onMouseDown:function(e){T.current&&(z.current=!0,N.current={x:e.clientX-T.current.offsetLeft,y:e.clientY-T.current.offsetTop},document.addEventListener("mousemove",V),document.addEventListener("mouseup",Q))},children:[(0,g.jsx)("span",{style:{fontSize:"13px",fontWeight:"bold"},children:"Search"}),(0,g.jsx)("button",{className:"btn-check-exit-modal",style:{padding:"0 5px",borderRadius:"0px",background:"white",color:"black",height:"22px",position:"absolute",top:0,right:0},onClick:function(){Z()},children:(0,g.jsx)(p.Z,{sx:{fontSize:"22px"}})})]}),(0,g.jsx)("div",{style:{padding:"5px"},children:(0,g.jsx)(d.oi,{containerStyle:{width:"100%"},label:{title:"Search : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px",display:"none"}},input:{type:"text",style:{width:"100%"},onKeyDown:function(e){return(w=w||(0,r.Z)((0,o.Z)().mark((function e(t){var n,r,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"NumpadEnter"!==t.code&&"Enter"!==t.code||(C=t.currentTarget.value,H({search:t.currentTarget.value})),"ArrowDown"===t.code&&((r=document.querySelector(".td.row-0"))&&(i=B.current.getParentElement(),r.focus({preventScroll:!0}),i.style.overflow="hidden",(0,f.D)(100).then((function(){i.style.overflow="auto"}))),null===(n=B.current)||void 0===n||n._setSelectedRow(0));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onInput:function(e){""===e.currentTarget.value&&H({search:""})}},inputRef:I,icon:(0,g.jsx)(s.Z,{sx:{fontSize:"18px"}}),onIconClick:function(e){return(k=k||(0,r.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),I.current&&(C=I.current.value),H({search:null===(n=I.current)||void 0===n?void 0:n.value});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}})}),(0,g.jsx)("div",{style:{flex:1},children:(0,g.jsx)(b,{columns:t,height:"100%",ref:B,getSelectedItem:i,onKeyDown:c,focusElementOnMaxTop:function(){var e;null===(e=I.current)||void 0===e||e.focus()}})}),(0,g.jsx)("div",{style:{padding:"0 10px"},children:(0,g.jsxs)("span",{style:{fontSize:"13px",fontWeight:"bold"},children:["Records: Top ",X.length]})}),(0,g.jsx)("style",{children:"\n                                    .btn-check-exit-modal:hover{\n                                        background:red !important;\n                                        color:white !important;\n                                    }\n                                "})]})]}),document.getElementById("modal-portal")):(0,g.jsx)(g.Fragment,{})}));return{openModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.body,n=document.createElement("div");n.id="modal-portal",document.getElementById("modal-portal")&&t.removeChild(document.getElementById("modal-portal")),t.insertBefore(n,t.firstChild),j(!0),(0,f.D)(100).then((function(){if(I.current){I.current.value=e;var t=new KeyboardEvent("keydown",{code:"Enter",bubbles:!0});I.current.focus(),I.current.dispatchEvent(t),(0,f.D)(100).then((function(){var e;null===(e=I.current)||void 0===e||e.focus()}))}}))},closeModal:Z,UpwardTableModalSearch:E,searchInputRef:I}};function D(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return!1;var t=new Date(e);return t instanceof Date&&!isNaN(t)&&t.toISOString().slice(0,10)===e}},15703:function(e,t,n){n.d(t,{lq:function(){return p},Fz:function(){return f},iA:function(){return s},oi:function(){return d}});var o=n(29439),r=n(1413),i=n(72791);function c(e){if(!/^\d{4}-\d{2}-\d{2}$/.test(e))return!1;var t=e.split("-"),n=(0,o.Z)(t,3),r=n[0],i=n[1],c=n[2],l=parseInt(r);if(l<1e3||l>2040)return!1;var u=new Date(e);return u.getFullYear()===l&&u.getMonth()+1===parseInt(i)&&u.getDate()===parseInt(c)}var l=n(16386),u=n(79018),a=n(80184);function s(e){var t=e.input,n=e.label,o=e.inputRef,c=e.icon,l=e.iconPosition,u=void 0===l?"end":l,s=e.disableIcon,d=void 0!==s&&s,f=e.onIconClick,p=void 0===f?function(e){}:f,h=e.onChange,x=void 0===h?function(e){}:h,m=e.onBlur,v=void 0===m?function(e){}:m,g=e.containerStyle,b=e.containerClassName,y=(0,i.useId)(),w=function(e){if(!e)return e;var t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},k=function(e){return e.replace(/,/g,"")};return(0,a.jsxs)("div",{className:b,style:(0,r.Z)({display:"flex",alignItems:"center",position:"relative"},g),children:[(0,a.jsx)("label",(0,r.Z)((0,r.Z)({},n),{},{htmlFor:y,children:n.title})),c&&"start"===u&&(0,a.jsx)("div",{style:{position:"absolute",left:"8px",zIndex:1},children:c}),(0,a.jsx)("input",(0,r.Z)((0,r.Z)({ref:o,id:y},t),{},{type:"text",style:(0,r.Z)({height:"100%",textAlign:"right"},t.style),onChange:function(e){!function(e){var t=e.target.value;if(t=k(t),""===(t=k(t))||/^-?\d+(,\d{3})*(\.\d*)?$/.test(t))e.target.value=w(t);else{var n=t.match(/\d+/g);if(n){var o=n.join("");e.target.value=w(o)}else e.target.value="0"}}(e),x(e)},onBlur:function(e){!function(e){var t=k(e.target.value);t=function(e){return e.includes(".")?1===e.split(".")[1].length?e+"0":e:""===e?"0.00":e+".00"}(t),e.target.value=w(t)}(e),v(e)},onFocus:function(e){e.currentTarget.select(),t&&t.onFocus&&t.onFocus(e)}})),c&&"end"===u&&(0,a.jsx)("div",{onClick:p,style:{position:"absolute",right:"2px",top:"50%",transform:"translateY(-50%)",zIndex:1,cursor:d?"none":"pointer",display:"flex",alignItems:"center",justifyContent:"center",background:"white",pointerEvents:d?"none":"auto"},children:c})]})}function d(e){var t=e.input,n=e.label,o=e.inputRef,s=e.icon,d=e.iconPosition,f=void 0===d?"end":d,p=e.disableIcon,h=void 0!==p&&p,x=e.containerStyle,m=e.onIconClick,v=void 0===m?function(e){}:m,g=e.containerClassName,b=(0,i.useId)();return(0,a.jsxs)("div",{className:g,style:(0,r.Z)({display:"flex",alignItems:"center",position:"relative"},x),children:[(0,a.jsx)("label",(0,r.Z)((0,r.Z)({},n),{},{htmlFor:b,children:n.title})),s&&"start"===f&&(0,a.jsx)("div",{style:{position:"absolute",left:"8px",zIndex:1},children:s}),(0,a.jsx)("input",(0,r.Z)((0,r.Z)({ref:o,id:b},t),{},{onBlur:function(e){var r,i;if("month"===t.type&&!c("".concat(e.currentTarget.value,"-01")))return alert("Invalid ".concat(null===(r=n.title)||void 0===r?void 0:r.replace(/:/g,"").trim(),"!, Resetting date.")),e.currentTarget.value=(0,l.Z)(new Date,"yyyy-MM"),void(0,u.D)(100).then((function(){var e;null===o||void 0===o||null===(e=o.current)||void 0===e||e.focus()}));if("date"===t.type&&!c(e.currentTarget.value))return alert("Invalid ".concat(null===(i=n.title)||void 0===i?void 0:i.replace(/:/g,"").trim(),"!, Resetting date.")),e.currentTarget.value=(0,l.Z)(new Date,"yyyy-MM-dd"),void(0,u.D)(100).then((function(){var e;null===o||void 0===o||null===(e=o.current)||void 0===e||e.focus()}));t&&t.onBlur&&t.onBlur(e)},style:(0,r.Z)({height:"100%"},t.style)})),s&&"end"===f&&(0,a.jsx)("div",{onClick:v,style:{position:"absolute",right:"2px",top:"50%",transform:"translateY(-50%)",zIndex:1,cursor:h?"none":"pointer",display:"flex",alignItems:"center",justifyContent:"center",background:"white",pointerEvents:h?"none":"auto"},children:s})]})}function f(e){var t=e.containerClassName,n=e.textarea,o=e.label,c=e._inputRef,l=e.icon,u=e.iconPosition,s=void 0===u?"end":u,d=e.disableIcon,f=void 0!==d&&d,p=e.onIconClick,h=void 0===p?function(e){}:p,x=e.containerStyle,m=(0,i.useId)();return(0,a.jsxs)("div",{className:t,style:(0,r.Z)({display:"flex",alignItems:"center",position:"relative"},x),children:[(0,a.jsx)("label",(0,r.Z)((0,r.Z)({},o),{},{htmlFor:m,children:o.title})),l&&"start"===s&&(0,a.jsx)("div",{style:{position:"absolute",left:"8px",zIndex:1},children:l}),(0,a.jsx)("textarea",(0,r.Z)((0,r.Z)({ref:c,id:m},n),{},{style:(0,r.Z)({height:"100%"},n.style)})),l&&"end"===s&&(0,a.jsx)("div",{onClick:h,style:{position:"absolute",right:"2px",top:"50%",transform:"translateY(-50%)",zIndex:1,cursor:f?"none":"pointer",display:"flex",alignItems:"center",justifyContent:"center",background:"white",pointerEvents:f?"none":"auto"},children:l})]})}var p=(0,i.forwardRef)((function(e,t){var n=e.select,c=e.label,l=e.selectRef,u=e.datasource,s=void 0===u?[]:u,d=e.values,f=void 0===d?"":d,p=e.display,h=void 0===p?"":p,x=e.containerStyle,m=e.containerClassName,v=(0,i.useState)(s),g=(0,o.Z)(v,2),b=g[0],y=g[1],w=(0,i.useId)();return(0,i.useImperativeHandle)(t,(function(){return{setDataSource:function(e){y(e)},getDataSource:function(){return b}}})),(0,a.jsxs)("div",{className:m,style:(0,r.Z)({display:"flex",height:"18px",alignItems:"center"},x),children:[(0,a.jsx)("label",(0,r.Z)((0,r.Z)({},c),{},{htmlFor:w,children:c.title})),(0,a.jsx)("select",(0,r.Z)((0,r.Z)({},n),{},{ref:l,className:"select ".concat(n.className),style:(0,r.Z)({height:"18px"},n.style),children:b.map((function(e,t){return(0,a.jsx)("option",{value:e[f],children:e[h]},t)}))}))]})}))},637:function(e,t,n){n.d(t,{Z:function(){return l}});var o=n(74165),r=n(15861),i=n(72791),c=n(3380);function l(){var e,t=(0,i.useContext)(c.V),n=t.myAxios,l=t.user;return{executeQueryToClient:function(t){return(e=e||(0,r.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.post("/execute-query",{query:t},{headers:{Authorization:"Bearer ".concat(null===l||void 0===l?void 0:l.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}},79018:function(e,t,n){function o(e){return new Promise((function(t){return setTimeout(t,e)}))}n.d(t,{D:function(){return o}})},71268:function(){}}]);
//# sourceMappingURL=8910.bd2470f3.chunk.js.map