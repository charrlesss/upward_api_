"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[8744],{70272:function(e,t,n){var r=n(54270),o=n(80184);t.Z=function(e){var t=e.title,n=void 0===t?"":t;return(0,o.jsxs)(r.q,{children:[(0,o.jsx)("title",{children:"".concat("UCSMI"," - ").concat(n)}),(0,o.jsx)("link",{rel:"icon",type:"image/png",href:"".concat("https://ucsmiapi.upwardinsurance.net/","/logo.png")})]})}},58418:function(e,t,n){n.r(t),n.d(t,{AutoCompletePro:function(){return L},Autocomplete:function(){return P},AutocompleteNumber:function(){return K},chartColumn:function(){return B},default:function(){return M},reducer:function(){return E}});var r=n(93433),o=n(74165),i=n(15861),a=n(29439),u=n(4942),c=n(1413),l=n(72791),s=n(36151),d=n(39709),f=n(42419),p=n(53329),h=n(29823),v=n(21830),x=n.n(v),y=n(3380),m=n(86753),g=n(91933),w=n(79018),b=n(64230),C=n(70272),k=n(15703),D=n(30948),S=n(16386),N=n(637),Z=n(50039),j=n(5403),T=n(65413),I=n(85172),A=n(54164),R=n(91421),z=n(80184),E=function(e,t){return"UPDATE_FIELD"===t.type?(0,c.Z)((0,c.Z)({},e),{},(0,u.Z)({},t.field,t.value)):e},_=[{key:"purpose",label:"Purpose",width:400},{key:"amount",label:"Amount",width:140},{key:"usage",label:"Usage",width:450},{key:"accountID",label:"Account ID",width:400},{key:"sub_account",label:"Sub Account",width:120},{key:"clientID",label:"ID No",width:140},{key:"clientName",label:"Name",width:350},{key:"accountCode",label:"Accoount Code",width:130},{key:"accountShort",label:"Account Short",width:300},{key:"vatType",label:"Vat Type",width:100},{key:"invoice",label:"Invoice",width:200},{key:"TempID",label:"TempId",hide:!0}],B=[{field:"Acct_Code",headerName:"Code",flex:1},{field:"Acct_Title",headerName:"Title",flex:1},{field:"Short",headerName:"Short Name",flex:1}];function M(){var e,t,n,u,c,v,I,A=(0,l.useContext)(y.V),E=A.myAxios,B=A.user,M=(0,l.useState)(""),P=(0,a.Z)(M,2),K=P[0],F=P[1],W=(0,N.Z)().executeQueryToClient,V=(0,l.useRef)(null),U=(0,l.useRef)(null),O=(0,l.useRef)(""),q=(0,l.useRef)(null),G=(0,l.useRef)(null),H=(0,l.useRef)(null),Y=(0,l.useRef)(null),Q=(0,l.useRef)(null),J=(0,l.useRef)(null),$=(0,l.useRef)(null),X=(0,l.useRef)(null),ee=(0,l.useRef)(null),te=(0,l.useRef)(null),ne=((0,l.useRef)(null),(0,l.useRef)("")),re=(0,l.useRef)(""),oe=(0,l.useRef)(""),ie=(0,l.useRef)(""),ae=""===K,ue=(0,g.useQuery)({queryKey:"petty-cash-id-generator",queryFn:function(){return(e=e||(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/task/accounting/get-petty-cash-id",{headers:{Authorization:"Bearer ".concat(null===B||void 0===B?void 0:B.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},refetchOnWindowFocus:!1,onSuccess:function(e){var t=e;(0,w.D)(100).then((function(){O.current=t.data.pettyCashId[0].petty_cash_id,q.current&&(q.current.value=t.data.pettyCashId[0].petty_cash_id)}))}}),ce=ue.isLoading,le=ue.refetch,se=(0,g.useMutation)({mutationKey:"add-update-petty-cash",mutationFn:function(e){return(t=t||(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("/task/accounting/add-petty-cash",t,{headers:{Authorization:"Bearer ".concat(null===B||void 0===B?void 0:B.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;return t.data.success?(be(),x().fire({position:"center",icon:"success",title:t.data.message,timer:1500})):x().fire({position:"center",icon:"warning",title:t.data.message,timer:1500})}}),de=se.isLoading,fe=se.mutate,pe=(0,g.useMutation)({mutationKey:"load-selected-petty-cash",mutationFn:function(e){return(n=n||(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("/task/accounting/load-selected-petty-cash",t,{headers:{Authorization:"Bearer ".concat(null===B||void 0===B?void 0:B.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e.data.loadSelectedPettyCash;O.current=t[0].PC_No,q.current&&(q.current.value=t[0].PC_No),G.current&&(G.current.value=(0,S.Z)(new Date(t[0].PC_Date),"yyyy-MM-dd")),H.current&&(H.current.value=t[0].Payee),Y.current&&(Y.current.value=t[0].Explanation),V.current.setDataFormated(t)}}),he=pe.isLoading,ve=pe.mutate,xe=(0,g.useQuery)({queryKey:"load-transcation",queryFn:function(){return(u=u||(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/task/accounting/load-transcation",{headers:{Authorization:"Bearer ".concat(null===B||void 0===B?void 0:B.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){(0,w.D)(100).then((function(){J.current&&J.current.setDataSource(e.data.laodTranscation)}))},refetchOnWindowFocus:!1}),ye=xe.isLoading;function me(){if(H.current&&""===H.current.value)return x().fire({position:"center",icon:"warning",title:"Please provide payee!",timer:1500}).then((function(e){(0,w.D)(300).then((function(){var e;null===(e=H.current)||void 0===e||e.focus()}))}));if(Y.current&&""===Y.current.value)return x().fire({position:"center",icon:"warning",title:"Please provide explanation!",timer:1500}).then((function(e){(0,w.D)(300).then((function(){var e;null===(e=Y.current)||void 0===e||e.focus()}))}));var e=V.current.getData().map((function(e){return{purpose:e[0],amount:e[1],usage:e[2],accountID:e[3],sub_account:e[4],clientID:e[5],clientName:e[6],accountCode:e[7],accountShort:e[8],vatType:e[9],invoice:e[10]}}));if(e.length<=0)return x().fire({position:"center",icon:"warning",title:"Please provide transaction entry!",timer:1500});"edit"===K?(0,b.s)({isUpdate:!0,cb:function(t){var n,r,o,i;fe({refNo:null===(n=q.current)||void 0===n?void 0:n.value,datePetty:null===(r=G.current)||void 0===r?void 0:r.value,payee:null===(o=H.current)||void 0===o?void 0:o.value,explanation:null===(i=Y.current)||void 0===i?void 0:i.value,hasSelected:"edit"===K,pettyCash:e,userCodeConfirmation:t})}}):(0,b.L)({isConfirm:function(){var t,n,r,o;fe({refNo:null===(t=q.current)||void 0===t?void 0:t.value,datePetty:null===(n=G.current)||void 0===n?void 0:n.value,payee:null===(r=H.current)||void 0===r?void 0:r.value,explanation:null===(o=Y.current)||void 0===o?void 0:o.value,hasSelected:"edit"===K,pettyCash:e})}})}function ge(){return(c=c||(0,i.Z)((0,o.Z)().mark((function e(){var t,n,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==ne.current){e.next=2;break}return e.abrupt("return",x().fire({position:"center",icon:"warning",title:"Transaction not found!",timer:1500}).then((function(){(0,w.D)(300).then((function(){var e;null===(e=Q.current)||void 0===e||e.focus()}))})));case 2:if(""!==re.current){e.next=4;break}return e.abrupt("return",x().fire({position:"center",icon:"warning",title:"Transaction not found!",timer:1500}).then((function(){(0,w.D)(300).then((function(){var e;null===(e=Q.current)||void 0===e||e.focus()}))})));case 4:if(!Q.current||""!==Q.current.value){e.next=6;break}return e.abrupt("return",x().fire({position:"center",icon:"warning",title:"Please provide transaction",timer:1500}).then((function(){(0,w.D)(300).then((function(){var e;null===(e=Q.current)||void 0===e||e.focus()}))})));case 6:if(""!==oe.current){e.next=8;break}return e.abrupt("return",x().fire({position:"center",icon:"warning",title:"Please provide usage",timer:1500}).then((function(){(0,w.D)(300).then((function(){$.current&&je($.current.value)}))})));case 8:if(!X.current||!(""===X.current.value||parseFloat(X.current.value.replace(/,/g,""))<1)){e.next=10;break}return e.abrupt("return",x().fire({position:"center",icon:"warning",title:"Please provide proper amount",timer:1500}).then((function(){(0,w.D)(300).then((function(){var e;null===(e=X.current)||void 0===e||e.focus()}))})));case 10:return e.next=12,W("\n         SELECT DISTINCT\n              Chart_Account.Acct_Code,\n              Chart_Account.Acct_Title,\n              Chart_Account.Short\n          FROM\n             petty_log as  Petty_Log\n                  LEFT JOIN\n             chart_account as  Chart_Account ON Petty_Log.Acct_Code = Chart_Account.Acct_Code\n          WHERE\n              Petty_Log.Acct_Code = '".concat(ne.current,"'\n      "));case 12:t=e.sent,null!==(n=V.current.getSelectedRow())&&((i=V.current.getData()).splice(n,1),V.current.setData(i)),(0,w.D)(100).then((function(){var e,o,i,a,u,c,l=V.current.getData(),s=[null===(e=Q.current)||void 0===e?void 0:e.value,null===(o=X.current)||void 0===o?void 0:o.value,"".concat(null===(i=$.current)||void 0===i?void 0:i.value," > ").concat(oe.current," > ").concat(ie.current),"".concat(t.data.data[0].Short," > ").concat(t.data.data[0].Acct_Code),ie.current,oe.current,null===(a=$.current)||void 0===a?void 0:a.value,t.data.data[0].Acct_Code,t.data.data[0].Short,null===(u=ee.current)||void 0===u?void 0:u.value,null===(c=te.current)||void 0===c?void 0:c.value];null!==n?(l.splice(n,0,s),V.current.setData(l),V.current.setSelectedRow(null),V.current.resetCheckBox()):(V.current.setData([].concat((0,r.Z)(l),[s])),V.current.setSelectedRow(null),V.current.resetCheckBox()),we(),Q.current&&Q.current.focus()}));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){setTimeout((function(){Q.current&&(Q.current.value=""),X.current&&(X.current.value=""),$.current&&($.current.value=""),ee.current&&(ee.current.value="NON-VAT"),te.current&&(te.current.value=""),ie.current="",oe.current="",ne.current="",re.current=""}),100)}function be(){F(""),le(),setTimeout((function(){le(),G.current&&(G.current.value=(0,S.Z)(new Date,"yyyy-MM-dd")),H.current&&(H.current.value=""),Y.current&&(Y.current.value="")}),100),we(),V.current.setData([])}var Ce=(0,Z._j)({link:"/task/accounting/search-petty-cash",column:[{key:"PC_Date",label:"Type",width:130},{key:"PC_No",label:"ID No.",width:200},{key:"Payee",label:"Name",flex:1},{key:"Explanation",label:"ID",flex:1},{key:"Explanation",label:"ID",flex:1,hide:!0}],getSelectedItem:function(e,t,n,r){return(v=v||(0,i.Z)((0,o.Z)().mark((function e(t,n,r,i){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&((0,w.D)(100).then((function(){ve({PC_No:t[1]})})),F("edit"),Se());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),ke=Ce.UpwardTableModalSearch,De=Ce.openModal,Se=Ce.closeModal,Ne=(0,Z._j)({size:"large",link:"/task/accounting/search-pdc-policy-id",column:[{key:"Type",label:"Type",width:100},{key:"IDNo",label:"ID No.",width:120},{key:"Name",label:"Name",width:350},{key:"chassis",label:"Chassis No.",width:200},{key:"remarks",label:"remarks",width:0,hide:!0},{key:"client_id",label:"client_id",width:0,hide:!0},{key:"Acronym",label:"Acronym",width:0,hide:!0},{key:"sub_account",label:"sub_account",width:0,hide:!0}],getSelectedItem:function(e,t,n,r){return(I=I||(0,i.Z)((0,o.Z)().mark((function e(t,n,r,i){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&((0,w.D)(100).then((function(){oe.current=t[1],ie.current=t[6],$.current&&($.current.value=t[2])})),(0,w.D)(200).then((function(){var e;X.current&&(null===(e=X.current)||void 0===e||e.focus(),X.current.value="")})),Te());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),Ze=Ne.UpwardTableModalSearch,je=Ne.openModal,Te=Ne.closeModal;return(0,z.jsxs)(z.Fragment,{children:[(he||de)&&(0,z.jsx)(T.g,{}),(0,z.jsx)(C.Z,{title:"Petty Cash"}),(0,z.jsx)(ke,{}),(0,z.jsx)(Ze,{}),(0,z.jsxs)("div",{className:"main",style:{display:"flex",flexDirection:"column",width:"100%",height:"auto",flex:1,padding:"5px",background:"#F1F1F1",position:"relative"},children:[(0,z.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"5px",marginBottom:"10px"},children:[(0,z.jsx)(k.oi,{containerClassName:"search-input",label:{title:"Search: ",style:{fontSize:"12px",fontWeight:"bold",width:"50px"}},input:{className:"search-input-up-on-key-down",type:"search",onKeyDown:function(e){("Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),De(e.currentTarget.value)),"ArrowDown"===e.key)&&(e.preventDefault(),document.querySelector(".grid-container").focus())},style:{width:"500px"}},icon:(0,z.jsx)(j.Z,{sx:{fontSize:"18px"}}),onIconClick:function(e){e.preventDefault(),U.current&&De(U.current.value)},inputRef:U}),(0,z.jsxs)("div",{className:"petty-cash-desktop-buttons",style:{display:"flex",alignItems:"center",columnGap:"10px"},children:[""===K&&(0,z.jsx)(s.Z,{sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,z.jsx)(f.Z,{sx:{width:15,height:15}}),id:"entry-header-save-button",onClick:function(){F("add")},children:"New"}),(0,z.jsx)(d.Z,{sx:{height:"22px",fontSize:"11px"},id:"save-entry-header",color:"primary",variant:"contained",type:"submit",onClick:me,disabled:""===K,startIcon:(0,z.jsx)(p.Z,{sx:{width:15,height:15}}),loading:de,children:"edit"===K?"Update":"Save"}),""!==K&&(0,z.jsx)(s.Z,{sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,z.jsx)(h.Z,{sx:{width:15,height:15}}),color:"error",onClick:function(){x().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&be()}))},children:"Cancel"})]})]}),(0,z.jsxs)("div",{className:"layer-one",style:{display:"flex",flexDirection:"row",width:"100%",borderBottom:"1px dashed  #334155",paddingBottom:"20px",gap:"50px",marginTop:"5px"},children:[(0,z.jsxs)("div",{style:{display:"flex",flexDirection:"column",rowGap:"10px"},children:[ce?(0,z.jsx)(d.Z,{loading:ce}):(0,z.jsx)(k.oi,{containerClassName:"custom-input",label:{title:"Ref. No. : ",style:{fontSize:"12px",fontWeight:"bold",width:"80px"}},input:{disabled:ae,type:"text",style:{width:"200px"},readOnly:!0,onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=G.current)||void 0===t||t.focus())}},icon:(0,z.jsx)(m.Z,{sx:{fontSize:"18px"}}),onIconClick:function(e){e.preventDefault(),le()},inputRef:q,disableIcon:"add"!==K}),(0,z.jsx)(k.oi,{containerClassName:"custom-input",label:{title:"Deposit Date: ",style:{fontSize:"12px",fontWeight:"bold",width:"80px"}},input:{defaultValue:(0,S.Z)(new Date,"yyyy-MM-dd"),className:"search-input-up-on-key-down",type:"date",style:{width:"200px"},disabled:ae,onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=H.current)||void 0===t||t.focus())}},inputRef:G})]}),(0,z.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",rowGap:"10px"},children:[(0,z.jsx)(k.oi,{containerClassName:"custom-input",label:{title:"Payee : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:ae,type:"text",style:{width:"400px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=Y.current)||void 0===t||t.focus())}},inputRef:H}),(0,z.jsx)(k.oi,{containerClassName:"custom-input",label:{title:"Explanation : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:ae,type:"text",style:{flex:1},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=Q.current)||void 0===t||t.focus())}},inputRef:Y})]})]}),(0,z.jsx)("div",{className:"layer-two",style:{display:"flex",flexDirection:"row",width:"100%",paddingTop:"20px",gap:"50px",borderRadius:"3px"},children:(0,z.jsxs)("div",{className:"layer-two-main-div",style:{display:"flex",flexDirection:"column",rowGap:"10px"},children:[ye?(0,z.jsx)(d.Z,{loading:ye}):(0,z.jsx)(L,{ref:J,inputRef:Q,disableInput:ae,label:{title:"Transaction : ",style:{fontSize:"12px",fontWeight:"bold",width:"80px"}},onChange:function(e,t){t?(Q.current&&(Q.current.value=t.Purpose),ne.current=t.Acct_Code,re.current=t.Short):(Q.current&&(Q.current.value=e.currentTarget.value),ne.current="",re.current="")},onKeydown:function(e){var t;"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),null===(t=$.current)||void 0===t||t.focus())},containerStyle:{width:"450px"}}),(0,z.jsxs)("div",{className:"layer-two-main-div-container",style:{display:"flex",columnGap:"20px"},children:[(0,z.jsx)(k.oi,{containerClassName:"custom-input",label:{title:"Usage : ",style:{fontSize:"12px",fontWeight:"bold",width:"80px"}},input:{disabled:ae,type:"text",style:{width:"450px"},onKeyDown:function(e){"NumpadEnter"!==e.code&&"Enter"!==e.code||je(e.currentTarget.value)}},icon:(0,z.jsx)(R.Z,{sx:{fontSize:"18px",color:ae?"gray":"black"}}),onIconClick:function(e){e.preventDefault(),$.current&&je($.current.value)},inputRef:$}),(0,z.jsxs)("div",{style:{display:"flex"},children:[(0,z.jsx)("label",{className:"petty-cash-amount-label",style:{fontSize:"12px",fontWeight:"bold",width:"70px"},children:"Amount :"}),(0,z.jsx)(D.h3,{className:"petty-cash-amount-input",disabled:ae,getInputRef:X,decimalScale:2,fixedDecimalScale:!0,style:{width:"200px"},onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.currentTarget.value=function(e){if(""!==e&&null!==e){var t=parseFloat(e.replace(/,/g,""));return isNaN(t)?"0.00":e}return"0.00"}(e.currentTarget.value),null===(t=ee.current)||void 0===t||t.focus())},onBlur:function(e){""===e.currentTarget.value&&(e.currentTarget.value="0.00")},allowNegative:!1,thousandSeparator:!0,valueIsNumericString:!0})]})]}),(0,z.jsxs)("div",{className:"layer-two-main-div-container",style:{display:"flex",columnGap:"20px"},children:[(0,z.jsx)(k.lq,{containerClassName:"custom-input",containerStyle:{fontSize:"12px",fontWeight:"bold"},label:{title:"VAT Type",style:{width:"80px"}},select:{defaultValue:"NON-VAT",disabled:ae,style:{width:"100% !important",flex:1,height:"100% !important",padding:0,margin:0,cursor:"pointer"},onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(null===(t=te.current)||void 0===t||t.focus())}},datasource:[{key:"NON-VAT"},{key:"VAT"}],values:"key",display:"key",selectRef:ee}),(0,z.jsx)(k.oi,{containerClassName:"custom-input",label:{title:"Invoice : ",style:{fontSize:"12px",fontWeight:"bold",width:"80px"}},input:{disabled:ae,type:"text",style:{width:"270px"},onKeyDown:function(e){"NumpadEnter"!==e.code&&"Enter"!==e.code||(e.preventDefault(),ge())}},inputRef:te}),(0,z.jsx)(s.Z,{className:"button-transaction",disabled:ae,color:"success",variant:"contained",style:{gridArea:"button",height:"22px",fontSize:"12px",width:"270px"},startIcon:(0,z.jsx)(f.Z,{}),onClick:function(){ge()},children:"Save Transaction"})]})]})}),(0,z.jsx)("div",{style:{height:"5px"}}),(0,z.jsx)(Z.BW,{containerStyle:{flex:1,height:"auto"},ref:V,width:"100%",height:"350px",columns:_,getSelectedItem:function(e,t,n,r){e?(Q.current&&(Q.current.value=e[0]),X.current&&(X.current.value=e[1]),$.current&&($.current.value=e[6]),ee.current&&(ee.current.value=e[9]),te.current&&(te.current.value=e[10]),ie.current=e[4],oe.current=e[5],ne.current=e[7],re.current=e[8]):we()},onKeyDown:function(e,t,n){"Delete"!==n.code&&"Backspace"!==n.code||x().fire({title:"Are you sure?",text:"You won't to delete this Check No. ".concat(e[0]),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&setTimeout((function(){var e=V.current.getData();e.splice(t,1),V.current.setData(e),V.current.setSelectedRow(null),V.current.resetCheckBox()}),100)}))}}),(0,z.jsxs)("div",{className:"petty-cash-mobile-buttons",style:{display:"none",alignItems:"center",columnGap:"10px"},children:[""===K&&(0,z.jsx)(s.Z,{sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,z.jsx)(f.Z,{sx:{width:15,height:15}}),id:"entry-header-save-button",onClick:function(){F("add")},children:"New"}),(0,z.jsx)(d.Z,{sx:{height:"22px",fontSize:"11px"},id:"save-entry-header",color:"primary",variant:"contained",type:"submit",onClick:me,disabled:""===K,startIcon:(0,z.jsx)(p.Z,{sx:{width:15,height:15}}),loading:de,children:"edit"===K?"Update":"Save"}),""!==K&&(0,z.jsx)(s.Z,{sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,z.jsx)(h.Z,{sx:{width:15,height:15}}),color:"error",onClick:function(){x().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&be()}))},children:"Cancel"})]})]})]})}var P=(0,l.forwardRef)((function(e,t){var n=e.DisplayMember,r=e.DataSource,o=e.inputRef,i=e.disableInput,u=void 0!==i&&i,s=e.onKeydown,d=e.onChange,f=e.label,p=void 0===f?{title:"Transaction : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}}:f,h=e.input,v=void 0===h?{width:"740px"}:h,x=e.containerStyle,y=(0,l.useState)(r),m=(0,a.Z)(y,2),g=m[0],b=m[1],C=(0,l.useState)([]),D=(0,a.Z)(C,2),S=D[0],N=D[1],Z=(0,l.useState)(!1),j=(0,a.Z)(Z,2),T=j[0],R=j[1],E=(0,l.useState)(0),_=(0,a.Z)(E,2),B=_[0],M=_[1],P=(0,l.useRef)(null);(0,l.useEffect)((function(){var e,t=null===(e=P.current)||void 0===e?void 0:e.children[B];t&&t.scrollIntoView({behavior:"smooth",block:"nearest"})}),[B]);return(0,l.useImperativeHandle)(t,(function(){return{setDataSource:function(e){b(e)}}})),(0,z.jsxs)("div",{style:{width:"100%"},children:[(0,z.jsx)(k.oi,{containerClassName:"custom-input",containerStyle:x,label:p,input:(0,c.Z)((0,c.Z)({},v),{},{disabled:u,type:"text",onKeyDown:function(e){if("Tab"===e.key&&(0,A.flushSync)((function(){R(!1),N([])})),"ArrowDown"===e.key)e.preventDefault(),M((function(e){return Math.min(e+1,S.length-1)}));else if("ArrowUp"===e.key)e.preventDefault(),M((function(e){return Math.max(e-1,0)}));else if(("Enter"===e.key||"NumpadEnter"===e.key)&&(e.preventDefault(),S.length>0)){var t=S[B];d(t,e),R(!1)}setTimeout((function(){s&&s(e)}),150)},onChange:function(e){var t=e.target.value;if(t.trim()){var r=g.filter((function(e){return e[n].toLowerCase().includes(t.toLowerCase())}));N(r),R(!0)}else N([]),R(!1)},onFocus:function(e){var t;e.preventDefault(),null===(t=e.currentTarget)||void 0===t||t.focus(),R(!0),N(g),o.current&&o.current.focus()},onBlur:function(e){e.relatedTarget&&"LI"===e.relatedTarget.tagName?(0,w.D)(250).then((function(){R(!1),N([])})):(R(!1),N([]))}}),icon:(0,z.jsx)(I.Z,{sx:{fontSize:"18px"}}),onIconClick:function(e){o.current&&o.current.focus()},inputRef:o}),T&&S.length>0&&(0,z.jsx)("ul",{className:"suggestions",ref:P,children:S.map((function(e,t){return(0,z.jsx)("li",{tabIndex:0,onClick:function(t){R(!1),d(e,t)},className:t===B?"active":"",onMouseEnter:function(e){e.preventDefault(),M(Math.min(t,S.length-1))},children:e[n]},t)}))}),(0,z.jsx)("style",{children:"\n          .suggestions {\n            margin-top: 0;\n            padding: 0;\n            list-style: none;\n            max-height: 150px;\n            overflow-y: auto;\n            position:absolute;\n            z-index:100;\n            background:white;\n            width:350px;\n            border:1px solid #e5e7eb;\n            box-shadow: 0px 23px 32px -17px rgba(0,0,0,0.75);\n          }\n          .suggestions li {\n            padding:3px 10px;\n            cursor: pointer;\n            font-size:14px;\n          }\n          .suggestions li.active {\n            background-color: #e2e8f0;\n          }\n      \n        "})]})})),K=(0,l.forwardRef)((function(e,t){var n=e.DisplayMember,r=e.DataSource,o=e.inputRef,i=e.disableInput,u=void 0!==i&&i,s=e.onKeydown,d=e.onChange,f=e.label,p=void 0===f?{title:"Transaction : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}}:f,h=e.input,v=void 0===h?{width:"740px"}:h,x=e.containerStyle,y=(0,l.useState)(r),m=(0,a.Z)(y,2),g=m[0],b=m[1],C=(0,l.useState)([]),D=(0,a.Z)(C,2),S=D[0],N=D[1],Z=(0,l.useState)(!1),j=(0,a.Z)(Z,2),T=j[0],R=j[1],E=(0,l.useState)(0),_=(0,a.Z)(E,2),B=_[0],M=_[1],P=(0,l.useRef)(null);(0,l.useEffect)((function(){var e,t=null===(e=P.current)||void 0===e?void 0:e.children[B];t&&t.scrollIntoView({behavior:"smooth",block:"nearest"})}),[B]);var K=function(e){if(!e)return e;var t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},L=function(e){return e.replace(/,/g,"")},F=function(e){if(e.trim()){var t=g.filter((function(t){return t[n].toLowerCase().includes(e.toLowerCase())}));N(t),R(!0)}else N([]),R(!1)};return(0,l.useImperativeHandle)(t,(function(){return{setDataSource:function(e){b(e)}}})),(0,z.jsxs)("div",{style:{flex:1},children:[(0,z.jsx)(k.oi,{containerStyle:x,label:p,input:(0,c.Z)((0,c.Z)({},v),{},{disabled:u,type:"text",onKeyDown:function(e){if("Tab"===e.key&&(0,A.flushSync)((function(){R(!1),N([])})),"ArrowDown"===e.key)e.preventDefault(),M((function(e){return Math.min(e+1,S.length-1)}));else if("ArrowUp"===e.key)e.preventDefault(),M((function(e){return Math.max(e-1,0)}));else if(("Enter"===e.key||"NumpadEnter"===e.key)&&(e.preventDefault(),S.length>0)){var t=S[B];d(t,e),R(!1)}setTimeout((function(){s&&s(e)}),150)},onChange:function(e){var t=e.target.value;t=L(t);if(""===(t=L(t))||/^-?\d+(,\d{3})*(\.\d*)?$/.test(t))e.target.value=K(t);else{var n=t.match(/\d+/g);if(n){var r=n.join("");e.target.value=K(r)}else e.target.value="0"}F(e.target.value)},onFocus:function(e){var t;e.preventDefault(),null===(t=e.currentTarget)||void 0===t||t.focus(),R(!0),N(g),o.current&&o.current.focus()},onBlur:function(e){!function(e,t){var n=L(e);n=function(e){return e.includes(".")?1===e.split(".")[1].length?e+"0":e:""===e?"0.00":e+".00"}(n),t.target.value=K(n)}(e.currentTarget.value,e),e.relatedTarget&&"LI"===e.relatedTarget.tagName?(0,w.D)(250).then((function(){R(!1),N([])})):(R(!1),N([]))}}),icon:(0,z.jsx)(I.Z,{sx:{fontSize:"18px"}}),onIconClick:function(e){o.current&&o.current.focus()},inputRef:o}),T&&S.length>0&&(0,z.jsx)("ul",{className:"suggestions",ref:P,children:S.map((function(e,t){return(0,z.jsx)("li",{tabIndex:0,onClick:function(t){R(!1),d(e,t)},className:t===B?"active":"",onMouseEnter:function(e){e.preventDefault(),M(Math.min(t,S.length-1))},children:e[n]},t)}))}),(0,z.jsx)("style",{children:"\n          .suggestions {\n            margin-top: 0;\n            padding: 0;\n            list-style: none;\n            max-height: 150px;\n            overflow-y: auto;\n            position:absolute;\n            z-index:100;\n            background:white;\n            width:350px;\n            border:1px solid #e5e7eb;\n            box-shadow: 0px 23px 32px -17px rgba(0,0,0,0.75);\n          }\n          .suggestions li {\n            padding:3px 10px;\n            cursor: pointer;\n            font-size:14px;\n          }\n          .suggestions li.active {\n            background-color: #e2e8f0;\n          }\n      \n        "})]})})),L=(0,l.forwardRef)((function(e,t){var n=e.containerStyle,r=e.label,o=e.inputRef,i=e.onChange,u=e.onKeydown,c=e.disableInput,s=(0,l.useId)(),d=(0,l.useState)([]),f=(0,a.Z)(d,2),p=f[0],h=f[1];return(0,l.useImperativeHandle)(t,(function(){return{setDataSource:function(e){h(e)}}})),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(k.oi,{containerClassName:"custom-input",containerStyle:n,label:r,input:{disabled:c,list:s,type:"text",onChange:function(e){var t=e.target.value,n=p.find((function(e){return e.Purpose===t}));i(e,n)},onKeyDown:u,style:{width:"calc(100% - 80px)"}},inputRef:o}),(0,z.jsx)("datalist",{id:s,children:p.map((function(e,t){return(0,z.jsx)("option",{value:e.Purpose},t)}))})]})}))},64230:function(e,t,n){n.d(t,{L:function(){return c},s:function(){return u}});var r=n(74165),o=n(15861),i=n(21830),a=n.n(i);function u(e){var t;a().fire({title:null!==e&&void 0!==e&&e.title?null===e||void 0===e?void 0:e.title:"Are you sure!",html:null!==e&&void 0!==e&&e.text?null===e||void 0===e?void 0:e.text:e.isUpdate?"Are you sure you want to make this change?":"Are you sure you want to delete this?",icon:"warning",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:null!==e&&void 0!==e&&e.saveTitle?null===e||void 0===e?void 0:e.saveTitle:"Save",confirmButtonColor:"green",showLoaderOnConfirm:!0,cancelButtonText:null!==e&&void 0!==e&&e.cancelTitle?null===e||void 0===e?void 0:e.cancelTitle:"Cancel",cancelButtonColor:"#d33",preConfirm:function(n){return(t=t||(0,o.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e.cb(n)}catch(r){a().showValidationMessage("\n            Request failed: ".concat(r,"\n          "))}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)},allowOutsideClick:function(){return!a().isLoading()}}).then((function(t){if(t.isConfirmed&&e.isConfirm)return e.isConfirm();e.isDeclined&&e.isDeclined()}))}function c(e){a().fire({title:"Are you sure?",text:null!==e&&void 0!==e&&e.text?null===e||void 0===e?void 0:e.text:"Do you want to proceed with saving?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, save it!"}).then((function(t){if(t.isConfirmed&&e.isConfirm)return e.isConfirm();e.isDeclined&&e.isDeclined()}))}},42419:function(e,t,n){var r=n(64836);t.Z=void 0;var o=r(n(45649)),i=n(80184),a=(0,o.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=a},85172:function(e,t,n){var r=n(64836);t.Z=void 0;var o=r(n(45649)),i=n(80184),a=(0,o.default)((0,i.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");t.Z=a},53329:function(e,t,n){var r=n(64836);t.Z=void 0;var o=r(n(45649)),i=n(80184),a=(0,o.default)((0,i.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=a},5403:function(e,t,n){var r=n(64836);t.Z=void 0;var o=r(n(45649)),i=n(80184),a=(0,o.default)((0,i.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=a},36459:function(e,t,n){function r(e){if(null==e)throw new TypeError("Cannot destructure "+e)}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=8744.fb16490a.chunk.js.map