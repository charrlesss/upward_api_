"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[7787],{23508:function(t,e,n){n.d(e,{bq:function(){return a}});var i,r=n(74165),o=n(15861);function l(t){var e=t.data,n=t.column,i=t.beforeArrangeData,r=t.adjustMaxHeight,o=t.fontSize,l=void 0===o?"11px":o,a=t.summaryHeight,d=void 0===a?0:a,s=[],c=0,h=[],x=document.querySelector(".content").getBoundingClientRect().height-r;return e.forEach((function(t,r){t=i(t);var o=document.querySelector(".content"),a=document.createElement("table"),p=a.insertRow();t.summaryReport&&x-c<=d+20&&(c+=x-c),n.forEach((function(e){var n=p.insertCell();a.style.visibility="hidden",a.style.width="100%",a.style.fontSize=l,function(t,e,n,i,r){t.style.width=n,t.textContent=e,i.appendChild(r)}(n,t[e.datakey],e.width,o,a)})),c+=p.getBoundingClientRect().height,o.removeChild(a),h.push(t),(c>=x||r===e.length-1&&c<x)&&(s.push(h),c=0,h=[])})),s}var a=function(t){return(i=i||(0,o.Z)((0,r.Z)().mark((function t(e){var n,i,o,a,d,s,c,h;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.data,i=e.column,o=e.beforeArrangeData,a=e.adjustMaxHeight,d=e.cb,s=e.fontSize,c=void 0===s?"11px":s,h=e.summaryHeight,void 0!==n){t.next=3;break}return t.abrupt("return",[]);case 3:if(!d){t.next=5;break}return t.abrupt("return",d({data:n,column:i,beforeArrangeData:o,adjustMaxHeight:a}));case 5:return t.abrupt("return",l({data:n,column:i,beforeArrangeData:o,adjustMaxHeight:a,fontSize:c,summaryHeight:h}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},58309:function(t,e,n){n.r(e),n.d(e,{default:function(){return F},reducer:function(){return A}});var i=n(74165),r=n(15861),o=n(4942),l=n(1413),a=n(72791),d=n(27391),s=n(64554),c=n(68096),h=n(94925),x=n(58406),p=n(23786),u=n(91933),g=n(3380),f=n(39709),y=n(71012),m=n(23508),b=n(16386),S=n(58340),j=n(80184),_={fund:0,seriesFrom:"".concat((0,b.Z)(new Date,"yyMM"),"-001"),seriesTo:"".concat((0,b.Z)(new Date,"yyMM"),"-010"),date:new Date,sub_acct:"All",title:""},A=function(t,e){return"UPDATE_FIELD"===e.type?(0,l.Z)((0,l.Z)({},t),{},(0,o.Z)({},e.field,e.value)):t},z=[{groupHeader:"",groupId:"a"},{groupHeader:"",groupId:"b"},{groupHeader:"",groupId:"c"},{groupHeader:"",groupId:"d"},{groupHeader:"",groupId:"e"},{groupHeader:"DEBIT",groupId:"debit"},{groupHeader:"CREDIT",groupId:"credit"}],D=[{groupId:"a",datakey:"DT",header:"DATE",width:"150px"},{groupId:"b",datakey:"Payee",header:"PAYEE",width:"150px"},{groupId:"c",datakey:"particulars",header:"PARTICULARS",width:"150px"},{groupId:"d",datakey:"transaction",header:"TRANSACTION",width:"150px"},{groupId:"e",datakey:"identity",header:"IDENTITY",width:"250px"},{groupId:"debit",datakey:"Debit",header:"AMOUNT",type:"number",width:"100px"},{groupId:"debit",datakey:"DRShort",header:"ACCOUNTS",width:"150px"},{groupId:"credit",datakey:"Credit",header:"AMOUNT",type:"number",width:"100px"},{groupId:"credit",datakey:"CRShort",header:"ACCOUNTS",width:"150px"}];function k(t){return t.title.split("\n").map((function(e,n){if(2===n){var i=e.split(" ").findIndex((function(t){return t.includes("From")})),r=e.split(" ").findIndex((function(t){return t.includes("To")})),o=e.split(" ");e=o.map((function(e,n){return n===i+1&&(e=t.seriesFrom),n===r+1&&(e=t.seriesTo),e})).join(" ")}return e})).join("\n")}function v(t){var e,n=t.state,y=t.dispatch,m=(0,a.useContext)(g.V),S=m.myAxios,_=m.user,A=(0,u.useQuery)({queryKey:"sub-accounts",queryFn:function(){return(e=e||(0,r.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.get("/reports/accounting/get-sub-account-acronym",{headers:{Authorization:"Bearer ".concat(null===_||void 0===_?void 0:_.accessToken)}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}),z=A.data,D=A.isLoading,v=function(t){var e=t.target,n=e.name,i=e.value;y({type:"UPDATE_FIELD",field:n,value:i})};return(0,j.jsxs)("div",{style:{padding:"10px"},children:[(0,j.jsx)(d.Z,{label:"Title",fullWidth:!0,name:"title",value:n.title,onChange:v,rows:6,multiline:!0,InputProps:{style:{height:"140px",fontSize:"12px"}},sx:{flex:1,".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,j.jsxs)(s.Z,{sx:function(t){return(0,o.Z)({height:"100%",display:"grid",gridTemplateColumns:"repeat(1,1fr)",gap:"10px",margin:"10px 0"},t.breakpoints.down("sm"),{gridTemplateColumns:"repeat(1,1fr)"})},children:[(0,j.jsxs)(c.Z,{fullWidth:!0,variant:"outlined",size:"small",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,j.jsx)(h.Z,{id:"Fund",children:"Fund"}),(0,j.jsx)(x.Z,{labelId:"fund",value:n.fund,label:"Fund",name:"fund",onChange:v,sx:{height:"27px",fontSize:"14px"},children:(0,j.jsx)(p.Z,{value:0,children:"Petty Cash"})})]}),D?(0,j.jsx)(f.Z,{loading:D}):(0,j.jsxs)(c.Z,{fullWidth:!0,variant:"outlined",size:"small",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,j.jsx)(h.Z,{id:"sub_account_id",children:"Sub Account"}),(0,j.jsxs)(x.Z,{labelId:"sub_account_id",value:n.sub_acct,label:"Sub Account",name:"sub_acct",onChange:v,sx:{height:"27px",fontSize:"14px"},children:[(0,j.jsx)(p.Z,{value:"All",children:"All"}),null===z||void 0===z?void 0:z.data.sub_account.map((function(t,e){return(0,j.jsx)(p.Z,{value:t.Acronym,children:t.Acronym},e)}))]})]}),(0,j.jsx)(d.Z,{label:"From",fullWidth:!0,name:"seriesFrom",value:n.seriesFrom,onChange:function(t){v(t),y({type:"UPDATE_FIELD",field:"title",value:k((0,l.Z)((0,l.Z)({},n),{},{seriesFrom:t.target.value}))})},placeholder:"Ex. ".concat((0,b.Z)(new Date,"yyMM"),"-001"),InputProps:{style:{height:"27px",fontSize:"12px"}},sx:{".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-12px"}}}),(0,j.jsx)(d.Z,{label:"To",fullWidth:!0,name:"seriesTo",value:n.seriesTo,onChange:function(t){v(t),y({type:"UPDATE_FIELD",field:"title",value:k((0,l.Z)((0,l.Z)({},n),{},{seriesTo:t.target.value}))})},placeholder:"Ex. ".concat((0,b.Z)(new Date,"yyMM"),"-001"),InputProps:{style:{height:"27px",fontSize:"12px"}},sx:{".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-12px"}}})]})]})}function F(){var t,e=(0,a.useContext)(g.V),n=e.user,o=e.myAxios;return _.title="".concat("UMIS"===(null===n||void 0===n?void 0:n.department)?"UPWARD MANAGEMENT INSURANCE SERVICES":"UPWARD CONSULTANCY SERVICES AND MANAGEMENT INC.","\nPetty Cash Fund Disbursement\nFrom ").concat((0,b.Z)(new Date,"yyMM"),"-001 To ").concat((0,b.Z)(new Date,"yyMM"),"-002\n  "),(0,j.jsx)(y.ZP,{column:D,initialState:_,Setting:function(t,e){return(0,j.jsx)(v,{state:t,dispatch:e})},onReportSubmit:function(e,l,d){return(t=t||(0,r.Z)((0,i.Z)().mark((function t(e,r,l){var d,s,c,h,x,p;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.post("/reports/accounting/petty-cash-fund-disbursement",l,{headers:{Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.accessToken)}});case 2:return d=t.sent,t.next=5,d.data;case 5:s=t.sent,c=function(){return(0,j.jsx)("table",{children:(0,j.jsx)("tbody",{children:s.summary.map((function(t,e){return!t.summ||t.header||t.footer||t.signature?t.summ&&t.header?(0,j.jsx)(a.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{colSpan:3,style:{fontSize:"11.5px",fontWeight:"bolder",textAlign:"right"}}),(0,j.jsx)("td",{colSpan:2,style:{fontSize:"11.5px",fontWeight:"bolder",textAlign:"center"},children:t.identity}),(0,j.jsx)("td",{colSpan:1,style:{fontSize:"11.5px",fontWeight:"bolder",textAlign:"left"},children:t.DRShort}),(0,j.jsx)("td",{colSpan:1,style:{fontSize:"11.5px",fontWeight:"bolder",textAlign:"left"},children:t.Debit})]})},e):t.summ&&t.footer?(0,j.jsx)(a.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{colSpan:3,style:{fontSize:"11px",fontWeight:"bolder",textAlign:"right"}}),(0,j.jsx)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"bolder",textAlign:"right"},children:t.identity}),(0,j.jsx)("td",{colSpan:1,style:{fontSize:"11px",fontWeight:"bolder",textAlign:"right",borderTop:"1px solid black",borderBottom:"2px solid black"},children:t.DRShort}),(0,j.jsx)("td",{colSpan:1,style:{fontSize:"11px",fontWeight:"bolder",textAlign:"right",borderTop:"1px solid black",borderBottom:"2px solid black"},children:t.Debit})]})},e):t.summ&&t.signature?(0,j.jsxs)(a.Fragment,{children:[(0,j.jsx)("tr",{style:{height:"25px"}}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"bolder",textAlign:"right"}}),(0,j.jsx)("td",{style:{fontSize:"11px",fontWeight:"bolder",textAlign:"right"},children:t.identity}),(0,j.jsx)("td",{style:{fontSize:"11px",fontWeight:"bolder",textAlign:"right",borderBottom:"1px solid black",width:"100px"}}),(0,j.jsx)("td",{style:{fontSize:"11px",fontWeight:"bolder",textAlign:"right"},children:t.DRShort}),(0,j.jsx)("td",{style:{fontSize:"11px",fontWeight:"bolder",textAlign:"right",borderBottom:"1px solid black"}}),(0,j.jsx)("td",{style:{fontSize:"11px",fontWeight:"bolder",textAlign:"right"},children:t.Debit}),(0,j.jsx)("td",{style:{fontSize:"10px",fontWeight:"bolder",textAlign:"right",borderBottom:"1px solid black"}})]})]},e):t.summary?(0,j.jsxs)(a.Fragment,{children:[(0,j.jsx)("tr",{style:{height:"15px"}}),(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:3,style:{fontSize:"11px",fontWeight:"bolder",textAlign:"right"},children:t.particulars})}),(0,j.jsx)("tr",{style:{height:"15px"}})]},e):t.follows?(0,j.jsxs)(a.Fragment,{children:[(0,j.jsx)("tr",{style:{height:"10px"}}),(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:D.length,style:{fontSize:"11px",fontWeight:"500",textAlign:"center"},children:t.cCheck_No})})]},e):(0,j.jsx)(j.Fragment,{}):(0,j.jsx)(a.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{colSpan:3,style:{fontSize:"11px",fontWeight:"500",textAlign:"right"}}),(0,j.jsx)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"500",textAlign:"left"},children:t.identity}),(0,j.jsx)("td",{colSpan:1,style:{fontSize:"11px",fontWeight:"500",textAlign:"right"},children:t.DRShort}),(0,j.jsx)("td",{colSpan:1,style:{fontSize:"11px",fontWeight:"500",textAlign:"right"},children:t.Debit})]})},e)}))})})},h=S.renderToString((0,j.jsx)(c,{})),(x=document.createElement("div")).innerHTML=h,document.body.appendChild(x),p=x.getBoundingClientRect().height,document.body.removeChild(x),(0,m.bq)({data:s.report,column:D,beforeArrangeData:function(t){return isNaN(parseFloat(t.Debit.toString().replace(/,/g,"")))||(t.Debit=parseFloat(t.Debit.toString().replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),isNaN(parseFloat(t.Credit.toString().replace(/,/g,"")))||(t.Credit=parseFloat(t.Credit.toString().replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),t},adjustMaxHeight:400,summaryHeight:p-100}).then((function(t){e(t),r(!1)}));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)},scaleDefaultValue:90,drawTable:function(t,e){return t.map((function(n,i){return(0,j.jsxs)("div",{className:"page out-page",children:[(0,j.jsx)("div",{className:"header",style:{height:"50px"}}),(0,j.jsx)("div",{className:"content",children:(0,j.jsxs)("table",{children:[(0,j.jsxs)("thead",{children:[e.title.split("\n").map((function(t,e){return(0,j.jsx)("tr",{children:(0,j.jsx)("th",{style:{fontSize:"14px",fontWeight:"bold",textAlign:"left"},colSpan:D.length,children:t})},e)})),(0,j.jsx)("tr",{style:{height:"40px"}}),(0,j.jsx)("tr",{children:D.map((function(e,n){return(0,j.jsx)("th",{onDoubleClick:function(n){return(0,y.PE)(n,e.datakey,t)},style:{width:e.width,fontSize:"10.5px",fontWeight:"bold",textAlign:"identity"===e.datakey?"center":"left"},children:e.header},n)}))})]}),(0,j.jsx)("tbody",{children:n.map((function(t,e){return!t.summ||t.header||t.footer||t.signature?t.summ&&t.header?(0,j.jsx)(a.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{colSpan:3,style:{fontSize:"11.5px",fontWeight:"bolder",textAlign:"right"}}),(0,j.jsx)("td",{colSpan:2,style:{fontSize:"11.5px",fontWeight:"bolder",textAlign:"center"},children:t.identity}),(0,j.jsx)("td",{colSpan:1,style:{fontSize:"11.5px",fontWeight:"bolder",textAlign:"left"},children:t.DRShort}),(0,j.jsx)("td",{colSpan:1,style:{fontSize:"11.5px",fontWeight:"bolder",textAlign:"left"},children:t.Debit})]})},e):t.summ&&t.footer?(0,j.jsx)(a.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{colSpan:3,style:{fontSize:"11px",fontWeight:"bolder",textAlign:"right"}}),(0,j.jsx)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"bolder",textAlign:"right"},children:t.identity}),(0,j.jsx)("td",{colSpan:1,style:{fontSize:"11px",fontWeight:"bolder",textAlign:"right",borderTop:"1px solid black",borderBottom:"2px solid black"},children:t.DRShort}),(0,j.jsx)("td",{colSpan:1,style:{fontSize:"11px",fontWeight:"bolder",textAlign:"right",borderTop:"1px solid black",borderBottom:"2px solid black"},children:t.Debit})]})},e):t.summ&&t.signature?(0,j.jsxs)(a.Fragment,{children:[(0,j.jsx)("tr",{style:{height:"25px"}}),(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:D.length,style:{fontSize:"11px",fontWeight:"bolder",textAlign:"center"},children:"Prepared: ____________________________ \xa0\xa0\xa0\xa0\xa0 Checked: ____________________________ \xa0\xa0\xa0\xa0\xa0 Approved: ____________________________"})})]},e):t.summary?(0,j.jsxs)(a.Fragment,{children:[(0,j.jsx)("tr",{style:{height:"15px"}}),(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:3,style:{fontSize:"11px",fontWeight:"bolder",textAlign:"right"},children:t.particulars})}),(0,j.jsx)("tr",{style:{height:"15px"}})]},e):t.follows?(0,j.jsxs)(a.Fragment,{children:[(0,j.jsx)("tr",{style:{height:"10px"}}),(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:D.length,style:{fontSize:"11px",fontWeight:"500",textAlign:"center"},children:t.cCheck_No})})]},e):(0,j.jsx)("tr",{children:D.map((function(n,r){return(0,j.jsx)(a.Fragment,{children:t.total&&"DRTitle"===n.datakey||t.total&&"CRTitle"===n.datakey?(0,j.jsx)(j.Fragment,{}):(0,j.jsx)("td",{onClick:y.mp,className:"editable not-looking page-".concat(i,"  row-").concat(e,"_col-").concat(r),style:{fontSize:"11px",fontWeight:t.total?"bold":"500",width:"".concat(n.width," !important"),textAlign:"number"===n.type?"right":"identity"===n.datakey?"center":t.total?"right":"left",padding:t.total?"5px":"0 5px",whiteSpace:"pre-line",overflow:"hidden",textOverflow:"ellipsis",borderTop:t.total&&"Debit"===n.datakey||t.total&&"DRShort"===n.datakey||t.total&&"CRShort"===n.datakey||t.total&&"Credit"===n.datakey?"1px solid black":""},children:t[n.datakey]})},r)}))},e):(0,j.jsx)(a.Fragment,{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{colSpan:3,style:{fontSize:"11px",fontWeight:"500",textAlign:"right"}}),(0,j.jsx)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"500",textAlign:"left"},children:t.identity}),(0,j.jsx)("td",{colSpan:1,style:{fontSize:"11px",fontWeight:"500",textAlign:"right"},children:t.DRShort}),(0,j.jsx)("td",{colSpan:1,style:{fontSize:"11px",fontWeight:"500",textAlign:"right"},children:t.Debit})]})},e)}))})]})}),(0,j.jsxs)("div",{className:"footer",style:{height:"50px",display:"flex",justifyContent:"space-between"},children:[(0,j.jsx)("p",{style:{fontSize:"10px",fontWeight:"bold"},children:(0,b.Z)(new Date,"dd/MM/yyyy")}),(0,j.jsxs)("p",{style:{fontSize:"10px",fontWeight:"bold"},children:["Page ",i+1," of ",t.length]})]})]},i)}))},pageHeight:"8.5in",pageWidth:"13in",addHeaderGroup:(0,j.jsx)("tr",{children:z.map((function(t,e){var n=D.filter((function(e){return e.groupId===t.groupId}));return(0,j.jsx)("th",{colSpan:n.length,style:{fontSize:"12.5px",fontWeight:"bold",textAlign:"center"},children:t.groupHeader},e)}))})})}}}]);
//# sourceMappingURL=7787.7ec95ba5.chunk.js.map