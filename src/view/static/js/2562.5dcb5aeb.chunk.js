"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[2562],{13784:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(1413),o=n(45987),l=n(71652),a=n(48193),r=n(93777),s=n(80184),d=["label","name","onChange","value","onKeyDown","inputRef","datePickerRef","fullWidth","textField","minWidth"];function c(e){var t=e.label,n=e.name,c=e.onChange,u=e.value,p=e.onKeyDown,x=e.inputRef,h=e.datePickerRef,f=e.fullWidth,m=e.textField,g=e.minWidth,y=void 0===g?"200px":g,v=(0,o.Z)(e,d);return(0,s.jsx)(l._,{dateAdapter:a.H,children:(0,s.jsx)(r.M,(0,i.Z)({floatingLabelStyle:{color:"black"},value:u,onChange:c,ref:h,slotProps:{textField:(0,i.Z)({size:"small",label:t,name:n,onKeyDown:p,inputRef:x,fullWidth:f},m)},InputLabelProps:{sx:{color:"black"}},sx:{minWidth:y,fieldset:{borderColor:"black"},".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}},v))})}},81582:function(e,t,n){n.d(t,{XT:function(){return x},ZP:function(){return p},rO:function(){return h}});n(72791);var i=n(88447),o=n(64554),l=n(20890),a=n(27391),r=n(13400),s=n(29823),d=n(89767),c=n(80184),u={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",bgcolor:"background.paper",boxShadow:24,p:4,heigth:"auto"};function p(e){var t=e.height,n=e.isLoading,p=(e.queryKey,e.columns),f=e.onSelectionChange,m=(e.setRows,e.rows),g=e.id,y=e.onCloseModal,v=e.showModal,b=e.onClickCloseIcon,C=e.searchOnChange,j=e.title,w=void 0===j?"":j,S=e.searchRef,k=(e.onCellKeyDown,e.onSearchKeyEnter),D=void 0===k?function(){}:k,L=e.isRowSelectable,Z=e.getCellClassName,A=x();return(0,c.jsx)(i.Z,{open:v,onClose:y,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,c.jsxs)(o.Z,{sx:u,children:[(0,c.jsx)(l.Z,{id:"modal-modal-title",variant:"h6",component:"h2",mb:2,children:w}),(0,c.jsx)(a.Z,{size:"small",label:"Search",sx:{marginBottom:"10px"},fullWidth:!0,onChange:C,InputProps:{inputRef:S},onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),D(null===S||void 0===S||null===(t=S.current)||void 0===t?void 0:t.value));h(e,A,null===S||void 0===S?void 0:S.current)}}),(0,c.jsx)("div",{className:"".concat(A," main-table-selection-container"),style:{position:"relative",height:"".concat(t+20,"px")},children:(0,c.jsx)(d.Z,{isSingleSelection:!0,isRowFreeze:!1,columns:p,isLoading:n,dataSelection:function(e,t,n){f(e,t)},table_id:g,rows:m,isRowSelectable:L,getCellClassName:Z})}),(0,c.jsx)("div",{style:{position:"absolute",top:"10px",right:"10px"},children:(0,c.jsx)(r.Z,{"aria-label":"search-client",color:"secondary",onClick:b,children:(0,c.jsx)(s.Z,{})})})]})})}function x(){return"main-"+Math.floor(1e4*Math.random())}function h(e,t,n){var i=t;if("ArrowDown"===e.code){var o,l=document.querySelectorAll(".".concat(i," .MuiDataGrid-row"));e.preventDefault(),null===(o=l[0])||void 0===o||o.classList.add("hover-keyboard"),function(e,t){var n=document.querySelector(".".concat(e," .MuiDataGrid-row")),i=null===n||void 0===n?void 0:n.querySelector("input");null===i||void 0===i||i.focus();var o=new MouseEvent("mouseenter",{bubbles:!0,cancelable:!0,view:window});null===n||void 0===n||n.dispatchEvent(o),null===i||void 0===i||i.addEventListener("keydown",(function(e){"ArrowUp"===e.key&&(e.preventDefault(),t.focus()),"ArrowUp"===e.key&&(null===n||void 0===n||n.classList.remove("hover-keyboard"))}))}(t,n),l.forEach((function(e,t){e.addEventListener("keydown",(function(e){if("ArrowUp"===e.key){var n,i;if(t<=0)return;return e.preventDefault(),null===(n=l[t])||void 0===n||n.classList.remove("hover-keyboard"),void(null===(i=l[t-1])||void 0===i||i.classList.add("hover-keyboard"))}if("ArrowDown"===e.key){var o,a;if(e.preventDefault(),t>=l.length-1)return;null===(o=l[t])||void 0===o||o.classList.remove("hover-keyboard"),null===(a=l[t+1])||void 0===a||a.classList.add("hover-keyboard")}}))}))}}},56580:function(e,t,n){n.d(t,{a:function(){return d}});var i=n(1413),o=n(45987),l=n(72791),a=n(30948),r=n(80184),s=["onChange"],d=l.forwardRef((function(e,t){var n=e.onChange,l=(0,o.Z)(e,s);return(0,r.jsx)(a.h3,(0,i.Z)((0,i.Z)({},l),{},{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:t.value}})},allowNegative:!1,thousandSeparator:!0,valueIsNumericString:!0}))}))},89767:function(e,t,n){var i=n(93433),o=n(1413),l=n(29439),a=n(72791),r=n(57482),s=n(64554),d=n(70561),c=n(29961),u=n(54277),p=n(70169),x=n(5794),h=n(16088),f=n(80184),m=(0,a.createContext)({rows:[],rowSelectionModel:[],footerChildren:function(){return(0,f.jsx)("div",{})},footerPaginationPosition:"right-left",showFooterSelectedCount:!0}),g=(0,a.forwardRef)((function(e,t){var n=e.isLoading,s=e.columns,c=e.rows,u=e.table_id,p=e.isSingleSelection,x=e.isRowFreeze,h=e.dataSelection,g=e.CustomFooterComponent,y=void 0===g?b:g,v=e.isRowSelectable,C=e.getCellClassName,j=e.checkboxSelection,w=void 0===j||j,S=e.footerChildren,k=void 0===S?function(e,t){return(0,f.jsx)("div",{})}:S,D=e.footerPaginationPosition,L=void 0===D?"right-left":D,Z=e.showFooterSelectedCount,A=void 0===Z||Z,M=(0,a.useState)([]),N=(0,l.Z)(M,2),F=N[0],P=N[1];function z(e,t,n){h&&h(e,t,n)}(0,a.useImperativeHandle)(t,(function(){return{removeSelection:function(){P([])},getSelectedRows:function(){return c.filter((function(e){return null===F||void 0===F?void 0:F.includes(e[u])}))},setSelectedRows:function(e){P(e)}}}));var I=[];return(0,f.jsx)(m.Provider,{value:{showFooterSelectedCount:A,footerPaginationPosition:L,rowSelectionModel:F,rows:c,footerChildren:k},children:(0,f.jsx)(d._$,{slots:{loadingOverlay:r.Z,footer:y},initialState:{pagination:{paginationModel:{pageSize:100}}},loading:n,getRowId:function(e){return e[u]},columns:s.filter((function(e){return!e.hide})),rows:c,showCellVerticalBorder:!0,showColumnVerticalBorder:!0,checkboxSelection:w,rowSelectionModel:F,rowHeight:25,columnHeaderHeight:35,pageSizeOptions:[10,20,35,50,75,100],sx:(0,o.Z)((0,o.Z)({"& .cash":{color:"#ec4899"},"& .check":{color:"#0891b2"},"& .approved":{color:"green"},"& .pending":{color:"orange"},"& .disapproved":{color:"red"},"& .normal":{color:"red"},"& .MuiDataGrid-row.Mui-selected:hover":{color:"black","& .MuiSvgIcon-root ":{fill:"#3b82f6"}},"& .hover-keyboard":{background:"#2563eb",color:"white","& .MuiSvgIcon-root ":{fill:"white"}},"& .MuiDataGrid-row:hover":{background:"#2563eb",color:"white","& .MuiSvgIcon-root ":{fill:"white"}},"& .MuiDataGrid-row.hover":{background:"#2563eb",color:"white","& .MuiSvgIcon-root ":{fill:"white"}},"& .MuiTablePagination-root p ":{padding:"0 !important"}},{"& .MuiDataGrid-columnHeaders":{background:"#64748b",color:"white",fontSize:"14px"},"& .MuiDataGrid-columnHeaderCheckbox .MuiDataGrid-columnHeaderTitleContainer .MuiSvgIcon-root ":{display:p||x?"none":"block",fill:"white"},"& .MuiDataGrid-columnHeaderCheckbox .MuiDataGrid-columnHeaderTitleContainer input ":{display:p||x?"none":"block"}}),{fontSize:13,fontWeight:500,"& .MuiDataGrid-checkboxInput":{height:"27px",width:"27px"},"& .MuiDataGrid-checkboxInput svg":{height:"20px",width:"20px"}}),onRowSelectionModelChange:function(e){if(x){if(e.length<=0)return;if(I=e,F.includes(I[I.length-1]))return;return P(e),void z([e[e.length-1]],c,null)}if(!x&&p)if(F&&(null===F||void 0===F?void 0:F.length)>0){var t=new Set(F);P(e.filter((function(e){return!t.has(e)})))}else P(e);else P(e);z([e[e.length-1]],c,null)},onCellKeyDown:function(e,t){if(["NumpadEnter","Enter","Delete","Backspace"].includes(t.code))return t.preventDefault(),"Enter"===t.code||"NumpadEnter"===t.code?p&&!x?P((function(n){return n&&n.length>0&&n[0]===e.rowNode.id?(z([],c,t.code),[]):(z([e.rowNode.id],c,t.code),[e.rowNode.id])})):void P((function(n){return n&&!x&&n.length>0&&n.includes(e.rowNode.id)?(n=n.filter((function(t){return t!==e.rowNode.id})),z([],c,t.code),n):n&&x&&n.length>0&&n.includes(e.rowNode.id)?n:(z([e.rowNode.id],c,t.code),[].concat((0,i.Z)(n),[e.rowNode.id]))})):"Delete"===t.code||"Backspace"===t.code?(P([e.rowNode.id]),z([e.rowNode.id],c,t.code)):void 0},disableVirtualization:!0,isRowSelectable:v,getCellClassName:C})})}));function y(e){var t=e.page,n=e.onPageChange,i=e.className,o=(0,c.l)(),l=(0,u.P)(o,p.UB);return(0,f.jsx)(h.Z,{variant:"outlined",color:"primary",className:i,count:l,page:t+1,onChange:function(e,t){n(e,t-1)}})}function v(e){return(0,f.jsx)(x.x,(0,o.Z)({ActionsComponent:y},e))}function b(e){var t=(0,a.useContext)(m),n=t.rowSelectionModel,i=t.showFooterSelectedCount,l=t.footerPaginationPosition,r=t.footerChildren,d=t.rows;return(0,f.jsxs)(s.Z,{sx:{columnGap:"50px",display:"flex",width:"100%",justifyContent:"space-between",px:3,alignItems:"center",flexDirection:"right-left"===l?"row-reverse":"row"},children:[(0,f.jsx)(v,(0,o.Z)({},e)),(0,f.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"right-left"===l?"flex-start":"flex-end",flex:1,alignItems:"center"},children:[i&&(0,f.jsxs)("div",{children:["Selected:",null===n||void 0===n?void 0:n.length]}),(0,f.jsx)("div",{children:r(n,d)})]})]})}t.Z=g},92562:function(e,t,n){n.r(t),n.d(t,{DisplayFile:function(){return ae},FileUploadInput:function(){return le},checkFile:function(){return re},default:function(){return ee},reducer:function(){return J},setNewStateValue:function(){return oe}});var i=n(93433),o=n(74165),l=n(15861),a=n(29439),r=n(4942),s=n(1413),d=n(72791),c=n(93263),u=n(68096),p=n(94925),x=n(77196),h=n(63466),f=n(13400),m=n(36151),g=n(65117),y=n(23786),v=n(58406),b=n(27391),C=n(36314),j=n(39709),w=n(91421),S=n(3380),k=n(22007),D=n(3579),L=n(80022),Z=n(69596),A=n(13784),M=n(91933),N=n(86753),F=n(21830),P=n.n(F),z=n(54164),I=n(64230),R=n(58340),E=n(16386),T=n(27247),B=n(3746),O=n(5519),_=n(56580),W=n(80813),U=n(80184),G={claims_id:"",dateReported:null,dateAccident:null,dateInspected:null,department:1,remarks:"",search:"",mode:"",claim_no:""},K={policy:"",claim_type:0,insurance:"",PolicyNo:"",PlateNo:"",Model:"",BodyType:"",Make:"",ChassisNo:"",MotorNo:"",ORNo:"",CoverNo:"",BLTFileNo:"",AssuredName:"",IDNo:"",totaDue:"00.00",totalpaid:"00.00",balance:"00.00",remitted:"00.00",Account:"",status:0,DateFrom:"",DateTo:"",DateReceived:null,DateClaim:null,AmountClaim:"",AmountApproved:"",NameTPPD:""},q=["OWN DAMAGE","CARNAP","VTPL-PROPERTY DAMAGE","VTPL-BODILY INJURY","THIRD PARTY-DEATH"],H=[{label:"Policy",name:"policyFile"},{label:"ENDORCEMENT",name:"endorsement"},{label:"OR of Premium Payment",name:"OPP"},{label:"Official Receipt and Certificate of Registration",name:"ORCR"},{label:"Drivers License and Official Receipt",name:"DLOR"},{label:"Police Report",name:"PR"},{label:"Driver's Affidavit",name:"DA"},{label:"Stencil of Motor and Chassis No.",name:"SMCN"}],Y=[{label:"LOA",name:"loa"},{label:"Offer Letter",name:"offerLetter"},{label:"Comparative Evaluation",name:"CE"}],V=["Ongoing Repair","With Offer Letter","With Lacking Documents","With LOA","Submitted to Insurance Company","For Evaluation","For Inspection","For Check Preparation","Denied","Done",""],Q=function(){return[[{label:"Copies of Colored Picture",name:"ct1_1"},{label:"Copy of Repair Estimate",name:"ct1_2"}],[{label:"Complaint Sheet",name:"ct2_1"},{label:"Alarm Sheet",name:"ct2_2"},{label:"Original Keys",name:"ct2_3"},{label:"Certificate of NO RECOVERY",name:"ct2_4"}],[{label:"Copies of Colored Picture",name:"ct3_1"},{label:"Copy of Repair Estimate",name:"ct3_2"},{label:"Certificate of Registration and OR",name:"ct3_3"},{label:"Photocopy of Driver's license",name:"ct3_4"},{label:"Certificate of NO Claim from Insurer",name:"ct3_5"}],[{label:"Medical Certificate",name:"ct4_1"},{label:"Receipt of Medicine/Drugs",name:"ct4_2"},{label:"Hospital Bill",name:"ct4_3"},{label:"Birth Certificate",name:"ct4_4"},{label:"Affidavit of Desistance",name:"ct4_5"}],[{label:"Death Certificate, ID",name:"ct5_1"},{label:"Marriage Contract ",name:"ct5_2"},{label:"Funeral/Burial Official Receipts",name:"ct5_3"}]]},J=function(e,t){return"UPDATE_FIELD"===t.type?(0,s.Z)((0,s.Z)({},e),{},(0,r.Z)({},t.field,t.value)):e};function X(e){var t=e.handleCloseModal,n=e.setClaimsSubmited,i=e.claim_no,a=e.policyDispatch,r=e.policyState,s=e.claimDispatch,c=(0,d.useRef)(null),x=(0,d.useRef)(null),h=(0,d.useRef)(null),f=(0,d.useRef)(null),g=(0,d.useRef)(null),C=function(e){var t=e.target,n=t.name,i=t.value;a({type:"UPDATE_FIELD",field:n,value:i})};return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("div",{style:{width:"100%",height:"auto",position:"relative"},children:[(0,U.jsx)("div",{style:{height:"30px",marginBottom:"20px",display:"flex",justifyContent:"space-between",gap:"10px"},children:(0,U.jsx)("div",{style:{width:"100%",display:"flex",gap:"10px",justifyContent:"flex-end",padding:"10px 20px"},children:(0,U.jsxs)("div",{style:{display:"flex",columnGap:"10px"},children:[(0,U.jsx)(m.Z,{id:"basic-button","aria-haspopup":"true",sx:{height:"30px",fontSize:"11px"},variant:"contained",color:"success",onClick:function(){var e;P().fire({title:"Are you sure?",text:"You want to save it!, won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Save it!"}).then((function(a){return(e=e||(0,l.Z)((0,o.Z)().mark((function e(l){var a,d,c,u,p,x,h,f;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=function(e,t){return String(e).padStart(t,"0")},a=function(e,t){var n=[];return e.forEach((function(e){var i=document.querySelector("#".concat(e.name," input")).files;if(n.push({files:i,datakey:e.name}),i.length>0)for(var o=function(){var n=i[l],o=new FileReader;t.push(new Promise((function(t,i){o.onload=function(i){var o;t({datakey:e.name,fileName:n.name,fileContent:null===(o=i.target)||void 0===o?void 0:o.result,fileType:n.type,file:n})},o.onerror=function(e){i(new Error("Error reading file: "+n.name))},o.readAsDataURL(n)})))},l=0;l<i.length;l++)o()})),t},!l.isConfirmed){e.next=23;break}return a(H,d=[]),c=[],Q().forEach((function(e){a(e,c)})),a(Y,u=[]),e.next=11,Promise.all(d);case 11:return p=e.sent,e.next=14,Promise.all(c);case 14:return x=e.sent,e.next=17,Promise.all(u);case 17:h=e.sent,n((function(e){var t="";return i&&""!==i.trim()?(t=i,e=e.filter((function(e){return e.id!==i}))):t=f(e.length+1,3),e.push({id:t,policyState:r,basicFileCustom:p,otherFileCustom:x,insuranceFileCustom:h}),e})),s({type:"UPDATE_FIELD",field:"claim_no",value:""}),C({target:{name:"claim_type",value:0}}),C({target:{name:"status",value:0}}),t();case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}))},children:"SAVE"}),(0,U.jsx)(m.Z,{id:"basic-button","aria-haspopup":"true",sx:{height:"30px",fontSize:"11px"},variant:"contained",color:"error",onClick:function(){var e;P().fire({title:"Are you sure?",text:"You want to cancel it!, won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Cancel it!"}).then((function(n){return(e=e||(0,l.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=6;break}return s({type:"UPDATE_FIELD",field:"claim_no",value:""}),C({target:{name:"claim_type",value:0}}),C({target:{name:"status",value:0}}),t(),e.abrupt("return");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}))},children:"CANCEL"})]})})}),(0,U.jsxs)("div",{children:[(0,U.jsxs)("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[(0,U.jsxs)(u.Z,{sx:{width:"300px",marginRight:"10px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-12px"}},children:[(0,U.jsx)(p.Z,{id:"claim-type",children:"Claim Types"}),(0,U.jsx)(v.Z,{labelId:"claim-type",value:r.claim_type,onChange:function(e){var t;C(e),null===(t=c.current)||void 0===t||t.resetFileUpload()},label:"Claim Types",size:"small",name:"claim_type",sx:{height:"27px",fontSize:"14px"},fullWidth:!0,children:q.map((function(e,t){return(0,U.jsx)(y.Z,{value:t,children:e},t)}))})]}),(0,U.jsxs)(u.Z,{sx:{width:"300px",marginRight:"10px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-12px"}},children:[(0,U.jsx)(p.Z,{id:"status",children:"Status"}),(0,U.jsx)(v.Z,{labelId:"status",value:r.status,onChange:C,label:"Status",size:"small",name:"status",sx:{height:"27px",fontSize:"14px"},fullWidth:!0,children:V.sort().map((function(e,t){return(0,U.jsx)(y.Z,{value:t,children:e},t)}))})]}),(0,U.jsx)(A.Z,{textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}},label:"Date Received",onChange:function(e){a({type:"UPDATE_FIELD",field:"DateReceived",value:e})},value:r.DateReceived?new Date(r.DateReceived):null,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)var t=setTimeout((function(){var e,n;null===(e=x.current)||void 0===e||null===(n=e.querySelector("button"))||void 0===n||n.click(),clearTimeout(t)}),150)},datePickerRef:x}),(0,U.jsx)(A.Z,{textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}},label:"Date of Claim",onChange:function(e){a({type:"UPDATE_FIELD",field:"DateClaim",value:e})},value:r.DateClaim?new Date(r.DateClaim):null,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)var t=setTimeout((function(){var e,n;null===(e=h.current)||void 0===e||null===(n=e.querySelector("button"))||void 0===n||n.click(),clearTimeout(t)}),150)},datePickerRef:h}),(0,U.jsx)(b.Z,{label:"Amount Claim",size:"small",name:"AmountClaim",value:r.AmountClaim,onChange:C,onBlur:function(){a({type:"UPDATE_FIELD",field:"AmountClaim",value:parseFloat((""===r.AmountClaim?"0":r.AmountClaim).replace(/,/g,"")).toFixed(2)})},InputProps:{inputComponent:_.a,inputRef:f,style:{height:"27px",fontSize:"14px"}},sx:{width:"160px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,U.jsx)(b.Z,{label:"Amount Approved",size:"small",name:"AmountApproved",value:r.AmountApproved,onChange:C,onBlur:function(){a({type:"UPDATE_FIELD",field:"AmountApproved",value:parseFloat((""===r.AmountApproved?"0":r.AmountApproved).replace(/,/g,"")).toFixed(2)})},InputProps:{inputComponent:_.a,inputRef:g,style:{height:"27px",fontSize:"14px"}},sx:{width:"160px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),r.claim_type>1&&(0,U.jsx)(b.Z,{name:"NameTPPD",label:"Name of Third Party",size:"small",value:r.NameTPPD,onChange:C,InputProps:{style:{height:"27px",fontSize:"14px",color:"whie"}},sx:{width:"400px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}})]}),(0,U.jsxs)("fieldset",{style:{marginTop:"10px",display:"flex",columnGap:"10px",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,U.jsx)("legend",{children:"Basic Documents"}),(0,U.jsx)($,{state:r})]}),(0,U.jsxs)("fieldset",{style:{marginTop:"10px",display:"flex",columnGap:"10px",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,U.jsx)("legend",{children:"Other Documents"}),(0,U.jsx)(te,{state:r,otherFileInputRef:c})]}),(0,U.jsxs)("fieldset",{style:{marginTop:"10px",display:"flex",columnGap:"10px",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,U.jsx)("legend",{children:"Insurance Documents"}),(0,U.jsx)(ne,{state:r})]})]})]})})}function $(e){var t=e.state,n=(0,d.useState)("policyFile"),i=(0,a.Z)(n,2),o=i[0],l=i[1];return(0,U.jsxs)("div",{style:{display:"flex",width:"100%",height:"500px",maxHeight:"500px",flexDirection:"column"},children:[(0,U.jsx)("div",{style:{display:"flex",paddingRight:"10px",minWidth:"300px"},children:H.map((function(e,n){return(0,U.jsx)(ie,{itm:e,setActiveListBasicDocument:l,activeListBasicDocument:o,disabled:""===t.mode},n)}))}),H.map((function(e,t){return(0,U.jsx)("div",{style:{flex:1,width:"100%",position:"relative",display:e.name===o?"block":"none"},id:e.name,children:(0,U.jsx)(le,{})},t)}))]})}var ee=function(){var e,t,n,i,r,k=d.useState(null),D=(0,a.Z)(k,2),L=D[0],Z=D[1],F=(0,d.useState)([]),_=(0,a.Z)(F,2),$=_[0],ee=_[1],te=(0,d.useContext)(S.V),ne=te.myAxios,ie=te.user,le=(0,d.useReducer)(J,G),ae=(0,a.Z)(le,2),re=ae[0],se=ae[1],de=(0,d.useReducer)(J,K),ce=(0,a.Z)(de,2),ue=ce[0],pe=ce[1],xe=(0,d.useState)([]),he=(0,a.Z)(xe,2),fe=he[0],me=he[1],ge=(0,d.useState)(!1),ye=(0,a.Z)(ge,2),ve=ye[0],be=ye[1],Ce=(0,d.useRef)(null),je=(0,d.useRef)(null),we=(0,d.useRef)(null),Se=(0,d.useRef)(null),ke=(0,d.useRef)(null),De=(0,M.useQuery)({queryKey:"get-claims-id",queryFn:function(){return(e=e||(0,l.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.get("/task/claims/claims/get-claims-id",{headers:{Authorization:"Bearer ".concat(null===ie||void 0===ie?void 0:ie.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},refetchOnWindowFocus:!1,onSuccess:function(e){se({type:"UPDATE_FIELD",field:"claims_id",value:e.data.claim_id[0].id})}}),Le=De.isLoading,Ze=De.refetch,Ae=Boolean(L),Me=function(){Z(null)},Ne=function(e){var t=e.target,n=t.name,i=t.value;se({type:"UPDATE_FIELD",field:n,value:i})},Fe=(0,M.useMutation)({mutationFn:function(e){return ne.post("/task/claims/claims/selected-search-claims",e,{headers:{Authorization:"Bearer ".concat(null===ie||void 0===ie?void 0:ie.accessToken)}})},onSuccess:function(e){var t,n,i=e.data.formattedSelectedData,a=e.data.claims_id,r=[];function s(e,t){return(n=n||(0,l.Z)((0,o.Z)().mark((function e(t,n){var i,l,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],l=(0,o.Z)().mark((function e(){var l,r,s,d,c,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t[a],r="".concat(n,"/").concat(l.uniqueFilename),e.next=4,fetch(r);case 4:return s=e.sent,e.next=7,s.blob();case 7:d=e.sent,c=new File([d],l.fileName,{type:l.fileType}),u=new FileReader,i.push(new Promise((function(e,t){u.onload=function(t){var n;e({fileContent:null===(n=t.target)||void 0===n?void 0:n.result,datakey:l.datakey,fileName:l.fileName,fileType:l.fileType,file:c})},u.onerror=function(e){t(new Error("Error reading file: "+c.name))},u.readAsDataURL(c)})));case 11:case"end":return e.stop()}}),e)})),a=0;case 3:if(!(a<t.length)){e.next=8;break}return e.delegateYield(l(),"t0",5);case 5:a++,e.next=3;break;case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.map((function(e){return(t=t||(0,l.Z)((0,o.Z)().mark((function e(t){var n,i,l,d,c,u,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.push(parseInt(null===(n=t.policyState.claim_type)||void 0===n?void 0:n.toString())),i=t.basicFileCustom,l=t.otherFileCustom,d=t.insuranceFileCustom,e.next=6,s(i,"".concat("/","claim-files/").concat(a,"/").concat(t.id,"/Basic-Document/"));case 6:return c=e.sent,e.next=9,s(l,"".concat("/","claim-files/").concat(a,"/").concat(t.id,"/Other-Document/"));case 9:return u=e.sent,e.next=12,s(d,"".concat("/","claim-files/").concat(a,"/").concat(t.id,"/Insurance-Document/"));case 12:return p=e.sent,e.next=15,Promise.all(c);case 15:return t.basicFileCustom=e.sent,e.next=18,Promise.all(u);case 18:return t.otherFileCustom=e.sent,e.next=21,Promise.all(p);case 21:return t.insuranceFileCustom=e.sent,e.abrupt("return",t);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),me(r),oe(pe,i[0].policyState),ee(i)}}),Pe=Fe.isLoading,ze=Fe.mutate,Ie=(0,M.useMutation)({mutationKey:"save-claim",mutationFn:function(e){return(t=t||(0,l.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/task/claims/claims/save",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===ie||void 0===ie?void 0:ie.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;return t.data.success?(oe(se,G),oe(pe,K),ee([]),Ze(),P().fire({position:"center",icon:"success",title:t.data.message,timer:1500})):P().fire({position:"center",icon:"warning",title:t.data.message,timer:1500})}}),Re=Ie.isLoading,Ee=Ie.mutate,Te=(0,M.useMutation)({mutationKey:"get-selected-policy-details",mutationFn:function(e){return(n=n||(0,l.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("/task/claims/claims/get-selected-policy-details",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(null===ie||void 0===ie?void 0:ie.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;t.data.success&&t.data.data.length>0&&(console.log(t),oe(pe,t.data.data[0])),Qe()}}),Be=Te.isLoading,Oe=Te.mutate,_e=(0,c.Z)({link:{url:"/task/claims/claims/search-claims",queryUrlName:"searchClaims"},columns:[{field:"claims_id",headerName:"Ref No.",width:300},{field:"AssuredName",headerName:"Name",width:350},{field:"PolicyNo",headerName:"Policy No.",width:200},{field:"IDNo",headerName:"ID No.",width:200},{field:"ChassisNo",headerName:"Chassis No.",width:200},{field:"MotorNo",headerName:"Motor No.",width:200},{field:"PlateNo",headerName:"Plate No.",width:200}],queryKey:"search-claims",uniqueId:"claims_id",responseDataKey:"claims",onSelected:function(e){ze({selectedRowData:e}),oe(se,{claims_id:e[0].claims_id,dateReported:e[0].dateReported,dateAccident:e[0].dateAccident,dateInspected:e[0].dateInspected,department:parseInt(e[0].department),remarks:e[0].remarks,claim_no:"",mode:"update"}),Ke()},searchRef:Ce}),We=_e.ModalComponent,Ue=_e.isLoading,Ge=_e.openModal,Ke=_e.closeModal,qe=(0,c.Z)({link:{url:"/task/claims/claims/get-policy",queryUrlName:"searchPolicy"},columns:[{field:"PolicyNo",headerName:"Policy No.",width:300},{field:"AssuredName",headerName:"Name.",width:350},{field:"IDNo",headerName:"ID No.",width:200},{field:"ChassisNo",headerName:"Chassis No.",width:200}],queryKey:"get-policy",uniqueId:"PolicyNo",responseDataKey:"claimPolicy",onSelected:function(e){oe(pe,e[0]),Oe({PolicyNo:e[0].PolicyNo})},searchRef:je}),He=qe.ModalComponent,Ye=qe.isLoading,Ve=qe.openModal,Qe=qe.closeModal,Je=function(e){(0,z.flushSync)((function(){be(!0)}));var t=function(e){var t={};return e.forEach((function(e){t[e.datakey]||(t[e.datakey]=[]),t[e.datakey].push(e)})),Object.entries(t)},n=function(e){e.forEach((function(e){var t=(0,a.Z)(e,2),n=t[0],i=t[1],o=new DataTransfer,l=document.querySelector("#".concat(n," input"));i.forEach((function(e){o.items.add(e.file)})),l.files=o.files,l.dispatchEvent(new Event("change",{bubbles:!0}))}))};oe(pe,e.policyState),n(t(e.basicFileCustom)),n(t(e.otherFileCustom)),n(t(e.insuranceFileCustom)),Ne({target:{name:"claim_no",value:e.id}})};return Be?(0,U.jsx)("div",{children:"Loading..."}):(0,U.jsxs)("div",{style:{display:"flex",columnGap:"10px",flexDirection:"column"},children:[(0,U.jsxs)("div",{style:{display:"flex",columnGap:"10px"},children:[Ue?(0,U.jsx)(j.Z,{loading:Ue}):(0,U.jsxs)(u.Z,{sx:{width:"400px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},variant:"outlined",size:"small",children:[(0,U.jsx)(p.Z,{htmlFor:"search-claim-id",children:"Search"}),(0,U.jsx)(x.Z,{sx:{height:"27px",fontSize:"14px",legend:{background:"red"}},inputRef:je,name:"search",value:re.search,onChange:Ne,id:"search-claim-id",onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return Ge(re.search)},endAdornment:(0,U.jsx)(h.Z,{position:"end",children:(0,U.jsx)(f.Z,{onClick:function(){Ge(re.search)},edge:"end",color:"secondary",children:(0,U.jsx)(w.Z,{})})}),label:"Search"})]}),Le?(0,U.jsx)(j.Z,{loading:Le}):(0,U.jsxs)(u.Z,{variant:"outlined",size:"small",sx:{width:"140px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-1px"}},children:[(0,U.jsx)(p.Z,{htmlFor:"claims_id",children:"Claim ID."}),(0,U.jsx)(x.Z,{sx:{height:"27px",fontSize:"14px"},fullWidth:!0,label:"Claim ID.",name:"claims_id",value:re.claims_id,onChange:Ne,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),Ze()},readOnly:!0,id:"claims_id",endAdornment:(0,U.jsx)(h.Z,{position:"end",children:(0,U.jsx)(f.Z,{color:"secondary",edge:"end",onClick:function(){Ze()},children:(0,U.jsx)(N.Z,{})})})})]}),(0,U.jsxs)("div",{children:[(0,U.jsx)(m.Z,{disabled:"update"!==re.mode,id:"basic-button","aria-controls":Ae?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":Ae?"true":void 0,onClick:function(e){Z(e.currentTarget)},sx:{height:"30px",fontSize:"11px",color:"white",backgroundColor:O.Z[600],"&:hover":{backgroundColor:O.Z[700]}},children:"Print"}),(0,U.jsx)(g.Z,{id:"basic-menu",anchorEl:L,open:Ae,onClose:Me,MenuListProps:{"aria-labelledby":"basic-button"},children:(0,U.jsx)(y.Z,{onClick:function(){localStorage.setItem("paper-width","8.5in"),localStorage.setItem("paper-height","13in");(0,z.flushSync)((function(){var e,t=R.renderToString((e=(0,s.Z)((0,s.Z)({},re),ue),(0,U.jsxs)("div",{children:[(0,U.jsx)("div",{style:{borderBottom:"3px solid black"},children:(0,U.jsx)("h3",{style:{textAlign:"center",fontWeight:"bold"},children:0===e.department?"UPWARD INSURANCE SERVICES AND MANAGEMENT INC.":"UPWARD CONSULTANT SERVICES AND MANAGEMENT INC."})}),(0,U.jsx)("h1",{style:{textAlign:"center",fontWeight:"bolder"},children:"CLAIMS INFORMATION SHEET"}),(0,U.jsx)("p",{style:{textAlign:"right",fontSize:"16px",fontWeight:"bold"},children:(0,U.jsxs)("p",{style:{textAlign:"right",fontSize:"16px"},children:[(0,U.jsx)("span",{style:{fontWeight:"bolder"},children:"CLAIM NO.: "}),(0,U.jsxs)("span",{style:{fontWeight:"bold"},children:[" ",e.claims_id]})]})}),(0,U.jsxs)("div",{style:{minHeight:"200px",maxHeight:"auto",marginBottom:"20px",display:"flex",border:"2px solid black"},children:[(0,U.jsxs)("div",{style:{flex:1,minHeight:"200px",maxHeight:"auto",borderRight:"2px solid black",display:"flex",flexDirection:"column",rowGap:"5px"},children:[(0,U.jsxs)("div",{style:{width:"100%",display:"flex",padding:"0 10px",boxSizing:"border-box"},children:[(0,U.jsx)("span",{style:{flex:1,textAlign:"left",fontWeight:"bolder"},children:"Assured's Name"}),(0,U.jsx)("span",{style:{width:"40px",textAlign:"left"},children:":"}),(0,U.jsx)("span",{style:{flex:1,textAlign:"left",fontWeight:"bold"},children:e.AssuredName})]}),(0,U.jsxs)("div",{style:{width:"100%",display:"flex",padding:"0 10px",boxSizing:"border-box"},children:[(0,U.jsx)("span",{style:{flex:1,textAlign:"left",fontWeight:"bolder"},children:"Unit Insured"}),(0,U.jsx)("span",{style:{width:"40px",textAlign:"left"},children:":"}),(0,U.jsx)("span",{style:{flex:1,textAlign:"left",fontWeight:"bold"},children:"COM"===e.policy||"TPL"===e.policy?"".concat(e.Model," ").concat(e.Make," ").concat(e.BodyType):"".concat("PA"===e.policy?"Group Personal Accident":e.policy)})]}),"VPolicy"===e.policy&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("div",{style:{width:"100%",display:"flex",padding:"0 10px",boxSizing:"border-box"},children:[(0,U.jsx)("span",{style:{flex:1,textAlign:"left",fontWeight:"bolder"},children:"Engine No."}),(0,U.jsx)("span",{style:{width:"40px",textAlign:"left"},children:":"}),(0,U.jsx)("span",{style:{flex:1,textAlign:"left",fontWeight:"bold"},children:e.MotorNo})]}),(0,U.jsxs)("div",{style:{width:"100%",display:"flex",padding:"0 10px",boxSizing:"border-box"},children:[(0,U.jsx)("span",{style:{flex:1,textAlign:"left",fontWeight:"bolder"},children:"Chassis No."}),(0,U.jsx)("span",{style:{width:"40px",textAlign:"left"},children:":"}),(0,U.jsx)("span",{style:{flex:1,textAlign:"left",fontWeight:"bold"},children:e.ChassisNo})]})]}),(0,U.jsxs)("div",{style:{width:"100%",display:"flex",padding:"0 10px",boxSizing:"border-box"},children:[(0,U.jsx)("span",{style:{flex:1,textAlign:"left",fontWeight:"bolder"},children:"Inception"}),(0,U.jsx)("span",{style:{width:"40px",textAlign:"left"},children:":"}),(0,U.jsx)("span",{style:{flex:1,textAlign:"left",fontWeight:"bold"},children:"".concat((0,E.Z)(new Date(e.DateFrom),"MMMM d, yyyy")," - ").concat((0,E.Z)(new Date(e.DateTo),"yyyy"))})]}),(0,U.jsxs)("div",{style:{width:"100%",display:"flex",padding:"0 10px",boxSizing:"border-box"},children:[(0,U.jsx)("span",{style:{flex:1,textAlign:"left",fontWeight:"bolder"},children:"Type of Claim"}),(0,U.jsx)("span",{style:{width:"40px",textAlign:"left"},children:":"}),(0,U.jsx)("div",{style:{flex:1},children:fe.map((function(e,t){return(0,U.jsx)("p",{style:{textAlign:"left",fontWeight:"bold",padding:"0",margin:"0"},children:q[e]},t)}))})]})]}),(0,U.jsxs)("div",{style:{width:"220px",alignSelf:"self-start",minHeight:"200px",maxHeight:"auto",display:"flex",flexDirection:"column"},children:[(0,U.jsxs)("div",{style:{flex:1,borderBottom:"2px solid black",padding:"0 10px"},children:[(0,U.jsx)("p",{style:{fontWeight:"bolder",marginLeft:0,marginTop:0,marginRight:0,marginBottom:"10px",padding:0},children:"Date Prepared:"}),(0,U.jsx)("p",{style:{fontWeight:"bold",margin:0,padding:0},children:(0,E.Z)(new Date,"MMMM d, yyyy")})]}),(0,U.jsxs)("div",{style:{flex:1,borderBottom:"2px solid black",padding:"0 10px"},children:[(0,U.jsx)("p",{style:{fontWeight:"bolder",marginLeft:0,marginTop:0,marginRight:0,marginBottom:"10px",padding:0},children:"Policy No."}),(0,U.jsx)("p",{style:{fontWeight:"bold",margin:0,padding:0},children:e.PolicyNo})]}),(0,U.jsxs)("div",{style:{flex:1,padding:"0 10px"},children:[(0,U.jsx)("p",{style:{fontWeight:"bolder",marginLeft:0,marginTop:0,marginRight:0,marginBottom:"10px",padding:0},children:"Date of Accident"}),(0,U.jsx)("p",{style:{fontWeight:"bold",margin:0,padding:0},children:(0,E.Z)(new Date(re.dateAccident),"MMMM d, yyyy")})]})]})]}),(0,U.jsxs)("div",{style:{border:"2px solid black",height:"170px",position:"relative"},children:[(0,U.jsx)("p",{style:{borderBottom:"2px solid black",padding:"2px 5px",margin:"0",fontWeight:"bold",textAlign:"left"},children:0===e.department?"Under Writer":"Insurance Coordinator"}),(0,U.jsx)("p",{style:{width:"200px",borderTop:"2px solid black",padding:"0",margin:"0",fontWeight:"bold",position:"absolute",right:"0",bottom:"20px",textAlign:"center"},children:0===e.department?"Angelo Dacula":"Rina Fernandez"})]}),(0,U.jsxs)("div",{style:{borderBottom:"2px solid black",borderLeft:"2px solid black",borderRight:"2px solid black",height:"170px",position:"relative"},children:[(0,U.jsx)("p",{style:{borderBottom:"2px solid black",padding:"2px 5px",margin:"0",fontWeight:"bold",textAlign:"left"},children:"Accounting"}),(0,U.jsx)("p",{style:{width:"200px",borderTop:"2px solid black",padding:"0",margin:"0",fontWeight:"bold",position:"absolute",right:"0",bottom:"20px",textAlign:"center"},children:"Gina Rondina"}),(0,U.jsx)("div",{style:{padding:"2px 5px",margin:"0",fontWeight:"bold",height:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:(0,U.jsxs)("div",{children:[(0,U.jsxs)("div",{style:{textAlign:"left"},children:[(0,U.jsx)("span",{style:{margin:0,padding:0},children:parseFloat(e.balance.toString().replace(/,/,""))<=0?"Fully Paid,":"Not Fully Paid,"}),(0,U.jsx)("span",{style:{margin:0,padding:0},children:parseFloat(e.balance.toString().replace(/,/,""))<=0?"":" Total balance : ".concat(e.balance)})]}),(0,U.jsx)("div",{children:(0,U.jsx)("span",{children:parseFloat(e.remitted.toString().replace(/,/,""))<=0?"Not Remitted":"Remitted"})})]})})]}),(0,U.jsxs)("div",{style:{borderBottom:"2px solid black",borderLeft:"2px solid black",borderRight:"2px solid black",height:"170px",marginBottom:"20px"},children:[(0,U.jsx)("p",{style:{padding:"2px 5px",margin:"0",fontWeight:"bold",textAlign:"left"},children:"Remarks:"}),(0,U.jsx)("pre",{style:{padding:"2px 5px",margin:"0",fontWeight:"bold",textAlign:"left",fontSize:"15px"},children:e.remarks})]}),(0,U.jsxs)("div",{style:{border:"2px solid black",height:"140px",display:"flex",justifyContent:"space-around",flexDirection:"column"},children:[(0,U.jsxs)("p",{style:{padding:"2px",margin:"0"},children:[(0,U.jsx)("span",{style:{fontWeight:"bold"},children:"Prepared by"}),(0,U.jsx)("span",{style:{margin:"0",fontWeight:"bold",marginLeft:"100px"},children:"Checked by"})]}),(0,U.jsxs)("div",{style:{display:"flex",width:"100%",height:"auto",justifyContent:"space-between",padding:"0 10px",boxSizing:"border-box"},children:[(0,U.jsxs)("div",{style:{textAlign:"center"},children:[(0,U.jsx)("p",{style:{fontWeight:"bolder",fontSize:"19px ",margin:0,padding:0},children:"Pio Mendoza"}),(0,U.jsx)("p",{style:{fontSize:"13px",fontWeight:"bold",margin:0,padding:0},children:"Claims Officer"})]}),(0,U.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,U.jsxs)("div",{style:{textAlign:"center"},children:[(0,U.jsx)("p",{style:{fontWeight:"bolder",margin:0,padding:0,fontSize:"19px "},children:"Mary Grace Lanera"}),(0,U.jsx)("p",{style:{fontSize:"13px",fontWeight:"bold",margin:0,padding:0},children:"Operations Supervisor"})]})}),(0,U.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,U.jsxs)("div",{style:{textAlign:"center"},children:[(0,U.jsx)("p",{style:{fontWeight:"bolder",margin:0,padding:0,fontSize:"19px "},children:"Leo Aquino"}),(0,U.jsx)("p",{style:{fontSize:"13px",fontWeight:"bold",margin:0,padding:0},children:"General Manager"})]})})]})]})]})));localStorage.setItem("printString",t)})),window.open("/dashboard/print","_blank"),Me()},children:"Claim Information Sheet"})})]}),(0,U.jsx)(m.Z,{id:"basic-button","aria-haspopup":"true",sx:{height:"30px",fontSize:"11px"},color:"primary",variant:"contained",onClick:function(){""!==ue.PolicyNo?(oe(pe,{claim_type:0,status:0,DateReceived:null,DateClaim:null,AmountClaim:"",AmountApproved:"",NameTPPD:""}),be(!0)):P().fire({title:"Opppss!",text:"You need to select policy first!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, select policy!"}).then((function(e){e.isConfirmed&&Ve(ue.PolicyNo)}))},children:"ADD"}),(0,U.jsx)(j.Z,{loading:Re,id:"basic-button","aria-haspopup":"true",sx:{height:"30px",fontSize:"11px"},variant:"contained",color:"success",onClick:function(){var e;P().fire({title:"Are you sure?",text:"You want to ".concat("update"===re.mode?"save changes!":"save it!"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, ".concat("update"===re.mode?"save changes!":"save it!"," ")}).then((function(t){return(e=e||(0,l.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=6;break}if("update"!==re.mode){e.next=5;break}return e.abrupt("return",(0,I.s)({isUpdate:!0,cb:function(e){Ee((0,s.Z)((0,s.Z)({},re),{},{claimsSubmited:$,userCodeConfirmation:e}))}}));case 5:return e.abrupt("return",Ee((0,s.Z)((0,s.Z)({},re),{},{claimsSubmited:$})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}))},children:"update"===re.mode?"SAVE CHANGES":"SAVE"}),"update"===re.mode&&(0,U.jsx)(m.Z,{variant:"contained",color:"error","aria-haspopup":"true",sx:{height:"30px",fontSize:"11px"},onClick:function(){var e;P().fire({title:"Are you sure?",text:"You want to discard the changes!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, discard it!"}).then((function(t){return(e=e||(0,l.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConfirmed&&(oe(se,G),oe(pe,K),ee([]),Ze());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}))},children:"Discard Changes"}),""!==ue.PolicyNo&&"update"!==re.mode&&(0,U.jsx)(m.Z,{id:"basic-button","aria-haspopup":"true",sx:{height:"30px",fontSize:"11px"},color:"error",variant:"contained",onClick:function(){var e;P().fire({title:"Are you sure?",text:"You want to cancel!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Cancel it!"}).then((function(t){return(e=e||(0,l.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConfirmed&&(oe(se,G),oe(pe,K),ee([]),Ze());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}))},children:"CANCEL"})]}),(0,U.jsxs)("div",{style:{display:"flex",marginTop:"20px",columnGap:"10px"},children:[(0,U.jsx)(A.Z,{textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}},label:"Date Reported",onChange:function(e){se({type:"UPDATE_FIELD",field:"dateReported",value:e})},value:re.dateReported?new Date(re.dateReported):null,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)var t=setTimeout((function(){var e,n;null===(e=we.current)||void 0===e||null===(n=e.querySelector("button"))||void 0===n||n.click(),clearTimeout(t)}),150)},datePickerRef:we}),(0,U.jsx)(A.Z,{textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}},label:"Date Accident",onChange:function(e){se({type:"UPDATE_FIELD",field:"dateAccident",value:e})},value:re.dateAccident?new Date(re.dateAccident):null,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)var t=setTimeout((function(){var e,n;null===(e=Se.current)||void 0===e||null===(n=e.querySelector("button"))||void 0===n||n.click(),clearTimeout(t)}),150)},datePickerRef:Se}),(0,U.jsx)(A.Z,{textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}},label:"Date Inspected",onChange:function(e){se({type:"UPDATE_FIELD",field:"dateInspected",value:e})},value:re.dateInspected?new Date(re.dateInspected):null,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)var t=setTimeout((function(){var e,n;null===(e=ke.current)||void 0===e||null===(n=e.querySelector("button"))||void 0===n||n.click(),clearTimeout(t)}),150)},datePickerRef:ke}),(0,U.jsxs)(u.Z,{sx:{width:"200px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-12px"}},children:[(0,U.jsx)(p.Z,{id:"department-field",children:"Department"}),(0,U.jsx)(v.Z,{labelId:"department-field",value:re.department,onChange:Ne,label:"department",size:"small",name:"department",sx:{height:"27px",fontSize:"14px"},fullWidth:!0,children:["UMIS","UCSMI"].map((function(e,t){return(0,U.jsx)(y.Z,{value:t,children:e},t)}))})]}),(0,U.jsx)(b.Z,{name:"remarks",label:"Remarks",size:"small",value:re.remarks,onChange:Ne,InputProps:{style:{height:"27px",fontSize:"14px",color:"whie"}},sx:{width:"100%",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}})]}),(0,U.jsxs)("fieldset",{style:{display:"flex",columnGap:"15px",padding:"10px",border:"1px solid #cbd5e1",borderRadius:"5px",position:"relative"},children:[(0,U.jsx)("legend",{children:"Policy Details"}),(0,U.jsxs)("div",{style:{display:"flex",width:"100%",gap:"15px",flexDirection:"column"},children:[(0,U.jsxs)("div",{style:{flex:"1",display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:"7px"},children:[Ye?(0,U.jsx)(j.Z,{loading:Ye}):(0,U.jsxs)(u.Z,{sx:{width:"100%",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},variant:"outlined",size:"small",children:[(0,U.jsx)(p.Z,{htmlFor:"policy-no",children:"Policy No."}),(0,U.jsx)(x.Z,{sx:{height:"27px",fontSize:"14px",legend:{background:"red"}},inputRef:je,name:"PolicyNo",value:ue.PolicyNo,onChange:Ne,id:"policy-no",onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return Ve(ue.PolicyNo)},endAdornment:(0,U.jsx)(h.Z,{position:"end",children:(0,U.jsx)(f.Z,{disabled:""===ue.mode,onClick:function(){Ve(ue.PolicyNo)},edge:"end",color:"secondary",children:(0,U.jsx)(w.Z,{})})}),label:"Policy No."})]}),(0,U.jsx)(b.Z,{name:"policy",label:"Policy",size:"small",value:ue.policy,onChange:Ne,InputProps:{style:{height:"27px",fontSize:"14px",color:"whie"},readOnly:!0},sx:{".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,U.jsx)(b.Z,{name:"AssuredName",label:"Assured Name",size:"small",value:ue.AssuredName,onChange:Ne,InputProps:{style:{height:"27px",fontSize:"14px",color:"whie"},readOnly:!0},sx:{gridColumn:"3/ span 2",width:"100%",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,U.jsx)(b.Z,{name:"Account",label:"Account Insurance",size:"small",value:ue.Account,onChange:Ne,InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0},sx:{width:"100%",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,U.jsx)(b.Z,{name:"Model",label:"Model",size:"small",value:ue.Model,onChange:Ne,InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0},sx:{width:"100%",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,U.jsx)(b.Z,{name:"PlateNo",label:"Plate No",size:"small",value:ue.PlateNo,onChange:Ne,InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0},sx:{width:"100%",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,U.jsx)(b.Z,{name:"ChassisNo",label:"Chassis No",size:"small",value:ue.ChassisNo,onChange:Ne,InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0},sx:{width:"100%",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,U.jsx)(b.Z,{name:"MotorNo.",label:"Motor No",size:"small",value:ue.MotorNo,onChange:Ne,InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0},sx:{width:"100%",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,U.jsx)(b.Z,{name:"CoverNo",label:"Cover No",size:"small",value:ue.CoverNo,onChange:Ne,InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0},sx:{width:"100%",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,U.jsx)(b.Z,{name:"BLTFileNo",label:"BLTFileNo",size:"small",value:ue.BLTFileNo,onChange:Ne,InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0},sx:{width:"100%",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,U.jsx)(b.Z,{name:"BodyType",label:"Body Type",size:"small",value:ue.BodyType,onChange:Ne,InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0},sx:{width:"100%",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,U.jsx)(b.Z,{name:"Make",label:"Make",size:"small",value:ue.Make,onChange:Ne,InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0},sx:{width:"100%",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,U.jsx)(b.Z,{name:"ORNo",label:"OR No.",size:"small",value:ue.ORNo,onChange:Ne,InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0},sx:{width:"100%",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}})]}),(0,U.jsxs)("div",{style:{display:"grid",gap:"15px",flex:"1",gridTemplateColumns:"repeat(4,1fr)"},children:[(0,U.jsxs)("fieldset",{style:{display:"flex",gap:"15px",border:"1px solid #cbd5e1",borderRadius:"5px",gridTemplateColumns:"repeat(4,1fr)",gridColumn:"1 / span 3"},children:[(0,U.jsx)("legend",{children:"Client Payment"}),(0,U.jsx)(b.Z,{name:"totaDue",label:"Total Due",size:"small",value:ue.totaDue,onChange:Ne,InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0},sx:{width:"100%",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,U.jsx)(b.Z,{name:"totalpaid",label:"Total Paid",size:"small",value:ue.totalpaid,onChange:Ne,InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0},sx:{width:"100%",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,U.jsx)(b.Z,{name:"balance",label:"Balance",size:"small",value:ue.balance,onChange:Ne,InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0},sx:{width:"100%",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}})]}),(0,U.jsxs)("fieldset",{style:{display:"flex",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,U.jsx)("legend",{children:"Insurance Payment"}),(0,U.jsx)(b.Z,{name:"remitted",label:"Remitted",size:"small",value:ue.remitted,onChange:Ne,InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0},sx:{width:"100%",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}})]})]})]})]}),(0,U.jsxs)("div",{style:{marginTop:"20px",border:"1px solid #94a3b8",minHeight:"600px"},children:[(0,U.jsx)("h1",{style:{textAlign:"center"},children:"LIST OF CLAIMS"}),(0,U.jsx)("div",{style:{padding:"20px",display:"flex",flexWrap:"wrap"},children:(0,U.jsxs)("table",{style:{borderCollapse:"collapse",width:"100%",fontSize:"13px"},className:"claim-list",children:[(0,U.jsx)("thead",{children:(0,U.jsxs)("tr",{style:{borderBottom:"1px solid black"},children:[(0,U.jsx)("th",{children:"ACTION"}),(0,U.jsx)("th",{children:"CLAIM TYPE"}),(0,U.jsx)("th",{children:"STATUS"}),(0,U.jsx)("th",{children:"DATE RECEIVED"}),(0,U.jsx)("th",{children:"DATE CLAIM"}),(0,U.jsx)("th",{children:"AMOUNT CLAIM"}),(0,U.jsx)("th",{children:"AMOUNT APPROVED"})]})}),(0,U.jsx)("tbody",{children:$.length>0&&(null===(r=$,i=r.length<=0?[]:r.sort((function(e,t){return e.id<t.id?-1:e.id>t.id?1:0})))||void 0===i?void 0:i.map((function(e,t){var n=V.sort();return(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{className:"left",children:(0,U.jsxs)(C.Z,{direction:"row",alignItems:"center",spacing:1,justifyContent:"center",children:[(0,U.jsx)(f.Z,{size:"small",color:"secondary",onClick:function(){return Je(e)},children:(0,U.jsx)(B.Z,{fontSize:"inherit"})}),(0,U.jsx)(f.Z,{size:"small",color:"info",onClick:function(){var t,i,o=document.createElement("h1"),l=document.createElement("div"),a=document.createElement("div");o.textContent="Claim Summary";var r=document.createElement("div"),s=document.createElement("button"),d=document.body,c=e.basicFileCustom.map((function(e){return e.datakey})),u=c.filter((function(e,t){return c.indexOf(e)===t})),p=e.otherFileCustom.map((function(e){return e.datakey})),x=p.filter((function(e,t){return p.indexOf(e)===t})),h=e.insuranceFileCustom.map((function(e){return e.datakey})),f=h.filter((function(e,t){return h.indexOf(e)===t})),m=(0,U.jsx)("table",{style:{fontSize:"12px"},children:(0,U.jsxs)("tbody",{children:[(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{className:"datakey",children:"Claim Type"}),(0,U.jsx)("td",{children:q[e.policyState.claim_type]})]}),(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{className:"datakey",children:"Status"}),(0,U.jsx)("td",{children:n[e.policyState.status]})]}),(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{className:"datakey",children:"Date Received"}),(0,U.jsx)("td",{children:e.policyState.DateReceived?(0,E.Z)(new Date(e.policyState.DateReceived),"yyyy/MM/dd"):"Not Set"})]}),(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{className:"datakey",children:"Date Claim"}),(0,U.jsx)("td",{children:e.policyState.DateClaim?(0,E.Z)(new Date(e.policyState.DateClaim),"yyyy/MM/dd"):"Not Set"})]}),(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{className:"datakey",children:"Amount Claim"}),(0,U.jsx)("td",{children:null!==(t=e.policyState.AmountClaim)&&void 0!==t?t:""})]}),(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{className:"datakey",children:"Amount Approved"}),(0,U.jsx)("td",{children:null!==(i=e.policyState.AmountApproved)&&void 0!==i?i:""})]}),e.policyState.claim_type>1&&(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{className:"datakey",children:"Name of Third Party"}),(0,U.jsx)("td",{children:e.policyState.NameTPPD})]}),(0,U.jsx)("tr",{style:{borderTop:"1px solid black",borderBottom:"1px solid black"},children:(0,U.jsx)("td",{colSpan:2,style:{fontWeight:"bolder",padding:"5px",color:"#d97706"},children:"Basic Document"})}),H.map((function(e,t){return(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{className:"datakey",children:e.label}),(0,U.jsx)("td",{children:u.includes(e.name)?(0,U.jsx)("span",{style:{color:"green"},children:(0,U.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",children:(0,U.jsx)("path",{d:"M4 14L9 19L20 8M6 8.88889L9.07692 12L16 5",stroke:"green",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):(0,U.jsx)("span",{style:{color:"grey"},children:(0,U.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none",children:(0,U.jsx)("path",{d:"M20.7457 3.32851C20.3552 2.93798 19.722 2.93798 19.3315 3.32851L12.0371 10.6229L4.74275 3.32851C4.35223 2.93798 3.71906 2.93798 3.32854 3.32851C2.93801 3.71903 2.93801 4.3522 3.32854 4.74272L10.6229 12.0371L3.32856 19.3314C2.93803 19.722 2.93803 20.3551 3.32856 20.7457C3.71908 21.1362 4.35225 21.1362 4.74277 20.7457L12.0371 13.4513L19.3315 20.7457C19.722 21.1362 20.3552 21.1362 20.7457 20.7457C21.1362 20.3551 21.1362 19.722 20.7457 19.3315L13.4513 12.0371L20.7457 4.74272C21.1362 4.3522 21.1362 3.71903 20.7457 3.32851Z",fill:"grey"})})})})]},t)})),(0,U.jsx)("tr",{style:{borderTop:"1px solid black",borderBottom:"1px solid black"},children:(0,U.jsx)("td",{colSpan:2,style:{fontWeight:"bolder",padding:"5px",color:"#d97706"},children:"Other Document"})}),Q()[e.policyState.claim_type].map((function(e,t){return(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{className:"datakey",children:e.label}),(0,U.jsx)("td",{children:x.includes(e.name)?(0,U.jsx)("span",{style:{color:"green"},children:(0,U.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",children:(0,U.jsx)("path",{d:"M4 14L9 19L20 8M6 8.88889L9.07692 12L16 5",stroke:"green",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):(0,U.jsx)("span",{style:{color:"grey"},children:(0,U.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none",children:(0,U.jsx)("path",{d:"M20.7457 3.32851C20.3552 2.93798 19.722 2.93798 19.3315 3.32851L12.0371 10.6229L4.74275 3.32851C4.35223 2.93798 3.71906 2.93798 3.32854 3.32851C2.93801 3.71903 2.93801 4.3522 3.32854 4.74272L10.6229 12.0371L3.32856 19.3314C2.93803 19.722 2.93803 20.3551 3.32856 20.7457C3.71908 21.1362 4.35225 21.1362 4.74277 20.7457L12.0371 13.4513L19.3315 20.7457C19.722 21.1362 20.3552 21.1362 20.7457 20.7457C21.1362 20.3551 21.1362 19.722 20.7457 19.3315L13.4513 12.0371L20.7457 4.74272C21.1362 4.3522 21.1362 3.71903 20.7457 3.32851Z",fill:"grey"})})})})]},t)})),(0,U.jsx)("tr",{style:{borderTop:"1px solid black",borderBottom:"1px solid black"},children:(0,U.jsx)("td",{colSpan:2,style:{fontWeight:"bolder",padding:"5px",color:"#d97706"},children:"Insurance Documents"})}),Y.map((function(e,t){return(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{className:"datakey",children:e.label}),(0,U.jsx)("td",{children:f.includes(e.name)?(0,U.jsx)("span",{style:{color:"green"},children:(0,U.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",children:(0,U.jsx)("path",{d:"M4 14L9 19L20 8M6 8.88889L9.07692 12L16 5",stroke:"green",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):(0,U.jsx)("span",{style:{color:"grey"},children:(0,U.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none",children:(0,U.jsx)("path",{d:"M20.7457 3.32851C20.3552 2.93798 19.722 2.93798 19.3315 3.32851L12.0371 10.6229L4.74275 3.32851C4.35223 2.93798 3.71906 2.93798 3.32854 3.32851C2.93801 3.71903 2.93801 4.3522 3.32854 4.74272L10.6229 12.0371L3.32856 19.3314C2.93803 19.722 2.93803 20.3551 3.32856 20.7457C3.71908 21.1362 4.35225 21.1362 4.74277 20.7457L12.0371 13.4513L19.3315 20.7457C19.722 21.1362 20.3552 21.1362 20.7457 20.7457C21.1362 20.3551 21.1362 19.722 20.7457 19.3315L13.4513 12.0371L20.7457 4.74272C21.1362 4.3522 21.1362 3.71903 20.7457 3.32851Z",fill:"grey"})})})})]},t)}))]})}),g=R.renderToString(m);r.innerHTML=g,l.appendChild(a),a.appendChild(s),a.appendChild(o),a.appendChild(r),l.className="summary-modal ",a.className="content ",l.id="summary-modal",null===s||void 0===s||s.addEventListener("click",(function(){d.removeChild(l)})),null===a||void 0===a||a.addEventListener("click",(function(e){e.stopPropagation()})),null===l||void 0===l||l.addEventListener("click",(function(){d.removeChild(l)})),s.innerHTML='\n                              <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" fill="none">\n                              <path d="M20.7457 3.32851C20.3552 2.93798 19.722 2.93798 19.3315 3.32851L12.0371 10.6229L4.74275 3.32851C4.35223 2.93798 3.71906 2.93798 3.32854 3.32851C2.93801 3.71903 2.93801 4.3522 3.32854 4.74272L10.6229 12.0371L3.32856 19.3314C2.93803 19.722 2.93803 20.3551 3.32856 20.7457C3.71908 21.1362 4.35225 21.1362 4.74277 20.7457L12.0371 13.4513L19.3315 20.7457C19.722 21.1362 20.3552 21.1362 20.7457 20.7457C21.1362 20.3551 21.1362 19.722 20.7457 19.3315L13.4513 12.0371L20.7457 4.74272C21.1362 4.3522 21.1362 3.71903 20.7457 3.32851Z" fill="#0F0F0F"/>\n                              </svg>\n                              ',d.appendChild(l)},children:(0,U.jsx)(W.Z,{fontSize:"inherit"})}),(0,U.jsx)(f.Z,{size:"small",color:"error",onClick:function(){var t;P().fire({title:"Are you sure?",text:"You want to delete it!, won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete it!"}).then((function(n){return(t=t||(0,l.Z)((0,o.Z)().mark((function t(n){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.isConfirmed&&ee((function(t){return t=t.filter((function(t){return t.id!==e.id}))}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}))},children:(0,U.jsx)(T.Z,{fontSize:"inherit"})})]})}),(0,U.jsx)("td",{onDoubleClick:function(){return Je(e)},children:q[e.policyState.claim_type]}),(0,U.jsx)("td",{onDoubleClick:function(){return Je(e)},children:""===n[e.policyState.status]?"Status not set":n[e.policyState.status]}),(0,U.jsx)("td",{onDoubleClick:function(){return Je(e)},className:"center",children:e.policyState.DateReceived?(0,E.Z)(new Date(e.policyState.DateReceived),"yyyy-MM-dd"):"Date Received not set"}),(0,U.jsx)("td",{onDoubleClick:function(){return Je(e)},className:"center",children:e.policyState.DateClaim?(0,E.Z)(new Date(e.policyState.DateClaim),"yyyy-MM-dd"):"Date Claim not set"}),(0,U.jsx)("td",{onDoubleClick:function(){return Je(e)},className:"center",children:""===e.policyState.AmountClaim?"0.00":e.policyState.AmountClaim}),(0,U.jsx)("td",{onDoubleClick:function(){return Je(e)},className:"center",children:""===e.policyState.AmountApproved?"0.00":e.policyState.AmountApproved})]},t)})))})]})})]}),We,ve&&(0,U.jsx)("div",{style:{position:"absolute",top:0,bottom:0,left:0,right:0,background:"rgba(158, 155, 157, 0.31)",zIndex:"999",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,U.jsx)("div",{style:{width:"90%",height:"90%",overflow:"auto",background:"white",padding:"20px",margin:"auto",zIndex:"9929",boxShadow:" -1px 1px 13px 6px rgba(0,0,0,0.54)"},children:(0,U.jsx)(X,{handleCloseModal:function(){be(!1)},setClaimsSubmited:ee,claim_no:re.claim_no,policyState:ue,policyDispatch:pe,claimDispatch:se})})}),Pe&&(0,U.jsx)("div",{style:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",background:"rgba(158, 155, 157, 0.31)",zIndex:"999",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,U.jsx)("img",{src:"".concat("/","image/loading.gif"),style:{width:"80px",height:"80px"},alt:"we"})}),He]})};function te(e){var t=e.state,n=e.otherFileInputRef,i=(0,d.useState)("policyFile"),o=(0,a.Z)(i,2),l=o[0],r=o[1];return(0,d.useEffect)((function(){var e=Q();r(e[t.claim_type][0].name)}),[t.claim_type]),(0,U.jsxs)("div",{style:{display:"flex",width:"100%",height:"500px",maxHeight:"500px",flexDirection:"column"},children:[(0,U.jsx)("div",{style:{display:"flex",paddingRight:"10px",minWidth:"300px"},children:Q().map((function(e,n){return(0,U.jsx)("div",{style:{display:t.claim_type===n?"block":"none"},children:e.map((function(e,n){return(0,U.jsx)(ie,{itm:e,setActiveListBasicDocument:r,activeListBasicDocument:l,disabled:""===t.mode},n)}))},n)}))}),Q().map((function(e,t){return(0,U.jsx)(d.Fragment,{children:e.map((function(e,t){return(0,U.jsx)("div",{style:{flex:1,width:"100%",position:"relative",display:e.name===l?"block":"none"},id:e.name,children:(0,U.jsx)(le,{ref:n})},t)}))},t)}))]})}function ne(e){var t=e.state,n=(0,d.useState)("loa"),i=(0,a.Z)(n,2),o=i[0],l=i[1];return(0,U.jsxs)("div",{style:{display:"flex",width:"100%",height:"500px",maxHeight:"500px",flexDirection:"column"},children:[(0,U.jsx)("div",{style:{display:"flex",paddingRight:"10px",minWidth:"300px"},children:Y.map((function(e,n){return(0,U.jsx)(ie,{itm:e,setActiveListBasicDocument:l,activeListBasicDocument:o,disabled:""===t.mode},n)}))}),Y.map((function(e,t){return(0,U.jsx)("div",{style:{flex:1,width:"100%",position:"relative",display:e.name===o?"block":"none"},id:e.name,children:(0,U.jsx)(le,{})},t)}))]})}function ie(e){var t=e.setActiveListBasicDocument,n=e.activeListBasicDocument,i=e.itm,o=(e.disabled,(0,d.useState)(!1)),l=(0,a.Z)(o,2),r=l[0],s=l[1];return(0,U.jsx)("button",{onClick:function(){t(i.name)},onMouseEnter:function(){s(!0)},onMouseLeave:function(){s(!1)},style:{padding:"10px",fontSize:"13px",cursor:"pointer",background:n===i.name?"black":r?"#f1f5f9":"transparent",color:n===i.name?"white":"black",border:"none",textAlign:"left"},children:i.label})}function oe(e,t){Object.entries(t).forEach((function(t){var n=(0,a.Z)(t,2),i=n[0],o=n[1];e({type:"UPDATE_FIELD",field:i,value:o})}))}var le=(0,d.forwardRef)((function(e,t){var n=(0,d.useState)([]),o=(0,a.Z)(n,2),l=o[0],r=o[1],c=(0,d.useId)(),u=(0,d.useRef)(null),p=(0,d.useState)(!1),x=(0,a.Z)(p,2),h=x[0],f=x[1],m=function(e){e.preventDefault(),f(!1)},g=function(e){e.preventDefault(),f(!0)},y=function(e){e.preventDefault();var t,n=e.dataTransfer.files,o=Array.from(n),a=[].concat((0,i.Z)(l),o);if(f(!1),re(a))return null===(t=u.current)||void 0===t||t.click(),alert("file is not valid Extention!");r(a)};return(0,d.useEffect)((function(){if(!(l.length<=0)){var e=function(e){var t=new DataTransfer;return e.forEach((function(e){t.items.add(e)})),t.files}(l);u.current&&(u.current.files=e)}}),[l]),(0,d.useImperativeHandle)(t,(function(){return{resetFileUpload:function(){r([])}}})),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("button",{onClick:function(){var e;r([]),(null===(e=document.getElementById(c))||void 0===e?void 0:e.parentElement).reset()},id:"reset-buton",style:{display:"none"},children:"resetALl"}),(0,U.jsxs)("div",{children:[(0,U.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px",height:"400px",width:"100%",background:"#f8fafc",overflow:"auto",border:h?"1px solid #c026d3":"1px solid #cbd5e1",boxSizing:"border-box",padding:"10px"},onDragEnter:g,onDragOver:function(e){return e.preventDefault()},onDragLeave:m,onDrop:y,children:(0,U.jsx)("div",{style:(0,s.Z)((0,s.Z)({height:"auto",width:"100%",display:"flex",flexWrap:"wrap"},l.length<=0&&{alignItems:"center",textAlign:"center",justifyContent:"center"}),{},{gap:"10px",marginBottom:"50px"}),onDragEnter:g,onDragOver:function(e){return e.preventDefault()},onDragLeave:m,onDrop:y,children:l.length<=0?(0,U.jsx)(Z.Z,{sx:{fontSize:"8em",color:"#d1d5db",zIndex:"2"}}):l.map((function(e,t){return(0,U.jsx)(ae,{itm:e,selectedFiles:l,setSelectedFiles:r,fileInput:u},t)}))})}),(0,U.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},draggable:!1})]}),(0,U.jsxs)("form",{style:{position:"absolute",bottom:"1px",left:"1px",right:"1px",zIndex:"4"},children:[(0,U.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",textAlign:"center",cursor:"pointer",padding:" 10px",background:"#0d9488",color:"white"},htmlFor:c,children:"Click to Upload File"}),(0,U.jsx)("input",{ref:u,style:{display:"none"},id:c,type:"file",onChange:function(e){var t=e.target.files,n=Array.from(t),o=[].concat((0,i.Z)(l),n);if(re(o))return alert("file is not valid Extention!");r(o)},accept:".jpg,.jpeg,.png,.pdf",multiple:!0})]})]})}));function ae(e){var t=e.itm,n=e.selectedFiles,i=e.setSelectedFiles,o=e.fileInput,l=URL.createObjectURL(t);return(0,U.jsxs)("div",{id:"image-card",style:{position:"relative",width:"200px",height:"200px",textAlign:"center",boxShadow:"10px 10px 28px -7px rgba(0,0,0,0.75)",border:"1px solid #cbd5e1"},children:[t.type.startsWith("image/")?(0,U.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center"},children:(0,U.jsx)("img",{src:l,alt:"img-sss",style:{width:"100%",height:"auto"}})}):(0,U.jsx)("iframe",{title:"dasdseasd",src:l,style:{width:"100%"}}),(0,U.jsxs)("div",{style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"white",padding:"5px",display:"flex",columnGap:"10px",justifyContent:"center"},children:[(0,U.jsx)(f.Z,{color:"primary",edge:"end",onClick:function(){window.open(l,"_blank")},children:(0,U.jsx)(D.Z,{})}),(0,U.jsx)(f.Z,{color:"success",edge:"end",onClick:function(){var e=document.createElement("a");e.href=l,e.download=t.name,e.click()},children:(0,U.jsx)(k.Z,{})}),(0,U.jsx)(f.Z,{color:"error",edge:"end",onClick:function(){var e,l=[t.name],a=n.filter((function(e){return e!==t}));i(a);var r=function(e,t){for(var n=new DataTransfer,i=0;i<e.length;i++)t.includes(e[i].name)||n.items.add(e[i]);return n.files}(null===(e=o.current)||void 0===e?void 0:e.files,l);o.current&&o.current.files&&(o.current.files=r)},children:(0,U.jsx)(L.Z,{})})]})]})}function re(e){var t=!1,n=["application/pdf","image/jpg","image/jpeg","image/png"];return e.map((function(e){return e.type})).forEach((function(e){n.includes(e)||(t=!0)})),t}},93263:function(e,t,n){var i,o=n(29439),l=n(74165),a=n(15861),r=n(72791),s=n(91933),d=n(3380),c=n(81582),u=n(54164),p=n(80184);function x(e,t,n){return(i=i||(0,a.Z)((0,l.Z)().mark((function e(t,n,i){var o,a=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>3&&void 0!==a[3]?a[3]:"",e.abrupt("return",t.get("".concat(null===i||void 0===i?void 0:i.url,"?").concat(null===i||void 0===i?void 0:i.queryUrlName,"=").concat(o),{headers:{Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.accessToken)}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.Z=function(e){var t,n,i=e.link,h=e.uniqueId,f=e.queryKey,m=e.responseDataKey,g=e.columns,y=e.onSelected,v=void 0===y?function(){}:y,b=e.onRemoveSelected,C=void 0===b?function(){}:b,j=e.onSuccess,w=void 0===j?function(){}:j,S=e.searchRef,k=e.onCellKeyDown,D=e.onCloseFunction,L=void 0===D?function(){}:D,Z=e.CustomizeAxios,A=void 0===Z?x:Z,M=e.isRowSelectable,N=e.getCellClassName,F=(0,r.useContext)(d.V),P=F.myAxios,z=F.user,I=(0,r.useState)(!1),R=(0,o.Z)(I,2),E=R[0],T=R[1],B=(0,r.useState)([]),O=(0,o.Z)(B,2),_=O[0],W=O[1];function U(){return(t=t||(0,a.Z)((0,l.Z)().mark((function e(){var t,n=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.next=3,A(P,z,i,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=(0,s.useQuery)({queryKey:f,queryFn:function(){return(n=n||(0,a.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;W(t.data[m]),w(t)},refetchOnWindowFocus:!1}),K=G.isLoading,q=G.refetch;return{show:E,rows:_,isLoading:K,openModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,u.flushSync)((function(){T(!0)})),null!==S&&void 0!==S&&S.current&&(S.current.value=e,U(e).then((function(e){if(null===e||void 0===e||!e.data.success)return alert("Error : ".concat(null===e||void 0===e?void 0:e.data.message));W(e.data[m]),null!==S&&void 0!==S&&S.current&&S.current.focus()})))},closeModal:function(){var e;(T(!1),L)&&L(null===S||void 0===S||null===(e=S.current)||void 0===e?void 0:e.value)},ModalComponent:(0,p.jsx)(c.ZP,{getCellClassName:N,searchRef:S,showModal:E,onCloseModal:function(){var e;(T(!1),L)&&L(null===S||void 0===S||null===(e=S.current)||void 0===e?void 0:e.value)},onClickCloseIcon:function(){var e;(T(!1),L)&&L(null===S||void 0===S||null===(e=S.current)||void 0===e?void 0:e.value)},searchOnChange:function(e){},onSearchKeyEnter:function(e){U(e).then((function(e){if(null===e||void 0===e||!e.data.success)return alert("Error : ".concat(null===e||void 0===e?void 0:e.data.message));W(e.data[m])}))},onCellKeyDown:k,height:300,isLoading:K,queryKey:f,columns:g,onSelectionChange:function(e,t){if(e.length<=0)return C(t);var n=new Set(e),i=t.filter((function(e){return n.has(e[h].toString())}));i.length<=0||v(i,t)},id:h,rows:_,setRows:W,isRowSelectable:M}),refetch:q}}},64230:function(e,t,n){n.d(t,{L:function(){return s},s:function(){return r}});var i=n(74165),o=n(15861),l=n(21830),a=n.n(l);function r(e){var t;a().fire({title:"Are you sure!",html:null!==e&&void 0!==e&&e.text?null===e||void 0===e?void 0:e.text:e.isUpdate?"Are you sure you want to make this change?":"Are you sure you want to delete this?",icon:"warning",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Save",confirmButtonColor:"green",showLoaderOnConfirm:!0,preConfirm:function(n){return(t=t||(0,o.Z)((0,i.Z)().mark((function t(n){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e.cb(n)}catch(i){a().showValidationMessage("\n            Request failed: ".concat(i,"\n          "))}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)},allowOutsideClick:function(){return!a().isLoading()}}).then((function(t){if(t.isConfirmed&&e.isConfirm)return e.isConfirm();e.isDeclined&&e.isDeclined()}))}function s(e){a().fire({title:"Are you sure?",text:null!==e&&void 0!==e&&e.text?null===e||void 0===e?void 0:e.text:"Do you want to proceed with saving?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, save it!"}).then((function(t){if(t.isConfirmed&&e.isConfirm)return e.isConfirm();e.isDeclined&&e.isDeclined()}))}}}]);
//# sourceMappingURL=2562.5dcb5aeb.chunk.js.map