"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[3749,7899],{65413:function(e,t,n){n.d(t,{g:function(){return a}});var r=n(13239),o=n(80184),a=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0,background:"red",zIndex:"88",backgroundColor:"rgba(0, 0, 0, 0.4)"}}),(0,o.jsxs)("div",{style:{position:"absolute",zIndex:"100",background:"white",width:"auto",height:"auto",top:"50%",left:"50%",transform:"translate(-50%,-50%)",boxShadow:"3px 6px 32px -7px rgba(0,0,0,0.75)",display:"flex",columnGap:"20px",alignItems:"center",justifyContent:"center",padding:"10px 15px"},children:[(0,o.jsx)(r.Z,{color:"primary"}),(0,o.jsx)("span",{children:"Loading..."})]})]})}},77935:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(74165),o=n(15861),a=n(39709),i=n(72791),u=n(91933),l=n(3380),c=n(37209),s=n(11690),d=n(36151),p=n(21830),f=n.n(p),x=n(65413),h=n(80184),v=[{key:"row_count",label:"#",width:30},{key:"Check_Date",label:"Date",width:80},{key:"Bank",label:"Bank",width:150},{key:"CheckNo",label:"Check No",width:150},{key:"Check_Amnt",label:"Amount",width:120,type:"number"}];function m(){var e,t,n,p,m,y=(0,i.useContext)(l.V),g=y.myAxios,b=y.user,w=(0,i.useRef)(null),k=(0,i.useRef)(null),C=(0,i.useRef)(null),j=(0,i.useRef)(null),S=(0,i.useRef)(null),Z=(0,i.useRef)(null),N=(0,i.useRef)(null),R=(0,u.useQuery)({queryKey:"load-request-number",queryFn:function(){return(e=e||(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/task/accounting/pullout/approved/load-request-number",{headers:{Authorization:"Bearer ".concat(null===b||void 0===b?void 0:b.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),B=R.isLoading,z=R.data,A=R.refetch,T=(0,u.useMutation)({mutationKey:"load-details",mutationFn:function(e){return(t=t||(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/task/accounting/pullout/approved/load-details",t,{headers:{Authorization:"Bearer ".concat(null===b||void 0===b?void 0:b.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=null===e||void 0===e?void 0:e.data.details;C.current&&(C.current.value=t[0].PNNo),j.current&&(j.current.value=t[0].Name),S.current&&(S.current.value=t[0].Reason),w.current.setDataFormated(t)}}),P=T.isLoading,F=T.mutate,L=(0,u.useMutation)({mutationKey:"confirm-code",mutationFn:function(e){return(n=n||(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/task/accounting/pullout/approved/confirm-code",t,{headers:{Authorization:"Bearer ".concat(null===b||void 0===b?void 0:b.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){w.current.resetTable(),k.current&&(k.current.value=""),C.current&&(C.current.value=""),j.current&&(j.current.value=""),S.current&&(S.current.value=""),Z.current&&(Z.current.value=""),f().fire({position:"center",icon:"warning",title:e.data.message,timer:1500}).then((function(){A()}))}}),D=L.isLoading,I=L.mutate,_=(0,u.useMutation)({mutationKey:"confirm",mutationFn:function(e){return(p=p||(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/task/accounting/pullout/approved/confirm",t,{headers:{Authorization:"Bearer ".concat(null===b||void 0===b?void 0:b.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){if(e.data.success)return f().fire({title:"Are you sure?",text:e.data.message,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, confirm it!"}).then((function(e){if(e.isConfirmed){var t,n,r,o,a,i=w.current.getData().map((function(e){return{Check_Date:e[1],Bank:e[2],Check_No:e[3],Check_Amnt:e[4]}}));I({RCPNo:null===(t=k.current)||void 0===t?void 0:t.value,PNNo:null===(n=C.current)||void 0===n?void 0:n.value,reason:null===(r=S.current)||void 0===r?void 0:r.value,Name:null===(o=j.current)||void 0===o?void 0:o.value,code:null===(a=Z.current)||void 0===a?void 0:a.value,selected:JSON.stringify(i)})}}));alert(e.data.message)}}),q=_.isLoading,K=_.mutate;return(0,h.jsxs)("div",{style:{flex:"1",display:"flex",justifyContent:"center",alignItems:"center",background:"#F1F1F1"},children:[(P||q||D)&&(0,h.jsx)(x.g,{}),(0,h.jsxs)("div",{style:{padding:"10px",width:"62%",border:"1px sold black",height:"500px",boxShadow:"1px 1px 2px 2px black",display:"flex",flexDirection:"column"},children:[(0,h.jsxs)("div",{style:{height:"auto"},children:[B?(0,h.jsx)(a.Z,{loading:B}):(0,h.jsx)("div",{style:{width:"100%",marginBottom:"8px"},children:(0,h.jsx)(c.lq,{label:{title:"RCP No.  : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},selectRef:k,select:{style:{flex:1,height:"22px"},defaultValue:"Non-VAT",onChange:function(e){return(m=m||(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===t.currentTarget.selectedIndex&&(w.current.resetTable(),k.current&&(k.current.value=""),C.current&&(C.current.value=""),j.current&&(j.current.value=""),S.current&&(S.current.value=""),Z.current&&(Z.current.value="")),F({RCPNo:t.target.value});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},containerStyle:{width:"300px",marginBottom:"12px"},datasource:null===z||void 0===z?void 0:z.data.rcpn,values:"RCPNo",display:"RCPNo"})}),(0,h.jsx)(c.oi,{containerStyle:{width:"50%",marginBottom:"8px",marginLeft:"50px"},label:{title:"PN No. :",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:!0,type:"text",style:{width:"calc(100% - 100px)"}},inputRef:C}),(0,h.jsx)(c.oi,{containerStyle:{width:"50%",marginBottom:"8px",marginLeft:"50px"},label:{title:"Client :",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:!0,type:"text",style:{width:"calc(100% - 100px)"}},inputRef:j}),(0,h.jsx)(c.oi,{containerStyle:{width:"50%",marginBottom:"8px",marginLeft:"50px"},label:{title:"Reason :",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:!0,type:"text",style:{width:"calc(100% - 100px)"}},inputRef:S})]}),(0,h.jsx)(s.O0,{isTableSelectable:!1,ref:w,columns:v,rows:[],containerStyle:{flex:1},getSelectedItem:function(e){}}),(0,h.jsxs)("div",{style:{height:"35px",display:"flex",justifyContent:"flex-end",alignItems:"center",columnGap:"5px"},children:[(0,h.jsx)(c.oi,{label:{title:"Authentication Code:",style:{fontSize:"12px",fontWeight:"bold",width:"140px"}},input:{type:"text",style:{width:"300px"},onKeyDown:function(e){var t;"Enter"!==e.key&&"NumEnter"!==e.key||K({RCPNo:null===(t=k.current)||void 0===t?void 0:t.value,code:e.currentTarget.value})}},inputRef:Z}),(0,h.jsx)(d.Z,{ref:N,variant:"contained",color:"info",style:{height:"25px",fontSize:"12px"},onClick:function(e){var t,n;K({RCPNo:null===(t=k.current)||void 0===t?void 0:t.value,code:null===(n=Z.current)||void 0===n?void 0:n.value})},children:"Confirm"})]})]})]})}},29823:function(e,t,n){var r=n(64836);t.Z=void 0;var o=r(n(45649)),a=n(80184),i=(0,o.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=i},5403:function(e,t,n){var r=n(64836);t.Z=void 0;var o=r(n(45649)),a=n(80184),i=(0,o.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=i}}]);
//# sourceMappingURL=3749.6dd5d49e.chunk.js.map