"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[3911],{83911:function(e,s,t){t.r(s),t.d(s,{default:function(){return w}});var n,r=t(1413),a=t(29439),o=t(74165),i=t(15861),c=t(72791),d=t(57689),l=t(3380),u=t(91933),p=t(79018),m=t(21830),x=t.n(m),f=t(80184);function h(e,s,t){return(n=n||(0,i.Z)((0,o.Z)().mark((function e(s,t,n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.post("/login",{username:t,password:n},{withCredentials:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){var e,s,t=(0,d.s0)(),n=(0,c.useState)({username:!1,password:!1,success:!1,message:""}),m=(0,a.Z)(n,2),w=m[0],y=m[1],v=(0,c.useContext)(l.V),b=v.setUser,F=v.myAxios,k=(0,u.useMutation)({mutationKey:"login",mutationFn:function(s){return(e=e||(0,i.Z)((0,o.Z)().mark((function e(s){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.D)(1200).then((0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(F,s.username,s.password);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){return e.data.username?y({username:!0,password:!1,success:!1,message:e.data.message}):e.data.password?y({username:!1,password:!0,success:!1,message:e.data.message}):(y({username:!1,password:!1,success:!0,message:e.data.message}),void x().fire({position:"center",icon:"success",title:e.data.message,showConfirmButton:!1,timer:800}).then((function(){var s,n,a,o,i,c;b(e.data.user),F.post("/get-user-details",(0,r.Z)({department:null===(s=e.data.user)||void 0===s?void 0:s.department,userAccess:null===(n=e.data.user)||void 0===n?void 0:n.userAccess,is_admin:null===(a=e.data.user)||void 0===a?void 0:a.is_master_admin,ACCESS_TOKEN:null===(o=e.data.user)||void 0===o?void 0:o.accessToken,REFRESH_TOKEN:null===(i=e.data.user)||void 0===i?void 0:i.refreshToken},null===(c=e.data)||void 0===c?void 0:c.cokie)).then((function(e){console.log(e),window.location.href="myreport://run"})),e.data.user.is_master_admin?t("/master-admin-dashboard"):t("/dashboard")})))}}),j=k.mutate,N=k.isLoading,S=(0,c.useState)(!1),D=(0,a.Z)(S,2),B=D[0],Z=D[1];return(0,f.jsxs)("form",{className:"main",onSubmit:function(e){return(s=s||(0,i.Z)((0,o.Z)().mark((function e(s){var t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.preventDefault(),t=new FormData(s.currentTarget),j({username:t.get("username"),password:t.get("password")});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},children:[(0,f.jsxs)("div",{style:{width:"400px",height:"auto",display:"flex",flexDirection:"column",rowGap:"15px",alignItems:"center"},children:[(0,f.jsx)("img",{alt:"Upward Insurance",src:"/logo.png",style:{width:"120px",background:"white"}}),(0,f.jsx)("h2",{style:{fontSize:"20px",fontWeight:"400",textAlign:"center",color:"rgb(14, 13, 13)"},className:"text-color",children:"LOGIN TO UPWARD INSURANCE"}),(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column",rowGap:"15px"},children:[(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[(0,f.jsx)("label",{style:{fontSize:"12px",marginBottom:"10px",color:"#535050"},htmlFor:"username",children:"USERNAME"}),(0,f.jsx)("input",{className:"text-field",style:{borderRadius:"5px",border:"none",height:"25px",width:"280px",background:"#FFFBFB",padding:"0px 5px",outline:w.username?"1px solid red":""},name:"username",id:"username",required:!0,onFocus:function(){y({username:!1,password:!1,success:!1,message:""})}})]}),w.username&&(0,f.jsx)("p",{className:"text-field-error",children:w.message.toLocaleLowerCase()})]}),(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,f.jsx)("label",{style:{fontSize:"12px",marginBottom:"10px",color:"#535050"},htmlFor:"password",children:"PASSWORD"}),(0,f.jsx)("input",{className:"text-field",style:{borderRadius:"5px",border:"none",height:"25px",width:"280px",background:"#FFFBFB",padding:"0px 5px",outline:w.password?"1px solid red":""},type:B?"text":"password",id:"password",name:"password",required:!0,onFocus:function(){y({username:!1,password:!1,success:!1,message:""})}})]}),w.password&&(0,f.jsx)("p",{className:"text-field-error",children:w.message.toLocaleLowerCase()})]}),(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"row",columnGap:"5px",alignItems:"center"},children:[(0,f.jsx)("input",{checked:B,id:"show-password",className:"text-field",style:{border:"none",background:"#FFFBFB"},type:"checkbox",onChange:function(e){Z(e.target.checked)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),console.log("qwe"),Z((function(e){return!e})))}}),(0,f.jsx)("label",{style:{fontSize:"10px",color:"#1f1e1e",padding:0,margin:0},htmlFor:"show-password",children:"SHOW PASSWORD"})]})]}),(0,f.jsx)("button",{onClick:function(e){g(e)},onKeyDown:function(e){"Enter"!==e.key&&"NumEnter"!==e.key||g(e)},className:"button-save ripple-button ",style:{border:"none",height:"25px",width:"290px",fontSize:"12px",marginTop:"15px",background:"#09BBB0",color:"#FFFBFB",position:"relative",overflow:"hidden",cursor:"pointer"},type:"submit",children:"LOGIN"})]}),N&&(0,f.jsx)("div",{className:"table-loading",children:(0,f.jsx)("div",{className:"loader-container",children:(0,f.jsx)("span",{className:"loader"})})})]})}function g(e){var s=e.currentTarget,t=s.getBoundingClientRect(),n=document.createElement("span"),r=Math.max(s.offsetWidth,s.offsetHeight),a=e.clientX-t.left-r/2,o=e.clientY-t.top-r/2;n.style.width=n.style.height="".concat(r,"px"),n.style.left="".concat(a,"px"),n.style.top="".concat(o,"px"),n.classList.add("ripple"),s.appendChild(n),setTimeout((function(){n.remove()}),600)}}}]);
//# sourceMappingURL=3911.6128be4b.chunk.js.map