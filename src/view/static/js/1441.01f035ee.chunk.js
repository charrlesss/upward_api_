"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[1441],{13784:function(e,t,n){n.d(t,{Z:function(){return s}});var o=n(1413),a=n(45987),i=n(71652),r=n(93862),l=n(93777),c=n(80184),d=["label","name","onChange","value","onKeyDown","inputRef","datePickerRef","fullWidth","textField","minWidth"];function s(e){var t=e.label,n=e.name,s=e.onChange,u=e.value,p=e.onKeyDown,f=e.inputRef,h=e.datePickerRef,m=e.fullWidth,x=e.textField,v=e.minWidth,y=void 0===v?"200px":v,g=(0,a.Z)(e,d);return(0,c.jsx)(i._,{dateAdapter:r.H,children:(0,c.jsx)(l.M,(0,o.Z)({floatingLabelStyle:{color:"black"},value:u,onChange:s,ref:h,slotProps:{textField:(0,o.Z)({size:"small",label:t,name:n,onKeyDown:p,inputRef:f,fullWidth:m},x)},InputLabelProps:{sx:{color:"black"}},sx:{minWidth:y,fieldset:{borderColor:"black"},".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}},g))})}},56580:function(e,t,n){n.d(t,{a:function(){return d}});var o=n(1413),a=n(45987),i=n(72791),r=n(30948),l=n(80184),c=["onChange"],d=i.forwardRef((function(e,t){var n=e.onChange,i=(0,a.Z)(e,c);return(0,l.jsx)(r.h3,(0,o.Z)((0,o.Z)({},i),{},{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:t.value}})},allowNegative:!1,thousandSeparator:!0,valueIsNumericString:!0}))}))},1441:function(e,t,n){n.r(t),n.d(t,{chartColumn:function(){return K},default:function(){return W},reducer:function(){return _}});var o=n(93433),a=n(74165),i=n(15861),r=n(29439),l=n(4942),c=n(1413),d=n(72791),s=n(27391),u=n(36151),p=n(68096),f=n(94925),h=n(77196),m=n(63466),x=n(13400),v=n(58406),y=n(23786),g=n(64554),D=n(13784),C=n(39709),N=n(42419),I=n(53329),b=n(29823),Z=n(21830),w=n.n(Z),S=n(3380),P=n(86753),T=n(91933),E=n(56580),F=n(93263),j=n(91421),L=n(79018),M=n(89767),k=n(64230),z=n(74865),A=n(80184),R={sub_refNo:"",refNo:"",datePetty:new Date,payee:"",explanation:"",transactionPurpose:"",transactionCode:"",transactionTitle:"",transactionShort:"",clientName:"",clientID:"",amount:"",invoice:"",option:"non-vat",search:"",pettyCashMode:""},_=function(e,t){return"UPDATE_FIELD"===t.type?(0,c.Z)((0,c.Z)({},e),{},(0,l.Z)({},t.field,t.value)):e},U=[{field:"purpose",headerName:"Purpose",flex:1,minWidth:400},{field:"amount",headerName:"Amount",minWidth:170},{field:"usage",headerName:"Usage",flex:1,minWidth:300},{field:"accountID",headerName:"Account ID",flex:1,minWidth:300},{field:"sub_account",headerName:"Sub Account",minWidth:80},{field:"clientID",headerName:"ID No",minWidth:100},{field:"clientName",headerName:"Name",flex:1,minWidth:300},{field:"accountCode",headerName:"Accoount Code",minWidth:200},{field:"accountShort",headerName:"Account Short",flex:1,minWidth:200},{field:"vatType",headerName:"Vat Type",flex:1,minWidth:100},{field:"invoice",headerName:"Invoice",flex:1,minWidth:100},{field:"TempID",headerName:"TempId",hide:!0}],K=[{field:"Acct_Code",headerName:"Code",flex:1},{field:"Acct_Title",headerName:"Title",flex:1},{field:"Short",headerName:"Short Name",flex:1}];function W(){var e,t,n,l,Z=(0,d.useRef)(null),W=(0,d.useContext)(S.V),q=W.myAxios,O=W.user,V=(0,d.useReducer)(_,R),H=(0,r.Z)(V,2),Y=H[0],Q=H[1],G=(0,d.useState)({edit:!1,updateId:""}),X=(0,r.Z)(G,2),J=X[0],$=X[1],ee=(0,d.useState)([]),te=(0,r.Z)(ee,2),ne=te[0],oe=te[1],ae=(0,d.useRef)(null),ie=(0,d.useRef)(null),re=(0,d.useRef)(null),le=(0,d.useRef)(null),ce=(0,d.useRef)(null),de=(0,d.useRef)(null),se=(0,d.useRef)(null),ue=(0,d.useRef)(null),pe=new T.QueryClient,fe=""===Y.pettyCashMode,he=(0,d.useRef)(null),me=(0,d.useRef)(null),xe=(0,d.useRef)(null),ve=(0,d.useRef)(null),ye=(0,d.useRef)(null),ge=(0,d.useRef)(null),De=(0,d.useRef)(null),Ce=(0,T.useQuery)({queryKey:"petty-cash-id-generator",queryFn:function(){return(e=e||(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/task/accounting/get-petty-cash-id",{headers:{Authorization:"Bearer ".concat(null===O||void 0===O?void 0:O.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},refetchOnWindowFocus:!1,onSuccess:function(e){var t=e;Q({type:"UPDATE_FIELD",field:"refNo",value:t.data.pettyCashId[0].petty_cash_id}),Q({type:"UPDATE_FIELD",field:"sub_refNo",value:t.data.pettyCashId[0].petty_cash_id})}}),Ne=Ce.isLoading,Ie=Ce.refetch,be=(0,T.useMutation)({mutationKey:"add-update-petty-cash",mutationFn:function(e){return(t=t||(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.post("/task/accounting/add-petty-cash",t,{headers:{Authorization:"Bearer ".concat(null===O||void 0===O?void 0:O.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;return t.data.success?(R.pettyCashMode="",B(Q,R),Ie(),oe([]),pe.invalidateQueries("petty-cash-search"),w().fire({position:"center",icon:"success",title:t.data.message,timer:1500})):w().fire({position:"center",icon:"warning",title:t.data.message,timer:1500})}}),Ze=be.isLoading,we=be.mutate,Se=(0,T.useMutation)({mutationKey:"load-selected-petty-cash",mutationFn:function(e){return(n=n||(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.post("/task/accounting/load-selected-petty-cash",t,{headers:{Authorization:"Bearer ".concat(null===O||void 0===O?void 0:O.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e.data.loadSelectedPettyCash;B(Q,(0,c.Z)((0,c.Z)({},Y),{sub_refNo:t[0].PC_No,refNo:t[0].PC_No,datePetty:t[0].PC_Date,payee:t[0].Payee,explanation:t[0].Explanation,pettyCashMode:"edit"})),oe(t)}}),Pe=Se.isLoading,Te=Se.mutate,Ee=(0,F.Z)({link:{url:"/reference/get-chart-accounts",queryUrlName:"chartAccountSearch"},columns:K,queryKey:"get-chart-accounts",uniqueId:"Acct_Code",responseDataKey:"chartAccount",onSelected:function(e){Q({type:"UPDATE_FIELD",field:"transactionCode",value:e[0].Acct_Code}),Q({type:"UPDATE_FIELD",field:"transactionTitle",value:e[0].Acct_Title}),Q({type:"UPDATE_FIELD",field:"transactionShort",value:e[0].Short}),Me(),(0,L.D)(200).then((function(){var e;null===(e=ye.current)||void 0===e||e.focus()}))},searchRef:me}),Fe=Ee.ModalComponent,je=Ee.openModal,Le=Ee.isLoading,Me=Ee.closeModal,ke=(0,F.Z)({link:{url:"/task/accounting/search-pdc-policy-id",queryUrlName:"searchPdcPolicyIds"},columns:[{field:"Type",headerName:"Type",width:130},{field:"IDNo",headerName:"ID No.",width:200},{field:"Name",headerName:"Name",flex:1},{field:"ID",headerName:"ID",flex:1,hide:!0}],queryKey:"collection-polidy-ids",uniqueId:"IDNo",responseDataKey:"clientsId",onSelected:function(e,t){Q({type:"UPDATE_FIELD",field:"clientName",value:e[0].Name}),Q({type:"UPDATE_FIELD",field:"clientID",value:e[0].IDNo}),_e(),(0,L.D)(200).then((function(){var e;null===(e=ge.current)||void 0===e||e.focus()}))},searchRef:ue}),ze=ke.ModalComponent,Ae=ke.openModal,Re=ke.isLoading,_e=ke.closeModal,Ue=(0,F.Z)({link:{url:"/task/accounting/search-petty-cash",queryUrlName:"searchPettyCash"},columns:[{field:"PC_Date",headerName:"Type",width:130},{field:"PC_No",headerName:"ID No.",width:200},{field:"Payee",headerName:"Name",flex:1},{field:"Explanation",headerName:"ID",flex:1},{field:"Explanation",headerName:"ID",flex:1,hide:!0}],queryKey:"petty-cash-search",uniqueId:"PC_No",responseDataKey:"searchPettyCash",onSelected:function(e){Te({PC_No:e[0].PC_No}),Q({type:"UPDATE_FIELD",field:"pettyCashMode",value:"edit"}),qe()},onCloseFunction:function(e){Q({type:"UPDATE_FIELD",field:"search",value:e})},searchRef:ue}),Ke=Ue.ModalComponent,We=Ue.openModal,Be=Ue.isLoading,qe=Ue.closeModal,Oe=function(e){var t=e.target,n=t.name,o=t.value;Q({type:"UPDATE_FIELD",field:n,value:o})};function Ve(){return""===Y.transactionCode?w().fire({position:"center",icon:"warning",title:"Please provide transaction",timer:1500}).then((function(){(0,L.D)(300).then((function(){var e;null===(e=de.current)||void 0===e||e.focus()}))})):""===Y.clientID?w().fire({position:"center",icon:"warning",title:"Please provide usage",timer:1500}).then((function(){(0,L.D)(300).then((function(){Ae()}))})):""===Y.amount||parseFloat(Y.amount.replace(/,/g,""))<1?w().fire({position:"center",icon:"warning",title:"Please provide proper amount",timer:1500}).then((function(){(0,L.D)(300).then((function(){var e;null===(e=se.current)||void 0===e||e.focus()}))})):(oe((function(e){var t="";t=J.edit?J.updateId:r(e.length>0?e[e.length-1].TempID:"000");var n=[];if(e=e.filter((function(e){return e.TempID!==t})),n.push({purpose:Y.transactionPurpose,amount:parseFloat(Y.amount).toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),usage:"".concat(Y.clientName," > ").concat(Y.clientID," > HO"),accountID:"".concat(Y.transactionShort," > ").concat(Y.transactionCode),sub_account:"HO",clientID:Y.clientID,clientName:Y.clientName,accountCode:Y.transactionCode,accountShort:Y.transactionShort,vatType:Y.option.toUpperCase(),invoice:Y.invoice,TempID:t}),"Input Tax"!==Y.transactionPurpose&&"vat"===Y.option){var a=r(e[e.length-1].TempID),i=.12*(parseFloat(Y.amount.replace(/,/g,""))/1.12);n.push({purpose:Y.transactionPurpose,amount:parseFloat(i.toFixed(2)).toLocaleString("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),usage:"".concat(Y.clientName," > ").concat(Y.clientID," > HO"),accountID:"".concat(Y.transactionShort," > ").concat(Y.transactionCode),sub_account:"HO",clientID:Y.clientID,clientName:Y.clientName,accountCode:"1.06.02",accountShort:"Input Tax",vatType:Y.option.toUpperCase(),invoice:Y.invoice,TempID:a})}function r(e){return(parseInt(e.match(/\d+/)[0])+1).toString().padStart(3,"0")}return e=[].concat((0,o.Z)(e),n)})),R.datePetty=Y.datePetty,R.payee=Y.payee,R.explanation=Y.explanation,R.pettyCashMode=Y.pettyCashMode,R.sub_refNo=Y.sub_refNo,R.refNo=Y.refNo,B(Q,R),void $({edit:!1,updateId:""}))}return(0,A.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",flex:1},children:[(0,A.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"5px"},children:[Be?(0,A.jsx)(C.Z,{loading:Be}):(0,A.jsx)(s.Z,{label:"Search",size:"small",name:"search",value:Y.search,onChange:Oe,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),We(e.target.value)},InputProps:{style:{height:"27px",fontSize:"14px"}},sx:{width:"300px",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),""===Y.pettyCashMode&&(0,A.jsx)(u.Z,{sx:{height:"30px",fontSize:"11px"},variant:"contained",startIcon:(0,A.jsx)(N.Z,{sx:{width:15,height:15}}),id:"entry-header-save-button",onClick:function(){Q({type:"UPDATE_FIELD",field:"pettyCashMode",value:"add"})},children:"New"}),(0,A.jsx)(C.Z,{sx:{height:"30px",fontSize:"11px"},id:"save-entry-header",color:"primary",variant:"contained",type:"submit",onClick:function(){return Y.payee.length>=200?w().fire({position:"center",icon:"warning",title:"Payee is too long!",timer:1500}):Y.invoice.length>=200?w().fire({position:"center",icon:"warning",title:"Invoice is too long!",timer:1500}):Y.amount.length>=200?w().fire({position:"center",icon:"warning",title:"Amount is too long!",timer:1500}):Y.clientID.length>=200?w().fire({position:"center",icon:"warning",title:"Usage is too long!",timer:1500}):""===Y.payee?w().fire({position:"center",icon:"warning",title:"Please provide payee!",timer:1500}).then((function(e){(0,L.D)(300).then((function(){var e;null===(e=re.current)||void 0===e||e.focus()}))})):""===Y.explanation?w().fire({position:"center",icon:"warning",title:"Please provide explanation!",timer:1500}).then((function(e){(0,L.D)(300).then((function(){var e;null===(e=le.current)||void 0===e||e.focus()}))})):ne.length<=0?w().fire({position:"center",icon:"warning",title:"Please provide transaction entry!",timer:1500}):void("edit"===Y.pettyCashMode?(0,k.s)({isUpdate:!0,cb:function(e){we({refNo:Y.refNo,datePetty:Y.datePetty,payee:Y.payee,explanation:Y.explanation,hasSelected:"edit"===Y.pettyCashMode,pettyCash:ne,userCodeConfirmation:e})}}):(0,k.L)({isConfirm:function(){we({refNo:Y.refNo,datePetty:Y.datePetty,payee:Y.payee,explanation:Y.explanation,hasSelected:"edit"===Y.pettyCashMode,pettyCash:ne})}}))},disabled:""===Y.pettyCashMode,startIcon:(0,A.jsx)(I.Z,{sx:{width:15,height:15}}),loading:Ze,children:"edit"===Y.pettyCashMode?"Update":"Save"}),""!==Y.pettyCashMode&&(0,A.jsx)(u.Z,{sx:{height:"30px",fontSize:"11px"},variant:"contained",startIcon:(0,A.jsx)(b.Z,{sx:{width:15,height:15}}),color:"error",onClick:function(){w().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&(R.pettyCashMode="",B(Q,R),Ie(),oe([]))}))},children:"Cancel"})]}),(0,A.jsxs)("fieldset",{style:{border:"1px solid #cbd5e1",borderRadius:"5px",position:"relative",width:"100%",height:"auto",display:"flex",marginTop:"10px",gap:"10px",padding:"15px"},children:[Ne?(0,A.jsx)(C.Z,{loading:Ne}):(0,A.jsxs)(p.Z,{sx:{width:"160px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},variant:"outlined",size:"small",disabled:fe,children:[(0,A.jsx)(f.Z,{htmlFor:"return-check-id-field",children:"Ref. No."}),(0,A.jsx)(h.Z,{sx:{height:"27px",fontSize:"14px"},disabled:fe,label:"Ref. No.",name:"refNo",value:Y.refNo,onChange:Oe,onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),null===(t=xe.current)||void 0===t||t.focus())},readOnly:"UCSMI"!==(null===O||void 0===O?void 0:O.department),id:"return-check-id-field",endAdornment:(0,A.jsx)(m.Z,{position:"end",children:(0,A.jsx)(x.Z,{ref:ie,disabled:fe,"aria-label":"search-client",color:"secondary",edge:"end",onClick:function(){Ie()},children:(0,A.jsx)(P.Z,{})})})})]}),(0,A.jsx)(D.Z,{fullWidth:!1,disabled:fe,label:"Date",onChange:function(e){Q({type:"UPDATE_FIELD",field:"datePetty",value:e})},value:new Date(Y.datePetty),onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(null===(t=re.current)||void 0===t||t.focus())},inputRef:xe,textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}},datePickerRef:ae}),(0,A.jsx)(s.Z,{disabled:fe,label:"Payee",size:"small",name:"payee",value:Y.payee,onChange:Oe,onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),null===(t=le.current)||void 0===t||t.focus())},InputProps:{style:{height:"27px",fontSize:"14px",width:"280px"}},sx:{".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},inputRef:re}),(0,A.jsx)(s.Z,{disabled:fe,label:"Explanation",size:"small",name:"explanation",value:Y.explanation,onChange:Oe,onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),null===(t=ve.current)||void 0===t||t.focus())},InputProps:{style:{height:"27px",fontSize:"14px"}},sx:{flex:1,".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},inputRef:le})]}),(0,A.jsxs)("fieldset",{style:{border:"1px solid #cbd5e1",borderRadius:"5px",position:"relative",width:"100%",height:"auto",marginTop:"10px",padding:"15px"},children:[(0,A.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[Le?(0,A.jsx)(C.Z,{loading:Le}):(0,A.jsxs)(p.Z,{variant:"outlined",size:"small",disabled:fe,sx:{width:"350px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,A.jsx)(f.Z,{htmlFor:"chart-account-id",children:"Account"}),(0,A.jsx)(h.Z,{inputRef:ve,sx:{height:"27px",fontSize:"14px"},disabled:fe,fullWidth:!0,label:"Account",name:"transactionTitle",value:Y.transactionTitle,onChange:Oe,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),je(Y.transactionTitle)},id:"chart-account-id",endAdornment:(0,A.jsx)(m.Z,{position:"end",children:(0,A.jsx)(x.Z,{disabled:fe,"aria-label":"search-client",color:"secondary",edge:"end",onClick:function(){je(Y.transactionTitle)},children:(0,A.jsx)(z.Z,{})})})})]}),Re?(0,A.jsx)(C.Z,{loading:Re}):(0,A.jsxs)(p.Z,{sx:{minWidth:"400px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},variant:"outlined",size:"small",disabled:fe,children:[(0,A.jsx)(f.Z,{htmlFor:"client-list",children:"Usage"}),(0,A.jsx)(h.Z,{sx:{height:"27px",fontSize:"14px"},inputRef:ye,disabled:fe,label:"Usage",name:"clientName",value:Y.clientName,onChange:Oe,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),Ae(Y.clientName)},id:"client-list",endAdornment:(0,A.jsx)(m.Z,{position:"end",children:(0,A.jsx)(x.Z,{ref:ie,disabled:fe,color:"secondary",edge:"end",onClick:function(){Ae(Y.clientName)},children:(0,A.jsx)(j.Z,{})})})})]}),(0,A.jsxs)(v.Z,{labelId:"label-selection-reason",value:Y.option,name:"option",onChange:Oe,disabled:fe,autoWidth:!0,sx:{height:"27px",fontSize:"14px",width:"200px"},inputRef:ge,children:[(0,A.jsx)(y.Z,{onKeyDown:function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),(0,L.D)(200).then((function(){var e;null===(e=se.current)||void 0===e||e.focus()})))},value:"vat",children:"VAT"}),(0,A.jsx)(y.Z,{onKeyDown:function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),(0,L.D)(200).then((function(){var e;null===(e=se.current)||void 0===e||e.focus()})))},value:"non-vat",children:"NON-VAT"})]})]}),(0,A.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[(0,A.jsx)(s.Z,{sx:{".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},disabled:fe,name:"amount",label:"Amount",size:"small",value:Y.amount,onChange:Oe,placeholder:"0.00",InputProps:{inputComponent:E.a,inputRef:se,style:{height:"27px",fontSize:"14px",width:"200px"}},onBlur:function(){Q({type:"UPDATE_FIELD",field:"amount",value:parseFloat(Y.amount.replace(/,/g,"")).toFixed(2)})},onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),null===(t=De.current)||void 0===t||t.focus())}}),(0,A.jsx)(s.Z,{sx:{".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},InputProps:{inputRef:De,style:{height:"27px",fontSize:"14px",width:"300px"}},disabled:fe,label:"Invoice",size:"small",name:"invoice",value:Y.invoice,onChange:Oe,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),Ve()},inputRef:ce}),(0,A.jsx)(u.Z,{disabled:fe,color:"success",variant:"contained",style:{gridArea:"button",height:"27px",fontSize:"14px"},startIcon:(0,A.jsx)(N.Z,{}),onClick:function(){Ve()},children:J.edit?"Update Transaction":"add Transaction"})]})]}),(0,A.jsx)("div",{ref:Z,style:{marginTop:"10px",width:"100%",position:"relative",flex:1},children:(0,A.jsx)(g.Z,{style:{height:"".concat(null===(l=Z.current)||void 0===l?void 0:l.getBoundingClientRect().height,"px"),width:"100%",overflowX:"scroll",position:"absolute"},children:(0,A.jsx)(M.Z,{ref:he,isLoading:Ze||Pe,columns:U,rows:ne,table_id:"TempID",isSingleSelection:!0,isRowFreeze:!1,dataSelection:function(e,t,n){var o=t.filter((function(t){return t.TempID===e[0]}))[0];if(void 0===o||o.length<=0)return $({edit:!1,updateId:""}),void B(Q,(0,c.Z)((0,c.Z)({},Y),{transactionPurpose:"",transactionCode:"",transactionTitle:"",transactionShort:"",clientName:"",clientID:"",amount:"",invoice:"",option:"non-vat"}));"Delete"!==n&&"Backspace"!==n?(B(Q,(0,c.Z)((0,c.Z)({},Y),{transactionPurpose:o.purpose,transactionCode:o.accountCode,transactionTitle:o.purpose,transactionShort:o.DRShort,clientName:o.clientName,clientID:o.clientID,amount:o.amount,invoice:o.invoice,option:o.vatType.toLowerCase()})),$({edit:!0,updateId:o.TempID})):w().fire({title:"Are you sure?",text:"You won't to delete this Check No. ".concat(o.Check_No),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){var n;if(t.isConfirmed)return oe((function(t){return t.filter((function(t){return t.TempID!==e[0]}))}));null===(n=he.current)||void 0===n||n.removeSelection()}))}})})}),ze,Ke,Fe]})}function B(e,t){Object.entries(t).forEach((function(t){var n=(0,r.Z)(t,2),o=n[0],a=n[1];e({type:"UPDATE_FIELD",field:o,value:a})}))}},91421:function(e,t,n){var o=n(64836);t.Z=void 0;var a=o(n(45649)),i=n(80184),r=(0,a.default)([(0,i.jsx)("circle",{cx:"10",cy:"8",r:"4"},"0"),(0,i.jsx)("path",{d:"M10.35 14.01C7.62 13.91 2 15.27 2 18v2h9.54c-2.47-2.76-1.23-5.89-1.19-5.99zm9.08 4.01c.36-.59.57-1.28.57-2.02 0-2.21-1.79-4-4-4s-4 1.79-4 4 1.79 4 4 4c.74 0 1.43-.22 2.02-.57L20.59 22 22 20.59l-2.57-2.57zM16 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},"1")],"PersonSearch");t.Z=r},86753:function(e,t,n){var o=n(64836);t.Z=void 0;var a=o(n(45649)),i=n(80184),r=(0,a.default)((0,i.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8zm-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91z"}),"RestartAlt");t.Z=r}}]);
//# sourceMappingURL=1441.01f035ee.chunk.js.map