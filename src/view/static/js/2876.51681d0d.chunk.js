"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[2876],{89425:function(e,t,n){n.r(t),n.d(t,{default:function(){return $},reducer:function(){return Q}});var r=n(93433),i=n(74165),o=n(15861),a=n(29439),l=n(4942),u=n(1413),c=n(72791),d=n(27391),s=n(36151),p=n(88447),f=n(64554),h=n(13400),v=n(20890),x=n(85523),m=n(94454),g=n(68096),y=n(94925),b=n(58406),w=n(23786),j=n(67442),C=n(39709),D=n(42419),N=n(29823),S=n(21830),I=n.n(S),T=n(3380),Z=n(91933),k=n(93263),A=n(79018),E=n(84669),R=n(71652),z=n(93862),F=n(93777),M=n(95643),L=n(16656),_=n(5519),B=n(64230),P=n(81582),K=n(54164),U=n(53329),V=n(93346),q=n(37209),W=n(42249),J=n(85545),O=n(84072),G=n(16386),H=n(80184),Y={totalDebit:"",totalCredit:"",totalBalance:"",jobAutoExp:!1,jobTransactionDate:new Date,jobType:"",search:""},Q=function(e,t){return"UPDATE_FIELD"===t.type?(0,u.Z)((0,u.Z)({},e),{},(0,l.Z)({},t.field,t.value)):e},X=[{field:"code",headerName:"Code",width:150},{field:"acctName",headerName:"Account Name",width:300},{field:"subAcctName",headerName:"Sub Account",width:170},{field:"ClientName",headerName:"Name",width:300},{field:"debit",headerName:"Debit",width:120,type:"number"},{field:"credit",headerName:"Credit",width:120,type:"number"},{field:"TC_Code",headerName:"TC",width:120},{field:"remarks",headerName:"Remarks",flex:1,width:300},{field:"vatType",headerName:"Vat Type",width:120},{field:"invoice",headerName:"Invoice",width:200},{field:"TempID",headerName:"TempId",hide:!0},{field:"IDNo",headerName:"I.D.",width:300,hide:!0},{field:"BranchCode",headerName:"BranchCode",width:300,hide:!0}];function $(){var e,t,n,l,u,S=(0,c.useState)(null),$=(0,a.Z)(S,2),ee=$[0],te=$[1],ne=(0,c.useState)(""),re=(0,a.Z)(ne,2),ie=re[0],oe=re[1],ae=(0,c.useRef)(null),le=(0,c.useRef)(null),ue=(0,c.useRef)(null),ce=(0,c.useRef)(null),de=(0,c.useRef)(null),se=(0,c.useRef)(null),pe=(0,c.useRef)(null),fe=(0,c.useRef)(null),he=(0,c.useRef)(null),ve=(0,c.useRef)(null),xe=(0,c.useRef)(null),me=(0,c.useRef)(null),ge=(0,c.useRef)(null),ye=(0,c.useRef)(null),be=(0,c.useRef)(""),we=(0,c.useRef)(""),je=(0,c.useRef)(""),Ce=(0,P.XT)(),De=(0,c.useContext)(T.V),Ne=De.myAxios,Se=De.user,Ie=(0,c.useReducer)(Q,Y),Te=(0,a.Z)(Ie,2),Ze=Te[0],ke=Te[1],Ae=(0,c.useState)(!1),Ee=(0,a.Z)(Ae,2),Re=Ee[0],ze=Ee[1],Fe=(0,c.useState)([]),Me=(0,a.Z)(Fe,2),Le=Me[0],_e=Me[1],Be=(0,Z.useQueryClient)(),Pe=(0,c.useRef)(null),Ke=(0,c.useRef)(null),Ue=(0,c.useRef)(null),Ve=(0,c.useRef)(null),qe=(0,c.useRef)(null),We="add"===ie,Je="update"===ie,Oe=""===ie,Ge=(0,Z.useQuery)({queryKey:"general-journal-id-generator",queryFn:function(){return(e=e||(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.get("/task/accounting/general-journal/get-general-journal-id",{headers:{Authorization:"Bearer ".concat(null===Se||void 0===Se?void 0:Se.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},refetchOnWindowFocus:!1,onSuccess:function(e){var t,n=e;Je?ke({type:"UPDATE_FIELD",field:"refNo",value:null!==(t=Ze.sub_refNo)&&void 0!==t?t:""}):(0,A.D)(100).then((function(){ae.current&&(ae.current.value=n.data.generateGeneralJournalID[0].general_journal_id),le.current&&(le.current.value=n.data.generateGeneralJournalID[0].general_journal_id),ue.current&&(ue.current.value=(0,G.Z)(new Date,"yyyy-MM-dd")),ge.current&&(ge.current.value="Non-VAT")}))}}),He=Ge.isLoading,Ye=Ge.refetch,Qe=(0,Z.useMutation)({mutationKey:"add-journal-voucher",mutationFn:function(e){return(t=t||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/task/accounting/general-journal/add-general-journal",t,{headers:{Authorization:"Bearer ".concat(null===Se||void 0===Se?void 0:Se.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;return t.data.success?(Be.invalidateQueries("search-general-journal"),function(e,t){Object.entries(t).forEach((function(t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];e({type:"UPDATE_FIELD",field:r,value:i})}))}(ke,Y),Ye(),_e([]),oe(""),I().fire({position:"center",icon:"success",title:t.data.message,timer:1500})):I().fire({position:"center",icon:"warning",title:t.data.message,timer:1500})}}),Xe=Qe.mutate,$e=Qe.isLoading,et=(0,Z.useMutation)({mutationKey:"jobs",mutationFn:function(e){return(n=n||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/task/accounting/general-journal/jobs",t,{headers:{Authorization:"Bearer ".concat(null===Se||void 0===Se?void 0:Se.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;_e([]),_e(t.data.jobs),ze(!1),oe("")}}),tt=et.mutate,nt=et.isLoading,rt=(0,Z.useMutation)({mutationKey:"void-journal-voucher",mutationFn:function(e){return(l=l||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/task/accounting/general-journal/void-general-journal",t,{headers:{Authorization:"Bearer ".concat(null===Se||void 0===Se?void 0:Se.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;return t.data.success?(Be.invalidateQueries("search-general-journal"),Ye(),_e([]),oe(""),I().fire({position:"center",icon:"success",title:t.data.message,timer:1500})):I().fire({position:"center",icon:"warning",title:t.data.message,timer:1500})}}),it=rt.mutate,ot=rt.isLoading,at=(0,Z.useMutation)({mutationKey:"get-selected-search-general-journal",mutationFn:function(e){return(u=u||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.post("/task/accounting/general-journal/get-selected-search-general-journal",t,{headers:{Authorization:"Bearer ".concat(null===Se||void 0===Se?void 0:Se.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e.data.getSelectedSearchGeneralJournal,n=t[0],r=n.explanation,i=n.dateEntry,o=n.refNo;ae.current&&(ae.current.value=o),ue.current&&(ue.current.value=(0,G.Z)(new Date(i),"yyyy-MM-dd")),ce.current&&(ce.current.value=r),_e(t)}}),lt=at.mutate,ut=at.isLoading,ct=(0,k.Z)({link:{url:"/task/accounting/general-journal/search-general-journal",queryUrlName:"searchGeneralJournal"},columns:[{field:"Date_Entry",headerName:"Date",width:130},{field:"Source_No",headerName:"Ref No.",width:250},{field:"Explanation",headerName:"Explanation",flex:1}],queryKey:"search-general-journal",uniqueId:"Source_No",responseDataKey:"searchGeneralJournal",onSelected:function(e,t){lt({Source_No:e[0].Source_No}),oe("update"),_e([]),Ve.current.resetTableSelected(),ft(),kt()},onCloseFunction:function(e){ke({type:"UPDATE_FIELD",field:"search",value:e})},searchRef:Ke}),dt=ct.ModalComponent,st=ct.openModal,pt=ct.isLoading,ft=ct.closeModal,ht=(0,k.Z)({link:{url:"/task/accounting/general-journal/get-chart-account",queryUrlName:"chartAccountSearch"},columns:[{field:"Acct_Code",headerName:"Account Code",width:130},{field:"Acct_Title",headerName:"Account Title.",width:250},{field:"Short",headerName:"Short",flex:1}],queryKey:"get-chart-account",uniqueId:"Acct_Code",responseDataKey:"getChartOfAccount",onSelected:function(e,t){de.current&&(de.current.value=e[0].Acct_Code),se.current&&(se.current.value=e[0].Acct_Title),gt(),setTimeout((function(){var e;null===(e=fe.current)||void 0===e||e.focus()}),250)},searchRef:Ke}),vt=ht.ModalComponent,xt=ht.openModal,mt=ht.isLoading,gt=ht.closeModal,yt=(0,k.Z)({link:{url:"/task/accounting/search-pdc-policy-id",queryUrlName:"searchPdcPolicyIds"},columns:[{field:"Type",headerName:"Type",width:130},{field:"IDNo",headerName:"ID No.",width:200},{field:"Name",headerName:"Name",flex:1},{field:"ID",headerName:"ID",hide:!0}],queryKey:"get-policyId-ClientId-RefId",uniqueId:"IDNo",responseDataKey:"clientsId",onSelected:function(e){var t,n;fe.current&&(fe.current.value=null!==(t=e[0].Name)&&void 0!==t?t:"");pe.current&&(pe.current.value=null!==(n=e[0].ShortName)&&void 0!==n?n:"");be.current=e[0].IDNo,we.current=e[0].sub_account,Ct(),setTimeout((function(){var e;null===(e=he.current)||void 0===e||e.focus()}),200)},searchRef:Ue}),bt=yt.ModalComponent,wt=yt.openModal,jt=yt.isLoading,Ct=yt.closeModal,Dt=(0,k.Z)({link:{url:"/task/accounting/general-journal/get-transaction-account",queryUrlName:"transactionCodeSearch"},columns:[{field:"Code",headerName:"Code",width:130},{field:"Description",headerName:"Description",flex:1}],queryKey:"get-transaction-account",uniqueId:"Code",responseDataKey:"getTransactionAccount",onSelected:function(e){xe.current&&(xe.current.value=e[0].Code),je.current=e[0].Description,Tt(),setTimeout((function(){var e;null===(e=me.current)||void 0===e||e.focus()}),200)},searchRef:Ue}),Nt=Dt.ModalComponent,St=Dt.openModal,It=Dt.isLoading,Tt=Dt.closeModal,Zt=function(e){var t=e.target,n=t.name,r=t.value;ke({type:"UPDATE_FIELD",field:n,value:r})};function kt(){de.current&&(de.current.value=""),se.current&&(se.current.value=""),fe.current&&(fe.current.value=""),pe.current&&(pe.current.value=""),xe.current&&(xe.current.value=""),he.current&&(he.current.value=""),ve.current&&(ve.current.value=""),me.current&&(me.current.value=""),ge.current&&(ge.current.value=""),ye.current&&(ye.current.value=""),je.current="",be.current="",we.current=""}function At(){var e,t,n,i,o,a,l;if(de.current&&""===de.current.value)return I().fire({position:"center",icon:"warning",title:"Code is required!",timer:1500}).then((function(){return xt(Ze.code)}));if(fe.current&&""===fe.current.value)return I().fire({position:"center",icon:"warning",title:"ID is required!",timer:1500}).then((function(){var e;return wt(null===(e=fe.current)||void 0===e?void 0:e.value)}));if(he.current&&isNaN(parseFloat(null===(e=he.current)||void 0===e?void 0:e.value.replace(/,/g,""))))return I().fire({position:"center",icon:"warning",title:"Debit is required!",timer:1500});if(ve.current&&isNaN(parseFloat(null===(t=ve.current)||void 0===t?void 0:t.value.replace(/,/g,""))))return I().fire({position:"center",icon:"warning",title:"Credit is required!",timer:1500});if(he.current&&ve.current&&0===parseFloat(null===(n=ve.current)||void 0===n?void 0:n.value.replace(/,/g,""))&&0===parseFloat(null===(i=he.current)||void 0===i?void 0:i.value.replace(/,/g,"")))return I().fire({position:"center",icon:"warning",title:"Credit and Debit must be different!",timer:1500});if(xe.current&&""===(null===(o=xe.current)||void 0===o?void 0:o.value))return I().fire({position:"center",icon:"warning",title:"TC is required!",timer:1500}).then((function(){return St(Ze.TC_Code)}));if(de.current&&(null===(a=de.current)||void 0===a?void 0:a.value.length)>=200)return I().fire({position:"center",icon:"warning",title:"Code is too long!",timer:1500});if(fe.current&&(null===(l=fe.current)||void 0===l?void 0:l.value.length)>=200)return I().fire({position:"center",icon:"warning",title:"Client name is too long!",timer:1500});if(xe.current&&xe.current.value.length>=200)return I().fire({position:"center",icon:"warning",title:"TC is too long!",timer:1500});if(ye.current&&ye.current.value.length>=200)return I().fire({position:"center",icon:"warning",title:"Invoice is too long!",timer:1500});function u(e){var t=e.length?e[e.length-1].TempID:"000";return(parseInt(t.toString().match(/\d+/)[0])+1).toString().padStart(3,"0")}var c=null!==ee&&ee>=0;I().fire({title:c?"Are you sure you want to update row?":"Are you sure you want to add new row?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:c?"Yes, update it!":"Yes Add it"}).then((function(e){if(e.isConfirmed&&de.current&&se.current&&pe.current&&fe.current&&he.current&&ve.current&&xe.current&&me.current&&ge.current&&ye.current){var t,n,i,o,a,l,d={code:de.current.value,acctName:se.current.value,subAcctName:pe.current.value,ClientName:fe.current.value,debit:he.current.value,credit:ve.current.value,TC_Code:xe.current.value,remarks:me.current.value,vatType:ge.current.value,invoice:ye.current.value,TempID:u(Le),IDNo:be.current,BranchCode:we.current};if(c)"VAT"===(null===(i=ge.current)||void 0===i?void 0:i.value)&&"1.06.02"!==(null===(o=de.current)||void 0===o?void 0:o.value)?_e((function(e){return e=e.filter((function(e,t){return t!==ee}))})):_e((function(e){return e=e.map((function(e,t){return t===ee&&(e=d),e}))}));else"VAT"!==(null===(a=ge.current)||void 0===a?void 0:a.value)&&"1.06.02"!==(null===(l=de.current)||void 0===l?void 0:l.value)&&_e((function(e){return[].concat((0,r.Z)(e),[d])}));var s=parseFloat(he.current.value.replace(/,/g,"")),p=parseFloat(ve.current.value.replace(/,/g,"")),f={code:de.current.value,acctName:se.current.value,subAcctName:pe.current.value,ClientName:fe.current.value,debit:he.current.value,credit:ve.current.value,TC_Code:xe.current.value,remarks:me.current.value,vatType:ge.current.value,invoice:ye.current.value,TempID:u(Le),IDNo:be.current,BranchCode:we.current};if("VAT"===(null===(t=ge.current)||void 0===t?void 0:t.value)&&"1.06.02"!==(null===(n=de.current)||void 0===n?void 0:n.value)){var h=function(e,t,n,r){var i=[],o=0,a=0;return 0!==r?(o=r/1.12,e.credit=o.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})):(o=n/1.12,e.debit=o.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),i.push(e),a=.12*o,t.code="1.06.02",t.acctName="Input Tax",0!==parseFloat(e.credit.replace(/,/g,""))?t.credit=a.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):t.debit=a.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),i.push(t),i}(d,f,s,p);_e((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(h))}))}kt(),Ve.current.resetTableSelected()}}))}var Et=window.innerWidth-50,Rt=window.innerHeight-200;return(0,c.useEffect)((function(){var e=Le.reduce((function(e,t){return e+parseFloat(t.debit.replace(/,/g,""))}),0),t=Le.reduce((function(e,t){return e+parseFloat(t.credit.replace(/,/g,""))}),0);ke({type:"UPDATE_FIELD",field:"totalDebit",value:e.toFixed(2)}),ke({type:"UPDATE_FIELD",field:"totalCredit",value:t.toFixed(2)}),ke({type:"UPDATE_FIELD",field:"totalBalance",value:(e-t).toFixed(2)})}),[Le]),(0,H.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",flex:1,padding:"10px"},children:[(0,H.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"5px"},children:[(0,H.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"5px"},children:[pt?(0,H.jsx)(C.Z,{loading:pt}):(0,H.jsx)(d.Z,{label:"Search",size:"small",name:"search",value:Ze.search,onChange:Zt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),st(e.target.value);"ArrowDown"===e.key&&(e.preventDefault(),document.querySelector(".grid-container").focus())},InputProps:{style:{height:"27px",fontSize:"14px"},className:"manok"},sx:{width:"300px",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),Oe&&(0,H.jsx)(s.Z,{sx:{height:"30px",fontSize:"11px"},variant:"contained",startIcon:(0,H.jsx)(D.Z,{sx:{width:15,height:15}}),id:"entry-header-save-button",onClick:function(){oe("add")},color:"primary",children:"New"}),(0,H.jsx)(C.Z,{sx:{height:"30px",fontSize:"11px"},loading:$e,disabled:Oe,onClick:function(){var e,t;return""===(null===(e=ae.current)||void 0===e?void 0:e.value)?I().fire({position:"center",icon:"warning",title:"Please provide reference number!",timer:1500}):""===(null===(t=ce.current)||void 0===t?void 0:t.value)?I().fire({position:"center",icon:"warning",title:"Please provide explanation!",timer:1500}).then((function(){(0,A.D)(300).then((function(){var e;null===(e=Pe.current)||void 0===e||e.focus()}))})):""===Ze.totalDebit&&""===Ze.totalCredit||"0.00"===Ze.totalDebit&&"0.00"===Ze.totalCredit?I().fire({position:"center",icon:"warning",title:"Total Debit and Credit amount must not be zero(0), please double check the entries",timer:1500}).then((function(){(0,A.D)(300).then((function(){}))})):Ze.totalDebit!==Ze.totalCredit?I().fire({position:"center",icon:"warning",title:"Total Debit and Credit amount must be balance, please double check the entries",timer:1500}).then((function(){(0,A.D)(300).then((function(){}))})):void(Je?(0,B.s)({isUpdate:!0,cb:function(e){var t,n,r;Xe({hasSelected:!0,refNo:null===(t=ae.current)||void 0===t?void 0:t.value,dateEntry:null===(n=ue.current)||void 0===n?void 0:n.value,explanation:null===(r=ce.current)||void 0===r?void 0:r.value,generalJournal:Le,userCodeConfirmation:e})}}):(0,B.L)({isConfirm:function(){var e,t,n;Xe({hasSelected:!1,refNo:null===(e=ae.current)||void 0===e?void 0:e.value,dateEntry:null===(t=ue.current)||void 0===t?void 0:t.value,explanation:null===(n=ce.current)||void 0===n?void 0:n.value,generalJournal:Le})}}))},color:"success",variant:"contained",children:"Save"}),(We||Je)&&(0,H.jsx)(C.Z,{sx:{height:"30px",fontSize:"11px"},variant:"contained",startIcon:(0,H.jsx)(N.Z,{sx:{width:15,height:15}}),color:"error",onClick:function(){I().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&(oe(""),Ye(),_e([]))}))},disabled:Oe,children:"Cancel"}),(0,H.jsx)(C.Z,{sx:{height:"30px",fontSize:"11px",background:M.Z[500],":hover":{background:M.Z[600]}},onClick:function(){(0,B.s)({isUpdate:!1,text:"Are you sure you want to void ".concat(Ze.refNo),cb:function(e){it({refNo:Ze.refNo,dateEntry:Ze.dateEntry,userCodeConfirmation:e})}})},loading:ot,disabled:Oe,variant:"contained",startIcon:(0,H.jsx)(E.Z,{sx:{width:20,height:20}}),children:"Void"}),(0,H.jsx)(C.Z,{sx:{height:"30px",fontSize:"11px",background:L.Z[500],":hover":{background:L.Z[600]}},onClick:function(){ze((function(e){return!e}))},loading:nt,variant:"contained",startIcon:(0,H.jsx)(j.Z,{sx:{width:20,height:20}}),children:"Jobs"}),(0,H.jsx)(s.Z,{disabled:Oe,id:"basic-button","aria-haspopup":"true",onClick:function(){(0,K.flushSync)((function(){var e,t,n;localStorage.removeItem("printString"),localStorage.setItem("dataString",JSON.stringify(Le)),localStorage.setItem("paper-width","8.5in"),localStorage.setItem("paper-height","11in"),localStorage.setItem("module","general-journal"),localStorage.setItem("state",JSON.stringify({JVNo:null===(e=ae.current)||void 0===e?void 0:e.value,JVDate:null===(t=ue.current)||void 0===t?void 0:t.value,JVExp:null===(n=ce.current)||void 0===n?void 0:n.value})),localStorage.setItem("column",JSON.stringify([{datakey:"code",header:"ACCT #",width:"40px"},{datakey:"acctName",header:"ACCOUNT TITLE",width:"130px"},{datakey:"IDNo",header:"ID NO.",width:"120px"},{datakey:"ClientName",header:"IDENTITY",width:"200px"},{datakey:"debit",header:"DEBIT",width:"65px"},{datakey:"credit",header:"CREDIT",width:"65px"}])),localStorage.setItem("title","UMIS"===(null===Se||void 0===Se?void 0:Se.department)?"UPWARD MANAGEMENT INSURANCE SERVICES\n":"UPWARD CONSULTANCY SERVICES AND MANAGEMENT INC.\n")})),window.open("/dashboard/print","_blank")},sx:{height:"30px",fontSize:"11px",color:"white",backgroundColor:_.Z[600],"&:hover":{backgroundColor:_.Z[700]}},children:"Print"})]}),(0,H.jsxs)("div",{style:{fontSize:"13px",border:"1px solid #d4d4d8",width:"100%",display:"flex",columnGap:"50px",height:"30px",alignItems:"center",justifyContent:"center"},children:[(0,H.jsxs)("p",{style:{margin:0,padding:0,color:"black"},children:[(0,H.jsx)("span",{style:{fontSize:"12px"},children:"Total Rows:"})," ",(0,H.jsx)("strong",{children:Le.length})]}),(0,H.jsxs)("p",{style:{margin:0,padding:0,color:"black"},children:[(0,H.jsx)("span",{style:{fontSize:"12px"},children:"Total Debit:"})," ",(0,H.jsx)("strong",{children:Ze.totalDebit})]}),(0,H.jsxs)("p",{style:{margin:0,padding:0,color:"black"},children:[(0,H.jsx)("span",{style:{fontSize:"12px"},children:"Total Credit:"})," ",(0,H.jsx)("strong",{children:Ze.totalCredit})]}),(0,H.jsxs)("p",{style:{margin:0,padding:0,color:"black"},children:[(0,H.jsx)("span",{style:{fontSize:"12px"},children:"Balance:"})," ",(0,H.jsx)("strong",{style:{color:parseFloat(Ze.totalBalance.replace(/,/g,""))>0?"red":"black"},children:Ze.totalBalance})]})]})]}),(0,H.jsxs)("div",{style:{position:"relative",width:"100%",height:"auto",display:"flex",marginTop:"10px",gap:"10px",padding:"5px"},children:[He?(0,H.jsx)(C.Z,{loading:He}):(0,H.jsx)(q.oi,{label:{title:"Ref. No. : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:Oe||Je,type:"text",style:{width:"190px"},readOnly:!0,onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=ue.current)||void 0===t||t.focus())}},inputRef:ae}),(0,H.jsx)(q.oi,{label:{title:"Date : ",style:{fontSize:"12px",fontWeight:"bold",width:"50px"}},input:{disabled:Oe,type:"date",style:{width:"190px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=ce.current)||void 0===t||t.focus())}},inputRef:ue}),(0,H.jsx)(q.oi,{label:{title:"Explanation : ",style:{fontSize:"12px",fontWeight:"bold",width:"90px"}},input:{disabled:Oe,type:"text",style:{width:"600px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=de.current)||void 0===t||t.focus())}},inputRef:ce})]}),(0,H.jsxs)("fieldset",{style:{border:"1px solid #cbd5e1",borderRadius:"5px",position:"relative",width:"100%",height:"auto",marginTop:"10px",padding:"15px"},children:[(0,H.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[mt?(0,H.jsx)(C.Z,{loading:mt}):(0,H.jsx)(q.oi,{label:{title:"Code : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:Oe,type:"text",style:{width:"190px"},onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),de.current&&xt(de.current.value))}},inputRef:de,icon:(0,H.jsx)(W.Z,{sx:{fontSize:"18px",color:Oe?"gray":"black"}}),onIconClick:function(e){e.preventDefault(),de.current&&xt(de.current.value)},disableIcon:Oe}),(0,H.jsx)(q.oi,{label:{title:"Account Name : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:Oe,type:"text",style:{width:"190px"},readOnly:!0,onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=pe.current)||void 0===t||t.focus())}},inputRef:se}),(0,H.jsx)(q.oi,{label:{title:"Sub Account : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:Oe,type:"text",style:{width:"190px"},readOnly:!0,onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=fe.current)||void 0===t||t.focus())}},inputRef:pe}),jt?(0,H.jsx)(C.Z,{loading:jt}):(0,H.jsx)(q.oi,{label:{title:"I.D : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:Oe,type:"text",style:{width:"300px"},onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),fe.current&&wt(fe.current.value))}},inputRef:fe,icon:(0,H.jsx)(J.Z,{sx:{fontSize:"18px",color:Oe?"gray":"black"}}),onIconClick:function(e){e.preventDefault(),fe.current&&wt(fe.current.value)},disableIcon:Oe})]}),(0,H.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[(0,H.jsx)(q.iA,{label:{title:"Debit : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:Oe,type:"text",style:{width:"190px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=ve.current)||void 0===t||t.focus())}},inputRef:he}),(0,H.jsx)(q.iA,{label:{title:"Credit : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:Oe,type:"text",style:{width:"190px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=xe.current)||void 0===t||t.focus())}},inputRef:ve}),It?(0,H.jsx)(C.Z,{loading:It}):(0,H.jsx)(q.oi,{label:{title:"TC : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:Oe,type:"text",style:{width:"190px"},onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),xe.current&&St(xe.current.value))}},inputRef:xe,icon:(0,H.jsx)(O.Z,{sx:{fontSize:"18px",color:Oe?"gray":"black"}}),onIconClick:function(e){e.preventDefault(),xe.current&&St(xe.current.value)},disableIcon:Oe}),(0,H.jsx)(q.oi,{label:{title:"Remarks : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:Oe,type:"text",style:{width:"300px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=ge.current)||void 0===t||t.focus())}},inputRef:me})]}),(0,H.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[(0,H.jsx)(q.lq,{label:{title:"Vat Type : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},selectRef:ge,select:{disabled:Oe,style:{width:"190px",height:"22px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(e.preventDefault(),null===(t=ye.current)||void 0===t||t.focus())}},datasource:[{key:"VAT"},{key:"Non-VAT"}],values:"key",display:"key"}),(0,H.jsx)(q.oi,{label:{title:"OR/Invoice No. : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:Oe,type:"text",style:{width:"300px"},onKeyDown:function(e){"NumpadEnter"!==e.code&&"Enter"!==e.code||(e.preventDefault(),At())}},inputRef:ye}),(0,H.jsx)(s.Z,{disabled:Oe,sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,H.jsx)(U.Z,{sx:{fontSize:"12px"}}),onClick:function(){At()},color:"primary",children:"Save Row"})]})]}),(0,H.jsx)("div",{ref:qe,className:Ce,style:{marginTop:"10px",width:"100%",position:"relative",flex:1},children:(0,H.jsx)(V.r,{isLoading:$e||ut||nt,ref:Ve,rows:Le,column:X,width:Et,height:Rt,dataReadOnly:!0,onSelectionChange:function(e,t){var n=e[0];e.length>0?(be.current=n.IDNo,we.current=n.BranchCode,fe.current&&(fe.current.value=n.ClientName),xe.current&&(xe.current.value=n.TC_Code),se.current&&(se.current.value=n.acctName),de.current&&(de.current.value=n.code),ve.current&&(ve.current.value=n.credit),he.current&&(he.current.value=n.debit),ye.current&&(ye.current.value=n.invoice),me.current&&(me.current.value=n.remarks),pe.current&&(pe.current.value=n.subAcctName),ge.current&&(ge.current.value=n.vatType),te(t)):(te(null),kt())},onKeyDown:function(e,t,n){"Delete"!==t&&"Backspace"!==t||I().fire({title:"Are you sure you want to delete?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){if(e.isConfirmed)return _e((function(e){return e.filter((function(e,t){return t!==n}))}))}))},inputsearchselector:".manok"})}),(0,H.jsx)(p.Z,{open:Re,onClose:function(){return ze(!1)},children:(0,H.jsxs)(f.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:470,bgcolor:"background.paper",p:4},children:[(0,H.jsx)(h.Z,{style:{position:"absolute",top:"10px",right:"10px"},"aria-label":"search-client",onClick:function(){return ze(!1)},children:(0,H.jsx)(N.Z,{})}),(0,H.jsx)(v.Z,{id:"modal-modal-title",variant:"h6",component:"h2",sx:{marginBottom:"20px"},children:"Jobs"}),(0,H.jsxs)("div",{style:{width:"400px"},children:[(0,H.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"10px",justifyContent:"space-between",alignItems:"center"},children:[(0,H.jsx)(R._,{dateAdapter:z.H,children:(0,H.jsx)(F.M,{sx:{width:"200px",".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},slotProps:{textField:{size:"small",name:"",InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}}},label:"Transaction Date: ",views:["month","year"],value:Ze.jobTransactionDate,onChange:function(e){ke({type:"UPDATE_FIELD",field:"jobTransactionDate",value:e})}})}),(0,H.jsx)(x.Z,{sx:{height:"30px","& .MuiTypography-root":{fontSize:"14px"}},control:(0,H.jsx)(m.Z,{size:"small",checked:Ze.jobAutoExp,onChange:function(e){ke({type:"UPDATE_FIELD",field:"jobAutoExp",value:!Ze.jobAutoExp})}}),label:"Auto Explanation"})]}),(0,H.jsxs)(g.Z,{fullWidth:!0,size:"small",variant:"outlined",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,H.jsx)(y.Z,{id:"label-selection-job-type",children:"Type of Job"}),(0,H.jsxs)(b.Z,{labelId:"label-selection-job-type",value:Ze.jobType,name:"jobType",onChange:Zt,autoWidth:!0,sx:{height:"27px",fontSize:"14px"},children:[(0,H.jsx)(w.Z,{value:"",children:" "}),(0,H.jsx)(w.Z,{value:"0",children:"Reversal of Accrued Interest "}),(0,H.jsxs)(w.Z,{value:"1",children:[" ","Income Recognition & Accrual of Interest"]}),(0,H.jsx)(w.Z,{value:"2",children:"Penalty Charges"}),(0,H.jsx)(w.Z,{value:"3",children:"Penalty Income"}),(0,H.jsx)(w.Z,{value:"4",children:"RPT Transaction (NIL-HN)"}),(0,H.jsx)(w.Z,{value:"5",children:"RPT Transaction (AMIFIN)"}),(0,H.jsx)(w.Z,{value:"6",children:"RPT Income"}),(0,H.jsx)(w.Z,{value:"7",children:"Monthly Accrual Expenses"}),(0,H.jsx)(w.Z,{value:"8",children:"Monthly Accrual Income"}),(0,H.jsx)(w.Z,{value:"9",children:"Production (Milestone Guarantee)"}),(0,H.jsx)(w.Z,{value:"10",children:"Production (Liberty Insurance Co.)"}),(0,H.jsx)(w.Z,{value:"11",children:"Production (Federal Phoenix)"})]})]})]}),(0,H.jsxs)("div",{style:{display:"flex",columnGap:"30px",alignItems:"flex-end",marginTop:"20px"},children:[(0,H.jsx)(C.Z,{loading:nt,color:"success",variant:"contained",onClick:function(){return tt(Ze)},children:"Create Job"}),(0,H.jsx)(s.Z,{color:"error",variant:"contained",onClick:function(){return ze(!1)},children:"Cancel"})]})]})}),vt,bt,Nt,dt]})}},84072:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),o=n(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"AccountBalanceWallet");t.Z=a},85545:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),o=n(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");t.Z=a},67442:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),o=n(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M20 6h-3V4c0-1.11-.89-2-2-2H9c-1.11 0-2 .89-2 2v2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM9 4h6v2H9V4zm11 15H4v-2h16v2zm0-5H4V8h3v2h2V8h6v2h2V8h3v6z"}),"CardTravel");t.Z=a},16656:function(e,t){t.Z={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037"}},95643:function(e,t){t.Z={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"}}}]);
//# sourceMappingURL=2876.51681d0d.chunk.js.map