"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[3911],{83911:function(e,s,n){n.r(s),n.d(s,{default:function(){return w}});var a,r=n(29439),t=n(74165),o=n(15861),u=n(72791),c=n(57689),i=n(3380),d=n(91933),m=n(79018),p=n(21830),l=n.n(p),h=(n(59491),n(80184));function g(e,s,n){return(a=a||(0,o.Z)((0,t.Z)().mark((function e(s,n,a){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.post("/login",{username:n,password:a},{withCredentials:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){var e,s,n=(0,c.s0)(),a=(0,u.useState)(!1),p=(0,r.Z)(a,2),w=p[0],x=p[1],f=(0,u.useState)({username:!1,password:!1,success:!1,message:""}),j=(0,r.Z)(f,2),v=j[0],b=j[1],y=(0,u.useContext)(i.V),N=y.setUser,Z=y.myAxios,S=(0,d.useMutation)({mutationKey:"login",mutationFn:function(s){return(e=e||(0,o.Z)((0,t.Z)().mark((function e(s){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.D)(1200).then((0,o.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(Z,s.username,s.password);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){return e.data.username?b({username:!0,password:!1,success:!1,message:e.data.message}):e.data.password?b({username:!1,password:!0,success:!1,message:e.data.message}):(b({username:!1,password:!1,success:!0,message:e.data.message}),void l().fire({position:"center",icon:"success",title:e.data.message,showConfirmButton:!1,timer:800}).then((function(){N(e.data.user),e.data.user.is_master_admin?n("/master-admin-dashboard"):n("/dashboard")})))}}),k=S.mutate,C=S.isLoading;return(0,h.jsxs)("div",{className:"main-landing-page",children:[(0,h.jsxs)("form",{className:"content",onSubmit:function(e){return(s=s||(0,o.Z)((0,t.Z)().mark((function e(s){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.preventDefault(),n=new FormData(s.currentTarget),k({username:n.get("username"),password:n.get("password")});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},children:[(0,h.jsx)("img",{alt:"Upward Insurance",src:"/logo.png",style:{width:"120px",height:"auto",background:"white"}}),(0,h.jsx)("h3",{style:{fontWeight:"400",marginBottom:"30px"},children:"LOGIN TO UPWARD INSURANCE"}),(0,h.jsx)("div",{className:"content-field",children:(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{htmlFor:"username",children:" USERNAME"}),(0,h.jsx)("input",{name:"username",id:"username",className:v.username?"error":"",onFocus:function(){return b({username:!1,password:!1,success:!1,message:""})}}),v.username&&(0,h.jsx)("p",{className:"warning-text",children:v.username&&v.message})]})}),(0,h.jsx)("div",{className:"content-field",style:{marginTop:"15px"},children:(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{htmlFor:"password",children:" PASSWORD"}),(0,h.jsx)("input",{name:"password",id:"password",type:w?"text":"password",className:v.password?"error":"",onFocus:function(){return b({username:!1,password:!1,success:!1,message:""})}}),v.password&&(0,h.jsx)("p",{className:"warning-text",children:v.message})]})}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"10px",marginTop:"10px"},children:[(0,h.jsx)("input",{name:"showpass",id:"showpass",type:"checkbox",style:{padding:"0",margin:0},onChange:function(e){var s;console.log(e.currentTarget.checked),x(null===(s=e.currentTarget)||void 0===s?void 0:s.checked)}}),(0,h.jsx)("label",{htmlFor:"showpass",style:{fontSize:"10px",cursor:"pointer",padding:"0",margin:0},children:"SHOW PASSWORD"})]}),(0,h.jsx)("button",{children:"SUBMIT"})]}),C&&(0,h.jsx)("div",{className:"loading-component",children:(0,h.jsx)("div",{className:"loader"})})]})}}}]);
//# sourceMappingURL=3911.d202a869.chunk.js.map