(self.webpackChunkupward=self.webpackChunkupward||[]).push([[6074],{70272:function(e,n,t){"use strict";var i=t(54270),r=t(80184);n.Z=function(e){var n=e.title,t=void 0===n?"":n;return(0,r.jsxs)(i.q,{children:[(0,r.jsx)("title",{children:t}),(0,r.jsx)("link",{rel:"icon",type:"image/png",href:"".concat("/","/logo.png")})]})}},93346:function(e,n,t){"use strict";t.d(n,{r:function(){return l}});var i=t(93433),r=t(29439),o=t(72791),u=t(16088),c=t(80184),l=(0,o.forwardRef)((function(e,n){var t,l=e.rows,a=e.column,s=e.width,d=e.height,f=e.dataReadOnly,h=e.onSelectionChange,v=void 0===h?function(){}:h,p=e.isMultipleSelect,m=void 0!==p&&p,g=e.freeze,x=void 0!==g&&g,y=e.onKeyDown,w=e.inputsearchselector,N=void 0===w?".search-input-up-on-key-down":w,j=e.isRowSelectable,b=void 0===j||j,S=e.unSelectable,C=void 0===S?function(){return!1}:S,k=e.isLoading,D=e.onRightClick,R=(0,o.useState)([]),A=(0,r.Z)(R,2),Z=A[0],I=A[1],T=(0,o.useState)(0),E=(0,r.Z)(T,2),O=E[0],L=E[1],P=(0,o.useRef)(v),M=(0,o.useRef)(y),q=(0,o.useState)(a.filter((function(e){return!e.hide}))),_=(0,r.Z)(q,2),V=_[0],K=_[1],U=(0,o.useState)(null),W=(0,r.Z)(U,2),F=W[0],B=W[1],z=(0,o.useState)([0]),G=(0,r.Z)(z,2),H=G[0],X=G[1],Q=(0,o.useState)(0),Y=(0,r.Z)(Q,2),J=Y[0],$=Y[1],ee=(0,o.useState)([]),ne=(0,r.Z)(ee,2),te=ne[0],ie=ne[1],re=(0,o.useRef)(null),oe=(0,o.useState)(null),ue=(0,r.Z)(oe,2),ce=ue[0],le=ue[1];(0,o.useEffect)((function(){var e=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,t=[],i=0;i<e.length;i+=n)t.push(e.slice(i,i+n));return t}(l,100);I(e)}),[l]);var ae=function(e,n){n.preventDefault(),n.stopPropagation();var t=n.clientX,r=V[e].width,o=function(n){var o=r+(n.clientX-t),u=(0,i.Z)(V);u[e].width=o>50?o:50,K(u)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)}))},se=function(e){B(e)},de=function(){B(null)};(0,o.useImperativeHandle)(n,(function(){return{resetTableSelected:function(){if(X([0]),$(0),ie([]),l.length>0){var e=document.querySelector(".row-".concat(0));null===e||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"})}},getSelectedIndex:function(){return te[0]},getSelectedRows:function(){return l.filter((function(e,n){return te.includes(n)}))},getFirstColumn:function(){return l.filter((function(e,n){return te.includes(n)}))},getParentElement:function(){return re.current},getSelectedRowsOnClick:function(){return H[0]},setSelectRows:function(e){return ie([e])}}}));return(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center"},onKeyDown:function(e){if("ArrowDown"===e.key)e.preventDefault(),X((function(e){var n;if(null===e[e.length-1])return[0];if(e[e.length-1]>=l.length-1)return[l.length-1];var t=e[e.length-1]+1,i=document.querySelector(".row-".concat(t));return null===i||void 0===i||null===(n=i.querySelector("input"))||void 0===n||n.focus(),null===i||void 0===i||i.scrollIntoView({block:"end",behavior:"smooth"}),[t]}));else if("ArrowUp"===e.key){if(e.preventDefault(),0===H[H.length-1]){var n=document.querySelector(N);if(n&&"INPUT"===n.tagName)null===n||void 0===n||n.focus();else if(n&&"DIV"===n.tagName){var t=document.querySelector("".concat(N," input"));null===t||void 0===t||t.focus()}}X((function(e){var n;if(0===e[e.length-1])return[0];var t=e[e.length-1]-1,i=document.querySelector(".row-".concat(t));return null===i||void 0===i||i.scrollIntoView({block:"end",behavior:"smooth"}),null===i||void 0===i||null===(n=i.querySelector("input"))||void 0===n||n.focus(),[t]}))}},children:(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"table-frame-color",children:[(0,c.jsx)("div",{style:{display:"flex",flexDirection:"column",width:"".concat(s-10,"px        "),height:"".concat(d-135,"px"),minHeight:"270px"},className:"table-frame",children:(0,c.jsx)("div",{className:"table-panel",children:(0,c.jsxs)("div",{ref:re,className:"grid-container ",tabIndex:-1,children:[(0,c.jsx)("div",{className:"grid-row grid-header",style:{position:"sticky",zIndex:"10",top:"-1px",background:"white"},children:V.map((function(e,n){return(0,c.jsxs)("div",{className:"grid-cell header-cell ".concat(F===n?"highlight-column":""),style:{width:e.width,height:"20px"},children:[(0,c.jsx)("input",{style:{fontWeight:"bold"},defaultValue:e.headerName,readOnly:!0,onChange:function(e){}}),(0,c.jsx)("div",{className:"resize-handle",onMouseDown:function(e){return ae(n,e)},onMouseEnter:function(e){e.preventDefault(),se(n)},onMouseLeave:function(e){e.preventDefault(),de()}})]},n)}))}),null===(t=Z[O])||void 0===t?void 0:t.map((function(e,n){return(0,c.jsx)("div",{className:"grid-row row-".concat(n),onClick:function(e){return function(e,n){if(m)if(n.shiftKey&&null!==J){for(var t=Math.min(J,e),r=Math.max(J,e),o=[],u=t;u<=r;u++)H.includes(u)||o.push(u);var c=[].concat((0,i.Z)(te),o);X([].concat((0,i.Z)(H),o));var a=function(e){var n=e.map((function(e,n){return C(e)?null:{idx:n,data:e}})).filter((function(e){return null!==e})),t=n.map((function(e){return e.data}));return{newSelectedRowsFiltered:n.map((function(e){return e.idx})),data:t}}(l.filter((function(e,n){return c.includes(n)}))).newSelectedRowsFiltered;ie(a)}else if(n.ctrlKey||n.metaKey)if(H.includes(e)&&!x){X(H.filter((function(n){return n!==e}))),ie((function(n){return n=n.filter((function(n){return n!==e})),n}));var s=te.filter((function(n){return n!==e}));ie(s)}else{X([].concat((0,i.Z)(H),[e])),ie((function(n){return n.push(e),n}));var d=[].concat((0,i.Z)(te),[e]);ie(d)}else X([e]);else X([e]);$(e)}(n,e)},onDoubleClick:function(e){ce&&(clearTimeout(ce),le(null));var t=setTimeout((function(){!function(e,n){var t=l[e];if(!C(t)&&b){var r=[];if(r=m?[].concat((0,i.Z)(te),(0,i.Z)(H)):[e],te.includes(e)&&!x)return r=te.filter((function(n){return n!==e})),ie(r),void P.current([],e);ie(r),P.current([t],e)}}(n)}),200);le(t)},onKeyDown:function(e){ce&&(clearTimeout(ce),le(null));var n=setTimeout((function(){!function(e){if(e.stopPropagation(),"Enter"===e.key||"NumpadEnter"===e.key){if(e.preventDefault(),!b)return;var n=[],t=H[H.length-1];n=m?[].concat((0,i.Z)(te),(0,i.Z)(H)):[t];var r=l[n[n.length-1]];if(C(r))return;if(te.includes(t)&&!x)return n=te.filter((function(e){return e!==t})),ie(n),void P.current([],t);ie(n),P.current([r],t)}else if("Delete"===e.key||"Backspace"===e.key){if(!b)return;var o=H[H.length-1],u=l.filter((function(e,n){return H.includes(n)}));null!==M&&void 0!==M&&M.current&&(null===M||void 0===M||M.current(u,e.key,o))}}(e)}),200);le(n)},onContextMenu:function(e){return function(e,n){e.preventDefault();var t=l[n];D&&D(t,e)}(e,n)},children:V.map((function(t,i){return(0,c.jsxs)("div",{style:{width:t.width},className:"grid-cell ".concat(F===i?"highlight-column":""," row-").concat(n," col-").concat(i),children:[(0,c.jsx)("input",{value:e[t.field],onChange:function(e){},readOnly:f,className:"".concat(H.includes(n)?"selected-row":""," ").concat(te.includes(n)?"selected-items":"","\n                          ").concat("number"===t.type?"number":"text","\n                          ")}),(0,c.jsx)("div",{className:"resize-handle",onMouseDown:function(e){e.preventDefault(),ae(i,e)},onMouseEnter:function(e){e.preventDefault(),se(i)},onMouseLeave:function(e){e.preventDefault(),de()}})]},i)}))},n)}))]})})}),k&&(0,c.jsx)("div",{className:"table-loading",children:(0,c.jsx)("div",{className:"loader"})})]}),(0,c.jsxs)("div",{className:"table-panel-footer",children:[(0,c.jsxs)("div",{children:["Records : ",null===l||void 0===l?void 0:l.length]}),(0,c.jsx)("div",{children:(0,c.jsx)(u.Z,{count:Z.length,onChange:function(e,n){L(n-1)}})})]})]})})}))},66813:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return x}});var i=t(74165),r=t(15861),o=t(29439),u=t(72791),c=t(91933),l=t(24035),a=t(3380),s=t(25756),d=t(54164),f=t(93346),h=t(70272),v=t(80184),p=[{field:"AssuredName",headerName:"Assured Name",width:300},{field:"PolicyNo",headerName:"Policy No.",width:200},{field:"InsuredValue",headerName:"Insured Value",width:120,type:"number"},{field:"unit",headerName:"Unit",width:270},{field:"ChassisNo",headerName:"Chassis No.",width:160},{field:"DateExpired",headerName:"Date Expired",width:100}],m=[{field:"claims_id",headerName:"Claims ID.",width:300},{field:"AssuredName",headerName:"Assured Name",width:200},{field:"PolicyNo",headerName:"Policy No.",width:120,type:"number"},{field:"dateAccident",headerName:"Date Accident",width:270},{field:"dateReported",headerName:"Date Reported",width:160},{field:"status",headerName:"Status",width:100}],g=[{text:"TPL"},{text:"COM"},{text:"CGL"},{text:"FIRE"},{text:"MAR"},{text:"PA"}];function x(){var e,n=(0,u.useState)(0),t=(0,o.Z)(n,2),x=t[0],N=t[1],j=(0,u.useState)(!1),b=(0,o.Z)(j,2),S=b[0],C=b[1],k=(0,u.useState)(0),D=(0,o.Z)(k,2),R=D[0],A=D[1],Z=(0,s.Z)([(0,v.jsx)(w,{policy:"TPL",column:p}),(0,v.jsx)(w,{policy:"COM",column:p}),(0,v.jsx)(w,{policy:"CGL",column:p}),(0,v.jsx)(w,{policy:"FIRE",column:p}),(0,v.jsx)(w,{policy:"MAR",column:p}),(0,v.jsx)(w,{policy:"PA",column:p})]),I=Z.step,T=Z.goTo,E=(0,u.useContext)(a.V).user,O=(0,c.useQuery)({queryKey:"claims-notice",queryFn:function(){return(e=e||(0,r.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.G.get("/get-claims-notice",{headers:{Authorization:"Bearer ".concat(null===E||void 0===E?void 0:E.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),L=O.data,P=O.isLoading,M=function(e,n){(0,d.flushSync)((function(){C(!0)})),A(e),T(e),N(n.target.getBoundingClientRect().left)},q=window.innerWidth-50,_=window.innerHeight-145;return(0,v.jsxs)("div",{id:"main",children:[(0,v.jsx)(h.Z,{title:"Dashboard"}),("PRODUCTION"===(null===E||void 0===E?void 0:E.userAccess)||"ACCOUNTING"===(null===E||void 0===E?void 0:E.userAccess)||"PRODUCTION_ACCOUNTING"===(null===E||void 0===E?void 0:E.userAccess)||"ADMIN"===(null===E||void 0===E?void 0:E.userAccess))&&(0,v.jsxs)("div",{style:{position:"relative",width:"100%",height:"auto"},children:[(0,v.jsx)("h3",{style:{padding:0,margin:0,fontWeight:"bold",position:"absolute"},children:"RENEWAL NOTICE"}),(0,v.jsxs)("div",{style:{position:"relative",textAlign:"center",width:"100%",marginBottom:"10px"},children:[g.map((function(e,n){return(0,v.jsx)(y,{text:e.text,index:n,handleIncrement:M,curr:R},n)})),(0,v.jsx)("span",{onTransitionEnd:function(e){C(!1)},style:{position:"absolute",background:"rgba(0, 0, 0, 0.524)",top:0,left:"".concat(x,"px"),width:"60px",height:"40px",transition:"all 200ms",display:S?"block":"none"}})]}),(0,v.jsx)("div",{style:{width:"100%",height:"360px"},children:I})]}),("CLAIMS"===(null===E||void 0===E?void 0:E.userAccess)||"ADMIN"===(null===E||void 0===E?void 0:E.userAccess))&&(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{style:{padding:0,fontWeight:"bold"},children:"CLAIMS"}),P?(0,v.jsx)("div",{children:"Loading..."}):(0,v.jsx)(f.r,{isLoading:P,ref:null,rows:null===L||void 0===L?void 0:L.data.claims,column:m,width:q,height:_,dataReadOnly:!0,onSelectionChange:function(){},onKeyDown:function(){},inputsearchselector:".manok"})]})]})}var y=function(e){var n=e.text,t=void 0===n?"unknown":n,i=e.index,r=void 0===i?0:i,o=e.handleIncrement,u=e.curr;return(0,v.jsx)("button",{disabled:u===r,style:{border:"none",borderRadius:"0",cursor:"pointer",color:"white",background:u===r?"":"#008CBA",width:"80px",height:"40px",padding:0},onClick:function(e){o(r,e)},children:t})},w=function(e){var n=e.policy,t=e.column,i=(0,u.useRef)(),r=(0,u.useState)(!1),c=(0,o.Z)(r,2),s=c[0],d=c[1],h=(0,u.useState)([]),p=(0,o.Z)(h,2),m=p[0],g=p[1],x=(0,u.useContext)(a.V).user;(0,u.useEffect)((function(){d(!0),l.G.get("/get-renewal-this-month?policy=".concat(n),{headers:{Authorization:"Bearer ".concat(null===x||void 0===x?void 0:x.accessToken)}}).then((function(e){d(!1),g(null===e||void 0===e?void 0:e.data.renewal)}))}),[n,x]);var y=window.innerWidth-50,w=window.innerHeight-145;return s?(0,v.jsx)("div",{style:{textAlign:"center"},children:"Loading..."}):(0,v.jsx)("div",{children:(0,v.jsx)(f.r,{isLoading:s,ref:i,rows:m,column:t,width:y,height:w,dataReadOnly:!0,onSelectionChange:function(){},onKeyDown:function(){},inputsearchselector:".manok"})})}},25756:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var i=t(29439),r=t(72791);function o(e){var n=(0,r.useState)(0),t=(0,i.Z)(n,2),o=t[0],u=t[1];return{step:e[o],goTo:function(e){u(e)},back:function(){u((function(e){return e<=0?e:e+1}))},next:function(){u((function(n){return n>=e.length-1?n:n+1}))},isFirstStep:0!==o,isLastStep:o===e.length-1,currentStepIndex:o}}},80888:function(e,n,t){"use strict";var i=t(79047);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,n,t,r,o,u){if(u!==i){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function n(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:o,resetWarningCache:r};return t.PropTypes=t,t}},52007:function(e,n,t){e.exports=t(80888)()},79047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=6074.7cbc2d42.chunk.js.map