"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[1861],{56580:function(e,t,n){n.d(t,{a:function(){return d}});var i=n(1413),a=n(45987),o=n(72791),r=n(30948),l=n(80184),c=["onChange"],d=o.forwardRef((function(e,t){var n=e.onChange,o=(0,a.Z)(e,c);return(0,l.jsx)(r.h3,(0,i.Z)((0,i.Z)({},o),{},{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:t.value}})},allowNegative:!1,thousandSeparator:!0,valueIsNumericString:!0}))}))},93346:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(93433),a=n(29439),o=n(72791),r=n(80184),l=(0,o.forwardRef)((function(e,t){var n=e.rows,l=e.column,c=e.width,d=e.height,s=e.dataReadOnly,u=e.onSelectionChange,p=void 0===u?function(){}:u,f=e.isMultipleSelect,h=void 0!==f&&f,m=e.freeze,x=void 0!==m&&m,g=e.onKeyDown,v=e.inputsearchselector,b=void 0===v?".search-input-up-on-key-down":v,y=e.isRowSelectable,D=void 0===y||y,N=e.unSelectable,w=void 0===N?function(){return!1}:N,C=e.writeFooter,j=void 0===C?function(){return null}:C,Z=e.isLoading,I=void 0!==Z&&Z,S=(0,o.useRef)(p),E=(0,o.useRef)(g),k=(0,o.useState)(l.filter((function(e){return!e.hide}))),T=(0,a.Z)(k,2),F=T[0],A=T[1],L=(0,o.useState)(null),z=(0,a.Z)(L,2),P=z[0],M=z[1],_=(0,o.useState)([0]),R=(0,a.Z)(_,2),U=R[0],K=R[1],B=(0,o.useState)(0),O=(0,a.Z)(B,2),q=O[0],V=O[1],W=(0,o.useState)([]),Y=(0,a.Z)(W,2),G=Y[0],J=Y[1],H=(0,o.useRef)(null),Q=function(e,t){t.preventDefault(),t.stopPropagation();var n=t.clientX,a=F[e].width,o=function(t){var o=a+(t.clientX-n),r=(0,i.Z)(F);r[e].width=o>50?o:50,A(r)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)}))},X=function(e){M(e)},$=function(){M(null)};return(0,o.useImperativeHandle)(t,(function(){return{resetTableSelected:function(){if(K([0]),V(0),J([]),n.length>0){var e=document.querySelector(".row-".concat(0));null===e||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"})}},getSelectedRows:function(){return n.filter((function(e,t){return G.includes(t)}))}}})),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"center"},onKeyDown:function(e){if("Enter"===e.key||"NumpadEnter"===e.key){if(e.preventDefault(),!D)return;var t=[],a=U[U.length-1];t=h?[].concat((0,i.Z)(G),(0,i.Z)(U)):[a];var o=n[t[t.length-1]];if(w(o))return;if(G.includes(a)&&!x)return t=G.filter((function(e){return e!==a})),J(t),void S.current([]);J(t),S.current([o])}else if("ArrowDown"===e.key)e.preventDefault(),K((function(e){var t;if(null===e[e.length-1])return[0];if(e[e.length-1]>=n.length-1)return[n.length-1];var i=e[e.length-1]+1,a=document.querySelector(".row-".concat(i));return null===a||void 0===a||null===(t=a.querySelector("input"))||void 0===t||t.focus(),null===a||void 0===a||a.scrollIntoView({block:"end",behavior:"smooth"}),[i]}));else if("ArrowUp"===e.key){if(e.preventDefault(),0===U[U.length-1]){var r=document.querySelector(b);if(r&&"INPUT"===r.tagName)null===r||void 0===r||r.focus();else if(r&&"DIV"===r.tagName){var l=document.querySelector("".concat(b," input"));null===l||void 0===l||l.focus()}}K((function(e){var t;if(0===e[e.length-1])return[0];var n=e[e.length-1]-1,i=document.querySelector(".row-".concat(n));return null===i||void 0===i||i.scrollIntoView({block:"end",behavior:"smooth"}),null===i||void 0===i||null===(t=i.querySelector("input"))||void 0===t||t.focus(),[n]}))}else if("Delete"===e.key||"Backspace"===e.key){if(!D)return;var c=n.filter((function(e,t){return U.includes(t)}));null!==E&&void 0!==E&&E.current&&(null===E||void 0===E||E.current(c,e.key))}},children:[(0,r.jsxs)("div",{className:"table-frame-color",children:[(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",width:"".concat(c-10,"px        "),height:"".concat(d-135,"px")},className:"table-frame",children:(0,r.jsx)("div",{className:"table-panel",children:(0,r.jsxs)("div",{ref:H,className:"grid-container ",tabIndex:-1,children:[(0,r.jsx)("div",{className:"grid-row grid-header",style:{position:"sticky",zIndex:"10",top:"-1px",background:"white"},children:F.map((function(e,t){return(0,r.jsxs)("div",{className:"grid-cell header-cell ".concat(P===t?"highlight-column":"","\n                      \n                      "),style:{width:e.width,height:"20px",textAlign:"number"===e.type?"center":"left"},children:[(0,r.jsx)("input",{style:{fontWeight:"bold"},defaultValue:e.headerName,readOnly:!0,onChange:function(e){}}),(0,r.jsx)("div",{className:"resize-handle",onMouseDown:function(e){return Q(t,e)},onMouseEnter:function(e){e.preventDefault(),X(t)},onMouseLeave:function(e){e.preventDefault(),$()}})]},t)}))}),n.map((function(e,t){return(0,r.jsx)("div",{className:"grid-row row-".concat(t),onClick:function(e){return function(e,t){if(h)if(t.shiftKey&&null!==q){for(var a=Math.min(q,e),o=Math.max(q,e),r=[],l=a;l<=o;l++)U.includes(l)||r.push(l);var c=[].concat((0,i.Z)(G),r);K([].concat((0,i.Z)(U),r));var d=function(e){var t=e.map((function(e,t){return w(e)?null:{idx:t,data:e}})).filter((function(e){return null!==e})),n=t.map((function(e){return e.data}));return{newSelectedRowsFiltered:t.map((function(e){return e.idx})),data:n}}(n.filter((function(e,t){return c.includes(t)}))),s=d.newSelectedRowsFiltered,u=d.data;J(s),S.current(u)}else if(t.ctrlKey||t.metaKey)if(U.includes(e)&&!x){K(U.filter((function(t){return t!==e}))),J((function(t){return t=t.filter((function(t){return t!==e})),t}));var p=G.filter((function(t){return t!==e})),f=n.filter((function(e,t){return p.includes(t)}));J(p),S.current(f)}else{K([].concat((0,i.Z)(U),[e])),J((function(t){return t.push(e),t}));var m=[].concat((0,i.Z)(G),[e]),g=n.filter((function(e,t){return m.includes(t)}));J(m),S.current(g)}else K([e]);else K([e]);V(e)}(t,e)},onDoubleClick:function(e){return function(e,t){var a=n[e];if(!w(a)&&D){var o=[];if(!G.includes(e)||x){o=h?[].concat((0,i.Z)(G),[e]):[e],J(o);var r=n.filter((function(e,t){return o.includes(t)}));S.current(r)}else{o=G.filter((function(t){return t!==e})),J(o);var l=n.filter((function(e,t){return o.includes(t)}));S.current(l)}}}(t)},children:F.map((function(n,i){return(0,r.jsxs)("div",{style:{width:n.width},className:"grid-cell ".concat(P===i?"highlight-column":""),children:[(0,r.jsx)("input",{value:e[n.field],onChange:function(e){},readOnly:s,className:"".concat(U.includes(t)?"selected-row":""," ").concat(G.includes(t)?"selected-items":"","\n                          ").concat("number"===n.type?"number":"text","\n                          ")}),(0,r.jsx)("div",{className:"resize-handle",onMouseDown:function(e){e.preventDefault(),Q(i,e)},onMouseEnter:function(e){e.preventDefault(),X(i)},onMouseLeave:function(e){e.preventDefault(),$()}})]},i)}))},t)}))]})})}),j(n)?(0,r.jsx)(r.Fragment,{children:j(n)}):(0,r.jsxs)("div",{className:"table-panel-footer",children:["Records : ",n.length]})]}),I&&(0,r.jsx)("div",{className:"table-loading",children:(0,r.jsx)("div",{className:"loader",children:(0,r.jsx)("img",{alt:"loader-gif",src:"//image/loading.gif"})})})]})}))},51861:function(e,t,n){n.r(t),n.d(t,{default:function(){return J},reducer:function(){return Y}});var i=n(93433),a=n(74165),o=n(15861),r=n(29439),l=n(4942),c=n(1413),d=n(72791),s=n(27391),u=n(36151),p=n(68096),f=n(94925),h=n(77196),m=n(63466),x=n(13400),g=n(58406),v=n(23786),b=n(88447),y=n(64554),D=n(20890),N=n(85523),w=n(94454),C=n(13784),j=n(39709),Z=n(42419),I=n(29823),S=n(21830),E=n.n(S),k=n(3380),T=n(86753),F=n(91933),A=n(56580),L=n(93263),z=n(79018),P=n(84669),M=n(71652),_=n(93862),R=n(93777),U=n(95643),K=n(5519);var B=n(64230),O=n(54164),q=n(93346),V=n(80184),W={sub_refNo:"",refNo:"",dateEntry:new Date,explanation:"",particulars:"",code:"",acctName:"",subAcct:"",subAcctName:"",IDNo:"",ClientName:"",address:"",credit:"",debit:"",checkNo:"",checkDate:new Date,TC_Code:"",TC_Desc:"",remarks:"",Payto:"",vatType:"NON-VAT",invoice:"",BranchCode:"HO",totalDebit:"",totalCredit:"",totalBalance:"",jobAutoExp:!1,jobTransactionDate:new Date,jobType:"",search:"",cashMode:""},Y=function(e,t){return"UPDATE_FIELD"===t.type?(0,c.Z)((0,c.Z)({},e),{},(0,l.Z)({},t.field,t.value)):e},G=[{field:"code",headerName:"Code",width:150},{field:"acctName",headerName:"Account Name",width:300},{field:"subAcctName",headerName:"Sub Account",width:170},{field:"ClientName",headerName:"Name",width:300},{field:"debit",headerName:"Debit",width:80},{field:"credit",headerName:"Credit",width:100},{field:"checkNo",headerName:"Check No",width:80},{field:"checkDate",headerName:"Check Date",width:100},{field:"TC_Code",headerName:"TC",width:100},{field:"remarks",headerName:"Remarks",width:300},{field:"Payto",headerName:"Payto",width:300},{field:"vatType",headerName:"Vat Type",width:100},{field:"invoice",headerName:"Invoice",width:200},{field:"TempID",headerName:"TempId",hide:!0},{field:"IDNo",headerName:"I.D.",width:300,hide:!0},{field:"BranchCode",headerName:"BranchCode",width:300,hide:!0},{field:"addres",headerName:"addres",hide:!0}];function J(){var e,t,n,l,S,J=(0,d.useContext)(k.V),Q=J.myAxios,X=J.user,$=(0,d.useReducer)(Y,W),ee=(0,r.Z)($,2),te=ee[0],ne=ee[1],ie=(0,d.useState)(!1),ae=(0,r.Z)(ie,2),oe=ae[0],re=ae[1],le=(0,d.useState)(!1),ce=(0,r.Z)(le,2),de=ce[0],se=ce[1],ue=(0,d.useState)(!1),pe=(0,r.Z)(ue,2),fe=pe[0],he=pe[1],me=(0,d.useState)({edit:!1,updateId:""}),xe=(0,r.Z)(me,2),ge=xe[0],ve=xe[1],be=(0,d.useState)([]),ye=(0,r.Z)(be,2),De=ye[0],Ne=ye[1],we=(0,F.useQueryClient)(),Ce=(0,d.useRef)(null),je=(0,d.useRef)(null),Ze=(0,d.useRef)(null),Ie=(0,d.useRef)(null),Se=(0,d.useRef)(null),Ee=(0,d.useRef)(null),ke=(0,d.useRef)(null),Te=(0,d.useRef)(null),Fe=(0,d.useRef)(null),Ae=(0,d.useRef)(null),Le=(0,d.useRef)(null),ze=(0,d.useRef)(null),Pe=(0,d.useRef)(null),Me=(0,d.useRef)(null),_e=(0,F.useQuery)({queryKey:"general-journal-id-generator",queryFn:function(){return(e=e||(0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.get("/task/accounting/cash-disbursement/generate-id",{headers:{Authorization:"Bearer ".concat(null===X||void 0===X?void 0:X.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},refetchOnWindowFocus:!1,onSuccess:function(e){var t=e;ne({type:"UPDATE_FIELD",field:"refNo",value:t.data.generatedId[0].id}),ne({type:"UPDATE_FIELD",field:"sub_refNo",value:t.data.generatedId[0].id})}}),Re=_e.isLoading,Ue=_e.refetch,Ke=(0,F.useMutation)({mutationKey:"add-cash-disbursement",mutationFn:function(e){return(t=t||(0,o.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.post("/task/accounting/cash-disbursement/add-cash-disbursement",t,{headers:{Authorization:"Bearer ".concat(null===X||void 0===X?void 0:X.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;return t.data.success?(we.invalidateQueries("search-general-journal"),he(!1),H(ne,W),Ue(),Ne([]),ve({edit:!1,updateId:""}),E().fire({position:"center",icon:"success",title:t.data.message,timer:1500})):E().fire({position:"center",icon:"warning",title:t.data.message,timer:1500})}}),Be=Ke.mutate,Oe=Ke.isLoading,qe=(0,F.useMutation)({mutationKey:"jobs",mutationFn:function(e){return(n=n||(0,o.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.post("/task/accounting/general-journal/jobs",t,{headers:{Authorization:"Bearer ".concat(null===X||void 0===X?void 0:X.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;Ne([]),Ne(t.data.jobs),re(!1)}}),Ve=qe.mutate,We=qe.isLoading,Ye=(0,F.useMutation)({mutationKey:"void-cash-disbursement",mutationFn:function(e){return(l=l||(0,o.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.post("/task/accounting/cash-disbursement/void-cash-disbursement",t,{headers:{Authorization:"Bearer ".concat(null===X||void 0===X?void 0:X.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;return t.data.success?(we.invalidateQueries("search-general-journal"),he(!1),H(ne,W),Ue(),Ne([]),ve({edit:!1,updateId:""}),E().fire({position:"center",icon:"success",title:t.data.message,timer:1500})):E().fire({position:"center",icon:"warning",title:t.data.message,timer:1500})}}),Ge=Ye.mutate,Je=Ye.isLoading,He=(0,F.useMutation)({mutationKey:"get-selected-search-general-journal",mutationFn:function(e){return(S=S||(0,o.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.post("/task/accounting/cash-disbursement/get-selected-search-cash-disbursement",t,{headers:{Authorization:"Bearer ".concat(null===X||void 0===X?void 0:X.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e.data.selectedCashDisbursement,n=t[0],i=n.explanation,a=n.dateEntry,o=n.refNo,r=n.particulars;ne({type:"UPDATE_FIELD",field:"sub_refNo",value:o}),ne({type:"UPDATE_FIELD",field:"refNo",value:o}),ne({type:"UPDATE_FIELD",field:"dateEntry",value:a}),ne({type:"UPDATE_FIELD",field:"explanation",value:i}),ne({type:"UPDATE_FIELD",field:"particulars",value:r}),Ne(t),he(!0)}}),Qe=He.mutate,Xe=He.isLoading,$e=(0,L.Z)({link:{url:"/task/accounting/cash-disbursement/search-cash-disbursement",queryUrlName:"searchCashDisbursement"},columns:[{field:"Date_Entry",headerName:"Date",width:130},{field:"Source_No",headerName:"Ref No.",width:250},{field:"Explanation",headerName:"Explanation",flex:1}],queryKey:"search-cash-disbursement",uniqueId:"Source_No",responseDataKey:"search",onSelected:function(e,t){Qe({Source_No:e[0].Source_No}),bt({target:{value:"edit",name:"cashMode"}}),Ne([]),ve({edit:!1,updateId:""}),it()},onCloseFunction:function(e){ne({type:"UPDATE_FIELD",field:"search",value:e})},searchRef:Le}),et=$e.ModalComponent,tt=$e.openModal,nt=$e.isLoading,it=$e.closeModal,at=(0,L.Z)({link:{url:"/task/accounting/general-journal/get-chart-account",queryUrlName:"chartAccountSearch"},columns:[{field:"Acct_Code",headerName:"Account Code",width:130},{field:"Acct_Title",headerName:"Account Title.",width:250},{field:"Short",headerName:"Short",flex:1}],queryKey:"get-chart-account",uniqueId:"Acct_Code",responseDataKey:"getChartOfAccount",onSelected:function(e,t){ne({type:"UPDATE_FIELD",field:"code",value:e[0].Acct_Code}),ne({type:"UPDATE_FIELD",field:"acctName",value:e[0].Acct_Title}),ct(),setTimeout((function(){var e;null===(e=Ee.current)||void 0===e||e.focus()}),250)},searchRef:Le}),ot=at.ModalComponent,rt=at.openModal,lt=at.isLoading,ct=at.closeModal,dt=(0,L.Z)({link:{url:"/task/accounting/search-pdc-policy-id",queryUrlName:"searchPdcPolicyIds"},columns:[{field:"Type",headerName:"Type",width:130},{field:"IDNo",headerName:"ID No.",width:200},{field:"Name",headerName:"Name",flex:1},{field:"ID",headerName:"ID",hide:!0}],queryKey:"get-policyId-ClientId-RefId",uniqueId:"IDNo",responseDataKey:"clientsId",onSelected:function(e){de?(ne({type:"UPDATE_FIELD",field:"Payto",value:e[0].Name}),ft(),setTimeout((function(){var e;null===(e=Te.current)||void 0===e||e.focus()}),200)):(ne({type:"UPDATE_FIELD",field:"ClientName",value:e[0].Name}),ne({type:"UPDATE_FIELD",field:"IDNo",value:e[0].IDNo}),ne({type:"UPDATE_FIELD",field:"subAcct",value:e[0].sub_account}),ne({type:"UPDATE_FIELD",field:"subAcctName",value:e[0].ShortName}),ne({type:"UPDATE_FIELD",field:"address",value:e[0].address}),ft(),setTimeout((function(){var e;null===(e=Fe.current)||void 0===e||e.focus()}),200))},searchRef:ze}),st=dt.ModalComponent,ut=dt.openModal,pt=dt.isLoading,ft=dt.closeModal,ht=(0,L.Z)({link:{url:"/task/accounting/general-journal/get-transaction-account",queryUrlName:"transactionCodeSearch"},columns:[{field:"Code",headerName:"Code",width:130},{field:"Description",headerName:"Description",flex:1}],queryKey:"get-transaction-account",uniqueId:"Code",responseDataKey:"getTransactionAccount",onSelected:function(e){ne({type:"UPDATE_FIELD",field:"TC_Code",value:e[0].Code}),ne({type:"UPDATE_FIELD",field:"TC_Desc",value:e[0].Description}),vt(),setTimeout((function(){var e;null===(e=Ae.current)||void 0===e||e.focus()}),250)},searchRef:ze}),mt=ht.ModalComponent,xt=ht.openModal,gt=ht.isLoading,vt=ht.closeModal;(0,d.useEffect)((function(){var e=De.reduce((function(e,t){return e+parseFloat(t.debit.replace(/,/g,""))}),0),t=De.reduce((function(e,t){return e+parseFloat(t.credit.replace(/,/g,""))}),0);ne({type:"UPDATE_FIELD",field:"totalDebit",value:e.toFixed(2)}),ne({type:"UPDATE_FIELD",field:"totalCredit",value:t.toFixed(2)}),ne({type:"UPDATE_FIELD",field:"totalBalance",value:(e-t).toFixed(2)})}),[De]);var bt=function(e){var t=e.target,n=t.name,i=t.value;ne({type:"UPDATE_FIELD",field:n,value:i})};function yt(){return""===te.refNo?E().fire({position:"center",icon:"warning",title:"Please provide reference number!",timer:1500}):""===te.explanation?E().fire({position:"center",icon:"warning",title:"Please provide explanation!",timer:1500}).then((function(){(0,z.D)(300).then((function(){var e;null===(e=Ie.current)||void 0===e||e.focus()}))})):""===te.totalDebit&&""===te.totalCredit||"0.00"===te.totalDebit&&"0.00"===te.totalCredit?E().fire({position:"center",icon:"warning",title:"Total Debit and Credit amount must not be zero(0), please double check the entries",timer:1500}).then((function(){(0,z.D)(300).then((function(){}))})):te.totalDebit!==te.totalCredit?E().fire({position:"center",icon:"warning",title:"Total Debit and Credit amount must be balance, please double check the entries",timer:1500}).then((function(){(0,z.D)(300).then((function(){}))})):void("edit"===te.cashMode?(0,B.s)({isUpdate:!0,cb:function(e){Be({hasSelected:fe,refNo:te.refNo,dateEntry:te.dateEntry,explanation:te.explanation,particulars:te.particulars,cashDisbursement:De,userCodeConfirmation:e})}}):(0,B.L)({isConfirm:function(){Be({hasSelected:fe,refNo:te.refNo,dateEntry:te.dateEntry,explanation:te.explanation,particulars:te.particulars,cashDisbursement:De})}}))}function Dt(){if(isNaN(parseFloat(te.credit))&&(te.credit="0.00"),isNaN(parseFloat(te.debit))&&(te.debit="0.00"),""===te.code||""===te.acctName)return rt(te.code);if(""===te.subAcctName||""===te.ClientName)return ut(te.ClientName);if(te.credit===te.debit)return E().fire({position:"center",icon:"warning",title:"The values for credit and debit must be different",timer:1500});if("1.01.10"===te.code&&""===te.checkNo)return E().fire({position:"center",icon:"warning",title:"Check No. is Required!",timer:1500});if(""===te.TC_Code)return xt(te.TC_Code);if(""===te.Payto&&"1.01.10"===te.code)return se(!0),ut(te.Payto);if(te.code.length>=200)return E().fire({position:"center",icon:"warning",title:"Code is too long!",timer:1500});if(te.ClientName.length>=200)return E().fire({position:"center",icon:"warning",title:"Client Name is too long!",timer:1500});if(te.debit.length>=200)return E().fire({position:"center",icon:"warning",title:"Debit is too long!",timer:1500});if(te.credit.length>=200)return E().fire({position:"center",icon:"warning",title:"Credit is too long!",timer:1500});if(te.checkNo.length>=200)return E().fire({position:"center",icon:"warning",title:"Check No is too long!",timer:1500});if(te.TC_Code.length>=200)return E().fire({position:"center",icon:"warning",title:"TC is too long!",timer:1500});if(te.Payto.length>=200)return E().fire({position:"center",icon:"warning",title:"Pay to is too long!",timer:1500});if(te.invoice.length>=200)return E().fire({position:"center",icon:"warning",title:"Invoice is too long!",timer:1500});function e(e){var t=e.length?e[e.length-1].TempID:"000";return(parseInt(t.toString().match(/\d+/)[0])+1).toString().padStart(3,"0")}E().fire({title:ge.edit?"Are you sure you want to update row?":"Are you sure you want to add new row?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:ge.edit?"Yes, update it!":"Yes Add it"}).then((function(t){if(t.isConfirmed){Ne((function(t){if("1.01.10"===te.code?te.checkDate=function(e){var t=new Date(e),n=("0"+t.getDate()).slice(-2);return("0"+(t.getMonth()+1)).slice(-2)+"/"+n+"/"+t.getFullYear()}(te.checkDate):te.checkDate="","VAT"===te.vatType&&"1.06.02"!==te.code){var n;0!==parseFloat(te.debit.replace(/,/g,""))?(n=parseFloat(te.debit.replace(/,/g,""))/1.12,te.debit=n.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})):(n=parseFloat(te.credit.replace(/,/g,""))/1.12,te.credit=n.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),t=ge.edit?t.map((function(e){return ge.updateId===e.TempID&&(e=(0,c.Z)((0,c.Z)({},e),te)),e})):[].concat((0,i.Z)(t),[(0,c.Z)((0,c.Z)({},te),{},{TempID:e(t)})]);var a=.12*n;0!==parseFloat(te.debit.replace(/,/g,""))?te.debit=a.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):te.credit=a.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),t=[].concat((0,i.Z)(t),[(0,c.Z)((0,c.Z)({},te),{},{code:"1.06.02",acctName:"Input Tax",TempID:e(t)})])}else{var o=parseFloat(te.credit.replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),r=parseFloat(te.debit.replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});if(te.credit=o,te.debit=r,ge.edit)return t.map((function(e){return ge.updateId===e.TempID&&(e=(0,c.Z)((0,c.Z)({},e),te)),e}));t=[].concat((0,i.Z)(t),[(0,c.Z)((0,c.Z)({},te),{},{TempID:e(t)})])}return t}));var n={code:"",acctName:"",subAcct:"",subAcctName:"",IDNo:"",ClientName:"",credit:"",debit:"",TC_Code:"",TC_Desc:"",remarks:"",vatType:"NON-VAT",invoice:"",address:"",checkNo:"",checkDate:new Date};H(ne,(0,c.Z)((0,c.Z)({},te),n)),ve({edit:!1,updateId:""}),(0,z.D)(300).then((function(){var e;null===(e=Pe.current)||void 0===e||e.focus()}))}}))}var Nt,wt=""===te.cashMode,Ct=window.innerWidth-70,jt=window.innerHeight-225;return(0,V.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",flex:1,padding:"10px"},children:[(0,V.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"5px"},children:[(0,V.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"5px"},children:[nt?(0,V.jsx)(j.Z,{loading:nt}):(0,V.jsx)(s.Z,{label:"Search",size:"small",name:"search",value:te.search,onChange:bt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),tt(e.target.value);"ArrowDown"===e.key&&(e.preventDefault(),document.querySelector(".grid-container").focus())},InputProps:{style:{height:"27px",fontSize:"14px"},className:"manok"},sx:{width:"300px",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),""===te.cashMode&&(0,V.jsx)(u.Z,{sx:{height:"30px",fontSize:"11px"},variant:"contained",startIcon:(0,V.jsx)(Z.Z,{sx:{width:15,height:15}}),id:"entry-header-save-button",onClick:function(){bt({target:{value:"add",name:"cashMode"}})},color:"primary",children:"New"}),(0,V.jsx)(j.Z,{sx:{height:"30px",fontSize:"11px"},loading:Oe,disabled:""===te.cashMode,onClick:yt,color:"success",variant:"contained",children:"Save"}),""!==te.cashMode&&(0,V.jsx)(j.Z,{sx:{height:"30px",fontSize:"11px"},variant:"contained",startIcon:(0,V.jsx)(I.Z,{sx:{width:15,height:15}}),color:"error",onClick:function(){E().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&(Ue(),bt({target:{value:"",name:"cashMode"}}),H(ne,W),Ne([]),ve({edit:!1,updateId:""}))}))},disabled:""===te.cashMode,children:"Cancel"}),(0,V.jsx)(j.Z,{sx:{height:"30px",fontSize:"11px",background:U.Z[500],":hover":{background:U.Z[600]}},onClick:function(){(0,B.s)({isUpdate:!1,text:"Are you sure you want to void ".concat(te.refNo),cb:function(e){Ge({refNo:te.refNo,dateEntry:te.dateEntry,userCodeConfirmation:e})}})},loading:Je,disabled:"edit"!==te.cashMode,variant:"contained",startIcon:(0,V.jsx)(P.Z,{sx:{width:20,height:20}}),children:"Void"}),(0,V.jsx)(u.Z,{disabled:"edit"!==te.cashMode,id:"basic-button","aria-haspopup":"true",onClick:function(){(0,O.flushSync)((function(){localStorage.removeItem("printString"),localStorage.setItem("dataString",JSON.stringify(De)),localStorage.setItem("paper-width","8.5in"),localStorage.setItem("paper-height","11in"),localStorage.setItem("module","cash-disbursement"),localStorage.setItem("state",JSON.stringify(te)),localStorage.setItem("column",JSON.stringify([{datakey:"acctName",header:"ACCOUNT",width:"200px"},{datakey:"subAcctName",header:"SUB-ACCOUNT",width:"100px"},{datakey:"ClientName",header:"IDENTITY",width:"200px"},{datakey:"debit",header:"DEBIT",width:"100px"},{datakey:"credit",header:"CREDIT",width:"100px"}])),localStorage.setItem("title","UMIS"===(null===X||void 0===X?void 0:X.department)?"UPWARD MANAGEMENT INSURANCE SERVICES\n":"UPWARD CONSULTANCY SERVICES AND MANAGEMENT INC.\n")})),window.open("/dashboard/print","_blank")},sx:{height:"30px",fontSize:"11px",color:"white",backgroundColor:K.Z[600],"&:hover":{backgroundColor:K.Z[700]}},children:"Print"})]}),(0,V.jsxs)("div",{style:{fontSize:"13px",border:"1px solid #d4d4d8",width:"100%",display:"flex",columnGap:"50px",height:"30px",alignItems:"center",justifyContent:"center"},children:[(0,V.jsxs)("p",{children:[(0,V.jsx)("span",{children:"Total Rows:"})," ",(0,V.jsx)("strong",{children:De.length})]}),(0,V.jsxs)("p",{children:[(0,V.jsx)("span",{children:"Total Debit:"})," ",(0,V.jsx)("strong",{children:te.totalDebit})]}),(0,V.jsxs)("p",{children:[(0,V.jsx)("span",{children:"Total Credit:"})," ",(0,V.jsx)("strong",{children:te.totalCredit})]}),(0,V.jsxs)("p",{children:[(0,V.jsx)("span",{children:"Balance:"})," ",(0,V.jsx)("strong",{style:{color:parseFloat(te.totalBalance.replace(/,/g,""))>0?"red":"black"},children:te.totalBalance})]})]})]}),(0,V.jsxs)("div",{style:{padding:"0px 10px"},children:[(0,V.jsxs)("fieldset",{style:{border:"1px solid #cbd5e1",borderRadius:"5px",position:"relative",width:"100%",height:"auto",display:"flex",marginTop:"10px",gap:"10px",padding:"15px"},children:[Re?(0,V.jsx)(j.Z,{loading:Re}):(0,V.jsxs)(p.Z,{variant:"outlined",size:"small",disabled:wt,sx:{width:"140px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,V.jsx)(f.Z,{htmlFor:"return-check-id-field",children:"Reference CV-"}),(0,V.jsx)(h.Z,{sx:{height:"27px",fontSize:"14px"},disabled:wt,fullWidth:!0,label:"Reference CV-",name:"refNo",value:te.refNo,onChange:bt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),yt()},readOnly:"UCSMI"!==(null===X||void 0===X?void 0:X.department),id:"return-check-id-field",endAdornment:(0,V.jsx)(m.Z,{position:"end",children:(0,V.jsx)(x.Z,{ref:Ze,disabled:wt,"aria-label":"search-client",color:"secondary",edge:"end",onClick:function(){Ue()},children:(0,V.jsx)(T.Z,{})})})})]}),(0,V.jsx)(C.Z,{fullWidth:!1,disabled:wt,label:"Date",onChange:function(e){ne({type:"UPDATE_FIELD",field:"dateEntry",value:e})},value:new Date(te.dateEntry),onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)var t=setTimeout((function(){var e,n;null===(e=Ce.current)||void 0===e||null===(n=e.querySelector("button"))||void 0===n||n.click(),clearTimeout(t)}),150)},datePickerRef:Ce,textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px",width:"150px"}}}}),(0,V.jsx)(s.Z,{disabled:wt,label:"Explanation",size:"small",name:"explanation",value:te.explanation,onChange:bt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),yt()},inputRef:Ie,InputProps:{style:{height:"27px",fontSize:"14px"}},sx:{flex:1,height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,V.jsx)(s.Z,{disabled:wt,label:"Particulars",size:"small",name:"particulars",value:te.particulars,onChange:bt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),yt()},inputRef:Se,InputProps:{style:{height:"27px",fontSize:"14px"}},sx:{flex:1,height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}})]}),(0,V.jsxs)("fieldset",{style:{border:"1px solid #cbd5e1",borderRadius:"5px",position:"relative",width:"100%",height:"auto",marginTop:"10px",padding:"15px"},children:[(0,V.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[lt?(0,V.jsx)(j.Z,{loading:lt}):(0,V.jsxs)(p.Z,{variant:"outlined",size:"small",disabled:wt,sx:{width:"130px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,V.jsx)(f.Z,{htmlFor:"chart-account-id",children:"Code"}),(0,V.jsx)(h.Z,{sx:{height:"27px",fontSize:"14px"},readOnly:!0,disabled:wt,fullWidth:!0,label:"Code",name:"code",inputRef:Pe,value:te.code,onChange:bt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),rt(te.code)},id:"chart-account-id",endAdornment:(0,V.jsx)(m.Z,{position:"end",children:(0,V.jsx)(x.Z,{ref:Ze,disabled:wt,"aria-label":"search-client",color:"secondary",edge:"end",onClick:function(){rt(te.code)},children:(0,V.jsx)(T.Z,{})})})})]}),(0,V.jsx)(s.Z,{disabled:wt,label:"Account Name",size:"small",name:"acctName",value:te.acctName,onChange:bt,onKeyDown:function(e){return"Enter"===e.code||"NumpadEnter"===e.code&&""!==te.acctName?(e.preventDefault(),Dt()):"Enter"===e.code||"NumpadEnter"===e.code&&""===te.acctName?(e.preventDefault(),rt(te.code)):void 0},InputProps:{style:{height:"27px",fontSize:"14px"}},sx:{flex:1,".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,V.jsx)(s.Z,{disabled:wt,label:"Sub Account",size:"small",name:"subAcctName",value:te.subAcctName,onChange:bt,onKeyDown:function(e){return"Enter"===e.code||"NumpadEnter"===e.code&&""!==te.subAcctName?(e.preventDefault(),Dt()):"Enter"===e.code||"NumpadEnter"===e.code&&""===te.subAcctName?(e.preventDefault(),ut(te.ClientName)):void 0},InputProps:{style:{height:"27px",fontSize:"14px"}},sx:{width:"150px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),pt?(0,V.jsx)(j.Z,{loading:pt}):(0,V.jsxs)(p.Z,{variant:"outlined",size:"small",disabled:wt,sx:{width:"300px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,V.jsx)(f.Z,{htmlFor:"policy-client-ref-id",children:"I.D"}),(0,V.jsx)(h.Z,{readOnly:!0,sx:{height:"27px",fontSize:"14px"},inputRef:Ee,disabled:wt,fullWidth:!0,label:"I.D",name:"ClientName",value:te.ClientName,onChange:bt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),se(!1),ut(te.ClientName)},id:"policy-client-ref-id",endAdornment:(0,V.jsx)(m.Z,{position:"end",children:(0,V.jsx)(x.Z,{ref:Ze,disabled:wt,"aria-label":"search-client",color:"secondary",edge:"end",onClick:function(){ut(te.ClientName)},children:(0,V.jsx)(T.Z,{})})})})]}),(0,V.jsx)(s.Z,{disabled:wt,label:"Debit",size:"small",name:"debit",value:te.debit,onChange:bt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),Dt()},onBlur:function(e){e.preventDefault();var t="0";isNaN(parseFloat(te.debit))||(t=te.debit),ne({type:"UPDATE_FIELD",field:"debit",value:parseFloat(t.toString().replace(/,/g,"")).toFixed(2)})},InputProps:{inputComponent:A.a,inputRef:Fe,style:{height:"27px",fontSize:"14px"}},sx:{width:"160px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,V.jsx)(s.Z,{disabled:wt,label:"Credit",size:"small",name:"credit",value:te.credit,onChange:bt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),Dt()},onFocus:function(e){e.preventDefault(),"1.01.10"===te.code&&ne({type:"UPDATE_FIELD",field:"credit",value:te.totalBalance})},onBlur:function(e){e.preventDefault();var t="0";isNaN(parseFloat(te.credit))||(t=te.credit),ne({type:"UPDATE_FIELD",field:"credit",value:parseFloat(t.toString().replace(/,/g,"")).toFixed(2)})},InputProps:{inputComponent:A.a,style:{height:"27px",fontSize:"14px"}},sx:{width:"160px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,V.jsx)(s.Z,{disabled:wt||"1.01.10"!==te.code,label:"Check No",size:"small",name:"checkNo",value:te.checkNo,onChange:bt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),Dt()},InputProps:{style:{height:"27px",fontSize:"14px"}},sx:{width:"160px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}})]}),(0,V.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:["1.01.10"===te.code?(0,V.jsx)(C.Z,{fullWidth:!1,disabled:wt||"1.01.10"!==te.code,label:"Check Date",onChange:function(e){ne({type:"UPDATE_FIELD",field:"checkDate",value:e})},value:te.checkDate,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)var t=setTimeout((function(){var e,n;null===(e=je.current)||void 0===e||null===(n=e.querySelector("button"))||void 0===n||n.click(),clearTimeout(t)}),150)},datePickerRef:je,textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px",width:"150px"}}}}):(0,V.jsx)(s.Z,{disabled:wt||"1.01.10"!==te.code,label:"Check Date",size:"small",name:"checkDate",InputProps:{style:{height:"27px",fontSize:"14px"}},sx:{width:"160px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),gt?(0,V.jsx)(j.Z,{loading:gt}):(0,V.jsxs)(p.Z,{variant:"outlined",size:"small",disabled:wt,sx:{width:"130px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,V.jsx)(f.Z,{htmlFor:"tc",children:"TC"}),(0,V.jsx)(h.Z,{sx:{height:"27px",fontSize:"14px"},readOnly:!0,fullWidth:!0,label:"TC",name:"TC_Code",value:te.TC_Code,onChange:bt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),xt(te.TC_Code)},id:"tc",endAdornment:(0,V.jsx)(m.Z,{position:"end",children:(0,V.jsx)(x.Z,{ref:Ze,disabled:wt,"aria-label":"search-client",color:"secondary",edge:"end",onClick:function(){xt(te.TC_Code)},children:(0,V.jsx)(T.Z,{})})})})]}),(0,V.jsx)(s.Z,{disabled:wt,label:"Remarks",size:"small",name:"remarks",value:te.remarks,onChange:bt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),Dt()},InputProps:{style:{height:"27px",fontSize:"14px"},inputRef:Ae},sx:{flex:1,".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),"1.01.10"!==te.code&&(0,V.jsx)(s.Z,{disabled:wt,label:"Payto",size:"small",name:"Payto",value:te.Payto,onChange:bt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),Dt()},InputProps:{readOnly:!0,style:{height:"27px",fontSize:"14px"}},sx:{width:"160px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),"1.01.10"===te.code&&(0,V.jsx)(V.Fragment,{children:pt?(0,V.jsx)(j.Z,{loading:pt}):(0,V.jsxs)(p.Z,{variant:"outlined",size:"small",disabled:wt,sx:{width:"300px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,V.jsx)(f.Z,{htmlFor:"policy-client-Payto",children:"Payto"}),(0,V.jsx)(h.Z,{readOnly:!0,sx:{height:"27px",fontSize:"14px"},inputRef:ke,disabled:wt,fullWidth:!0,label:"Payto",name:"Payto",value:te.Payto,onChange:bt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),se(!0),ut(te.Payto)},id:"policy-client-Payto",endAdornment:(0,V.jsx)(m.Z,{position:"end",children:(0,V.jsx)(x.Z,{ref:Ze,disabled:wt,color:"secondary",edge:"end",onClick:function(){ut(te.Payto)},children:(0,V.jsx)(T.Z,{})})})})]})}),(0,V.jsxs)(p.Z,{size:"small",variant:"outlined",sx:{width:"120px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,V.jsx)(f.Z,{id:"label-selection-reason",children:"Vat Type"}),(0,V.jsxs)(g.Z,{labelId:"label-selection-reason",value:te.vatType,name:"vatType",onChange:bt,autoWidth:!0,sx:{height:"27px",fontSize:"14px"},inputRef:Te,disabled:wt,children:[(0,V.jsx)(v.Z,{value:"VAT",children:"VAT"}),(0,V.jsx)(v.Z,{value:"NON-VAT",children:"NON-VAT"})]})]}),(0,V.jsx)(s.Z,{disabled:wt,label:"OR/Invoice No.",size:"small",name:"invoice",value:te.invoice,onChange:bt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),Dt()},InputProps:{style:{height:"27px",fontSize:"14px"}},sx:{width:"200px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}})]}),(0,V.jsx)(u.Z,{disabled:wt,sx:{height:"25px",fontSize:"11px",marginTop:"10px"},variant:"contained",id:"entry-header-save-button",onClick:function(){Dt()},color:"success",children:"submit"})]})]}),(0,V.jsx)("br",{}),(0,V.jsx)(q.Z,{ref:Me,rows:(Nt=De,Nt.map((function(e){return e.debit=parseFloat(e.debit.toString().replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),e.credit=parseFloat(e.credit.toString().replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),e}))),column:G,width:Ct,height:jt,dataReadOnly:!0,onSelectionChange:function(e){if(e.length>0){var t=e[0];H(ne,(0,c.Z)((0,c.Z)({},t),{},{checkDate:new Date(t.checkDate),sub_refNo:te.sub_refNo,refNo:te.refNo,dateEntry:te.dateEntry,explanation:te.explanation,particulars:te.particulars,totalDebit:te.totalDebit,totalCredit:te.totalCredit,totalBalance:te.totalBalance})),ve({edit:!0,updateId:t.TempID})}else{var n={code:"",acctName:"",subAcct:"",subAcctName:"",IDNo:"",ClientName:"",credit:"",debit:"",TC_Code:"",TC_Desc:"",remarks:"",vatType:"NON-VAT",invoice:"",checkNo:"",checkDate:new Date};H(ne,(0,c.Z)((0,c.Z)({},te),n)),ve({edit:!1,updateId:""})}},onKeyDown:function(e,t){"Delete"!==t&&"Backspace"!==t||E().fire({title:"Are you sure you want to delete?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){if(t.isConfirmed)return Ne((function(t){return t.filter((function(t){return t.TempID!==e[0].TempID}))}))}))},inputsearchselector:".manok",isLoading:Oe||Xe||We}),(0,V.jsx)(b.Z,{open:oe,onClose:function(){return re(!1)},children:(0,V.jsxs)(y.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:470,bgcolor:"background.paper",p:4},children:[(0,V.jsx)(x.Z,{style:{position:"absolute",top:"10px",right:"10px"},"aria-label":"search-client",onClick:function(){return re(!1)},children:(0,V.jsx)(I.Z,{})}),(0,V.jsx)(D.Z,{id:"modal-modal-title",variant:"h6",component:"h2",sx:{marginBottom:"20px"},children:"Jobs"}),(0,V.jsxs)("div",{style:{width:"400px"},children:[(0,V.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"10px",justifyContent:"space-between",alignItems:"center"},children:[(0,V.jsx)(M._,{dateAdapter:_.H,children:(0,V.jsx)(R.M,{sx:{width:"200px",".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},slotProps:{textField:{size:"small",name:"",InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}}},label:"Transaction Date: ",views:["month","year"],value:te.jobTransactionDate,onChange:function(e){ne({type:"UPDATE_FIELD",field:"jobTransactionDate",value:e})}})}),(0,V.jsx)(N.Z,{sx:{height:"30px","& .MuiTypography-root":{fontSize:"14px"}},control:(0,V.jsx)(w.Z,{size:"small",checked:te.jobAutoExp,onChange:function(e){ne({type:"UPDATE_FIELD",field:"jobAutoExp",value:!te.jobAutoExp})}}),label:"Auto Explanation"})]}),(0,V.jsxs)(p.Z,{fullWidth:!0,size:"small",variant:"outlined",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,V.jsx)(f.Z,{id:"label-selection-job-type",children:"Type of Job"}),(0,V.jsxs)(g.Z,{labelId:"label-selection-job-type",value:te.jobType,name:"jobType",onChange:bt,autoWidth:!0,sx:{height:"27px",fontSize:"14px"},children:[(0,V.jsx)(v.Z,{value:"",children:" "}),(0,V.jsx)(v.Z,{value:"0",children:"Reversal of Accrued Interest "}),(0,V.jsxs)(v.Z,{value:"1",children:[" ","Income Recognition & Accrual of Interest"]}),(0,V.jsx)(v.Z,{value:"2",children:"Penalty Charges"}),(0,V.jsx)(v.Z,{value:"3",children:"Penalty Income"}),(0,V.jsx)(v.Z,{value:"4",children:"RPT Transaction (NIL-HN)"}),(0,V.jsx)(v.Z,{value:"5",children:"RPT Transaction (AMIFIN)"}),(0,V.jsx)(v.Z,{value:"6",children:"RPT Income"}),(0,V.jsx)(v.Z,{value:"7",children:"Monthly Accrual Expenses"}),(0,V.jsx)(v.Z,{value:"8",children:"Monthly Accrual Income"}),(0,V.jsx)(v.Z,{value:"9",children:"Production (Milestone Guarantee)"}),(0,V.jsx)(v.Z,{value:"10",children:"Production (Liberty Insurance Co.)"}),(0,V.jsx)(v.Z,{value:"11",children:"Production (Federal Phoenix)"})]})]})]}),(0,V.jsxs)("div",{style:{display:"flex",columnGap:"30px",alignItems:"flex-end",marginTop:"20px"},children:[(0,V.jsx)(j.Z,{loading:We,color:"success",variant:"contained",onClick:function(){return Ve(te)},children:"Create Job"}),(0,V.jsx)(u.Z,{color:"error",variant:"contained",onClick:function(){return re(!1)},children:"Cancel"})]})]})}),ot,st,mt,et]})}function H(e,t){Object.entries(t).forEach((function(t){var n=(0,r.Z)(t,2),i=n[0],a=n[1];e({type:"UPDATE_FIELD",field:i,value:a})}))}},95643:function(e,t){t.Z={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"}}}]);
//# sourceMappingURL=1861.624a57ef.chunk.js.map