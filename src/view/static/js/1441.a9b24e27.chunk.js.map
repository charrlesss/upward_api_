{"version":3,"file":"static/js/1441.a9b24e27.chunk.js","mappings":"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","sources":["components/Helmet.tsx","feautures/Admin/Task/Accounting/PettyCash.tsx"],"sourcesContent":["\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nconst PageHelmet = ({ title = '' }: { title: string }) => {\r\n    const imgUrl = process.env.REACT_APP_IMAGE_URL;\r\n    return (\r\n        <Helmet>\r\n            <title>{title}</title>\r\n            <link rel=\"icon\" type=\"image/png\" href={`${imgUrl}/logo.png`} />\r\n        </Helmet>\r\n    );\r\n};\r\n\r\nexport default PageHelmet;","import {\n  useContext,\n  useState,\n  useRef,\n  useEffect,\n  forwardRef,\n  useImperativeHandle,\n} from \"react\";\nimport { Button } from \"@mui/material\";\nimport LoadingButton from \"@mui/lab/LoadingButton\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport SaveIcon from \"@mui/icons-material/Save\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport Swal from \"sweetalert2\";\nimport { AuthContext } from \"../../../../components/AuthContext\";\nimport RestartAltIcon from \"@mui/icons-material/RestartAlt\";\nimport { useMutation, useQuery } from \"react-query\";\nimport useQueryModalTable from \"../../../../hooks/useQueryModalTable\";\nimport { wait } from \"../../../../lib/wait\";\nimport {\n  codeCondfirmationAlert,\n  saveCondfirmationAlert,\n} from \"../../../../lib/confirmationAlert\";\nimport PageHelmet from \"../../../../components/Helmet\";\nimport { SelectInput, TextInput } from \"../../../../components/UpwardFields\";\nimport { NumericFormat } from \"react-number-format\";\nimport { format } from \"date-fns\";\nimport useExecuteQueryFromClient from \"../../../../lib/executeQueryFromClient\";\nimport {\n  DataGridViewReact,\n  useUpwardTableModalSearchSafeMode,\n} from \"../../../../components/DataGridViewReact\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport { Loading } from \"../../../../components/Loading\";\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\nimport { flushSync } from \"react-dom\";\nimport PersonSearchIcon from \"@mui/icons-material/PersonSearch\";\n\n\nexport const reducer = (state: any, action: any) => {\n  switch (action.type) {\n    case \"UPDATE_FIELD\":\n      return {\n        ...state,\n        [action.field]: action.value,\n      };\n    default:\n      return state;\n  }\n};\nconst columns = [\n  { key: \"purpose\", label: \"Purpose\", width: 400 },\n  { key: \"amount\", label: \"Amount\", width: 140 },\n  {\n    key: \"usage\",\n    label: \"Usage\",\n    width: 450,\n  },\n  { key: \"accountID\", label: \"Account ID\", width: 400 },\n  { key: \"sub_account\", label: \"Sub Account\", width: 120 },\n  { key: \"clientID\", label: \"ID No\", width: 140 },\n  // hide\n  { key: \"clientName\", label: \"Name\", width: 350 },\n  { key: \"accountCode\", label: \"Accoount Code\", width: 130 },\n  {\n    key: \"accountShort\",\n    label: \"Account Short\",\n    width: 300,\n  },\n  { key: \"vatType\", label: \"Vat Type\", width: 100 },\n  { key: \"invoice\", label: \"Invoice\", width: 200 },\n  { key: \"TempID\", label: \"TempId\", hide: true },\n];\nexport const chartColumn = [\n  { field: \"Acct_Code\", headerName: \"Code\", flex: 1 },\n  { field: \"Acct_Title\", headerName: \"Title\", flex: 1 },\n  { field: \"Short\", headerName: \"Short Name\", flex: 1 },\n];\n\nexport default function PettyCash() {\n  const { myAxios, user } = useContext(AuthContext);\n  const [pettyCashMode, setPettyCashMode] = useState(\"\");\n  const { executeQueryToClient } = useExecuteQueryFromClient();\n  const tableRef = useRef<any>(null);\n  const inputSearchRef = useRef<HTMLInputElement>(null);\n\n  const subrefNoRef = useRef(\"\");\n  const refNoRef = useRef<HTMLInputElement>(null);\n  const dateRef = useRef<HTMLInputElement>(null);\n  const payeeRef = useRef<HTMLInputElement>(null);\n  const explanationRef = useRef<HTMLInputElement>(null);\n\n  const accountRef = useRef<HTMLInputElement>(null);\n  const usageRef = useRef<HTMLInputElement>(null);\n  const amountRef = useRef<HTMLInputElement>(null);\n  const vatRef = useRef<HTMLSelectElement>(null);\n  const invoiceRef = useRef<HTMLInputElement>(null);\n\n  const pdcSearchInput = useRef<HTMLInputElement>(null);\n\n  const transactionCodeRef = useRef(\"\");\n  const transactionShortRef = useRef(\"\");\n  const clientIdRef = useRef(\"\");\n  const subAcctRef = useRef(\"\");\n\n  const isDisableField = pettyCashMode === \"\";\n\n  const {\n    isLoading: loadingPettyCashIdGenerator,\n    refetch: refetchettyCashIdGenerator,\n  } = useQuery({\n    queryKey: \"petty-cash-id-generator\",\n    queryFn: async () =>\n      await myAxios.get(`/task/accounting/get-petty-cash-id`, {\n        headers: {\n          Authorization: `Bearer ${user?.accessToken}`,\n        },\n      }),\n    refetchOnWindowFocus: false,\n    onSuccess: (data) => {\n      const response = data as any;\n      wait(100).then(() => {\n        subrefNoRef.current = response.data.pettyCashId[0].petty_cash_id;\n        if (refNoRef.current) {\n          refNoRef.current.value = response.data.pettyCashId[0].petty_cash_id;\n        }\n      });\n    },\n  });\n  const {\n    isLoading: loadingAddUpdatePettyCash,\n    mutate: mutateAddUpdatePettyCash,\n  } = useMutation({\n    mutationKey: \"add-update-petty-cash\",\n    mutationFn: async (variables: any) =>\n      await myAxios.post(`/task/accounting/add-petty-cash`, variables, {\n        headers: {\n          Authorization: `Bearer ${user?.accessToken}`,\n        },\n      }),\n    onSuccess: (data) => {\n      const response = data as any;\n      if (response.data.success) {\n        resetPettyCash();\n        return Swal.fire({\n          position: \"center\",\n          icon: \"success\",\n          title: response.data.message,\n          timer: 1500,\n        });\n      }\n      return Swal.fire({\n        position: \"center\",\n        icon: \"warning\",\n        title: response.data.message,\n        timer: 1500,\n      });\n    },\n  });\n  const {\n    isLoading: isLoadingLoadSelectedPettyCash,\n    mutate: mutateLoadSelectedPettyCash,\n  } = useMutation({\n    mutationKey: \"load-selected-petty-cash\",\n    mutationFn: async (variables: any) =>\n      await myAxios.post(\n        `/task/accounting/load-selected-petty-cash`,\n        variables,\n        {\n          headers: {\n            Authorization: `Bearer ${user?.accessToken}`,\n          },\n        }\n      ),\n    onSuccess: (data) => {\n      const response = data as any;\n      const loadPettyCash = response.data.loadSelectedPettyCash;\n      subrefNoRef.current = loadPettyCash[0].PC_No;\n      if (refNoRef.current) {\n        refNoRef.current.value = loadPettyCash[0].PC_No;\n      }\n      if (dateRef.current) {\n        dateRef.current.value = format(\n          new Date(loadPettyCash[0].PC_Date),\n          \"yyyy-MM-dd\"\n        );\n      }\n      if (payeeRef.current) {\n        payeeRef.current.value = loadPettyCash[0].Payee;\n      }\n      if (explanationRef.current) {\n        explanationRef.current.value = loadPettyCash[0].Explanation;\n      }\n\n      tableRef.current.setDataFormated(loadPettyCash);\n    },\n  });\n  const { isLoading: laodPettyCashTransaction, data: dataCashTransaction } =\n    useQuery({\n      queryKey: \"load-transcation\",\n      queryFn: async () =>\n        await myAxios.get(`/task/accounting/load-transcation`, {\n          headers: {\n            Authorization: `Bearer ${user?.accessToken}`,\n          },\n        }),\n      refetchOnWindowFocus: false,\n    });\n  // const {\n  //   ModalComponent: ModalClientIDs,\n  //   openModal: openCliendIDsModal,\n  //   isLoading: isLoadingClientIdsModal,\n  //   closeModal: closeCliendIDsModal,\n  // } = useQueryModalTable({\n  //   link: {\n  //     url: \"/task/accounting/search-pdc-policy-id\",\n  //     queryUrlName: \"searchPdcPolicyIds\",\n  //   },\n  //   columns: [\n  //     { field: \"Type\", headerName: \"Type\", width: 130 },\n  //     { field: \"IDNo\", headerName: \"ID No.\", width: 200 },\n  //     {\n  //       field: \"Name\",\n  //       headerName: \"Name\",\n  //       flex: 1,\n  //     },\n  //     {\n  //       field: \"ID\",\n  //       headerName: \"ID\",\n  //       flex: 1,\n  //       hide: true,\n  //     },\n  //   ],\n  //   queryKey: \"collection-polidy-ids\",\n  //   uniqueId: \"IDNo\",\n  //   responseDataKey: \"clientsId\",\n  //   onSelected: (selectedRowData, data) => {\n  //     closeCliendIDsModal();\n  //     wait(100).then(() => {\n  // clientIdRef.current = selectedRowData[0].IDNo;\n  // subAcctRef.current = selectedRowData[0].Acronym;\n  // if (usageRef.current) usageRef.current.value = selectedRowData[0].Name;\n  //     });\n      // wait(200).then(() => {\n      //   if (amountRef.current) {\n      //     amountRef.current?.focus();\n      //     amountRef.current.value = \"\";\n      //   }\n      // });\n  //   },\n  //   searchRef: pdcSearchInput,\n  // });\n\n  function handleOnSave() {\n    if (payeeRef.current && payeeRef.current.value === \"\") {\n      return Swal.fire({\n        position: \"center\",\n        icon: \"warning\",\n        title: \"Please provide payee!\",\n        timer: 1500,\n      }).then((result) => {\n        wait(300).then(() => {\n          payeeRef.current?.focus();\n        });\n      });\n    }\n    if (explanationRef.current && explanationRef.current.value === \"\") {\n      return Swal.fire({\n        position: \"center\",\n        icon: \"warning\",\n        title: \"Please provide explanation!\",\n        timer: 1500,\n      }).then((result) => {\n        wait(300).then(() => {\n          explanationRef.current?.focus();\n        });\n      });\n    }\n\n    const newData = tableRef.current.getData();\n    const newDataFormatted = newData.map((itm: any) => {\n      let newItm = {\n        purpose: itm[0],\n        amount: itm[1],\n        usage: itm[2],\n        accountID: itm[3],\n        sub_account: itm[4],\n        clientID: itm[5],\n        clientName: itm[6],\n        accountCode: itm[7],\n        accountShort: itm[8],\n        vatType: itm[9],\n        invoice: itm[10],\n      };\n      return newItm;\n    });\n\n    if (newDataFormatted.length <= 0) {\n      return Swal.fire({\n        position: \"center\",\n        icon: \"warning\",\n        title: \"Please provide transaction entry!\",\n        timer: 1500,\n      });\n    }\n\n    if (pettyCashMode === \"edit\") {\n      codeCondfirmationAlert({\n        isUpdate: true,\n        cb: (userCodeConfirmation) => {\n          mutateAddUpdatePettyCash({\n            refNo: refNoRef.current?.value,\n            datePetty: dateRef.current?.value,\n            payee: payeeRef.current?.value,\n            explanation: explanationRef.current?.value,\n            hasSelected: pettyCashMode === \"edit\",\n            pettyCash: newDataFormatted,\n            userCodeConfirmation,\n          });\n        },\n      });\n    } else {\n      saveCondfirmationAlert({\n        isConfirm: () => {\n          mutateAddUpdatePettyCash({\n            refNo: refNoRef.current?.value,\n            datePetty: dateRef.current?.value,\n            payee: payeeRef.current?.value,\n            explanation: explanationRef.current?.value,\n            hasSelected: pettyCashMode === \"edit\",\n            pettyCash: newDataFormatted,\n          });\n        },\n      });\n    }\n  }\n  async function handleAddTransaction() {\n    if (accountRef.current && accountRef.current.value === \"\") {\n      return Swal.fire({\n        position: \"center\",\n        icon: \"warning\",\n        title: \"Please provide transaction\",\n        timer: 1500,\n      }).then(() => {\n        wait(300).then(() => {\n          accountRef.current?.focus();\n        });\n      });\n    }\n    if (clientIdRef.current === \"\") {\n      return Swal.fire({\n        position: \"center\",\n        icon: \"warning\",\n        title: \"Please provide usage\",\n        timer: 1500,\n      }).then(() => {\n        wait(300).then(() => {\n          if (usageRef.current) {\n            clientOpenModal(usageRef.current.value);\n          }\n        });\n      });\n    }\n    if (\n      amountRef.current &&\n      (amountRef.current.value === \"\" ||\n        parseFloat(amountRef.current.value.replace(/,/g, \"\")) < 1)\n    ) {\n      return Swal.fire({\n        position: \"center\",\n        icon: \"warning\",\n        title: \"Please provide proper amount\",\n        timer: 1500,\n      }).then(() => {\n        wait(300).then(() => {\n          amountRef.current?.focus();\n        });\n      });\n    }\n\n    const TransDetail = await executeQueryToClient(`\n         SELECT DISTINCT\n              Chart_Account.Acct_Code,\n              Chart_Account.Acct_Title,\n              Chart_Account.Short\n          FROM\n              Petty_Log\n                  LEFT JOIN\n              Chart_Account ON Petty_Log.Acct_Code = Chart_Account.Acct_Code\n          WHERE\n              Petty_Log.Acct_Code = '${transactionCodeRef.current}'\n      `);\n\n    const currentData = tableRef.current.getData();\n    let RowIndex = 0;\n    if (currentData.length <= 0) {\n      currentData[0] = [];\n    } else {\n      const getSelectedRow = tableRef.current.getSelectedRow();\n      if (getSelectedRow) {\n        RowIndex = getSelectedRow;\n      } else {\n        RowIndex = currentData.length;\n        currentData[currentData.length] = [];\n      }\n    }\n    currentData[RowIndex][0] = accountRef.current?.value;\n    currentData[RowIndex][1] = amountRef.current?.value;\n    currentData[\n      RowIndex\n    ][2] = `${usageRef.current?.value} > ${clientIdRef.current} > ${subAcctRef.current}`;\n    currentData[\n      RowIndex\n    ][3] = `${TransDetail.data.data[0].Short} > ${TransDetail.data.data[0].Acct_Code}`;\n    currentData[RowIndex][4] = subAcctRef.current;\n    currentData[RowIndex][5] = clientIdRef.current;\n    currentData[RowIndex][6] = usageRef.current?.value;\n    currentData[RowIndex][7] = TransDetail.data.data[0].Acct_Code;\n    currentData[RowIndex][8] = TransDetail.data.data[0].Short;\n    currentData[RowIndex][9] = vatRef.current?.value;\n    currentData[RowIndex][10] = invoiceRef.current?.value;\n    tableRef.current.setData(currentData);\n    tableRef.current.setSelectedRow(null);\n\n    resetRefs();\n\n    if (accountRef.current) {\n      accountRef.current.focus();\n    }\n  }\n  function resetRefs() {\n    setTimeout(() => {\n      if (accountRef.current) {\n        accountRef.current.value = \"\";\n      }\n      if (amountRef.current) {\n        amountRef.current.value = \"\";\n      }\n      if (usageRef.current) {\n        usageRef.current.value = \"\";\n      }\n      if (vatRef.current) {\n        vatRef.current.value = \"NON-VAT\";\n      }\n      if (invoiceRef.current) {\n        invoiceRef.current.value = \"\";\n      }\n      subAcctRef.current = \"\";\n      clientIdRef.current = \"\";\n      transactionCodeRef.current = \"\";\n      transactionShortRef.current = \"\";\n    }, 100);\n  }\n  function resetRefsEntry() {\n    setTimeout(() => {\n      refetchettyCashIdGenerator();\n      if (dateRef.current) {\n        dateRef.current.value = format(new Date(), \"yyyy-MM-dd\");\n      }\n      if (payeeRef.current) {\n        payeeRef.current.value = \"\";\n      }\n      if (explanationRef.current) {\n        explanationRef.current.value = \"\";\n      }\n    }, 100);\n  }\n  function resetPettyCash() {\n    setPettyCashMode(\"\");\n    refetchettyCashIdGenerator();\n    resetRefsEntry();\n    resetRefs();\n    tableRef.current.setData([]);\n  }\n  function valueIsNaN(input: any) {\n    if (input !== \"\" && input !== null) {\n      const num = parseFloat(input.replace(/,/g, \"\"));\n      return isNaN(num) ? \"0.00\" : input;\n    }\n    return \"0.00\";\n  }\n\n  const {\n    UpwardTableModalSearch: PettyCashUpwardTableModalSearch,\n    openModal: pettyCashOpenModal,\n    closeModal: pettyCashCloseModal,\n  } = useUpwardTableModalSearchSafeMode({\n    link: \"/task/accounting/search-petty-cash\",\n    column: [\n      { key: \"PC_Date\", label: \"Type\", width: 130 },\n      { key: \"PC_No\", label: \"ID No.\", width: 200 },\n      {\n        key: \"Payee\",\n        label: \"Name\",\n        flex: 1,\n      },\n      {\n        key: \"Explanation\",\n        label: \"ID\",\n        flex: 1,\n      },\n      {\n        key: \"Explanation\",\n        label: \"ID\",\n        flex: 1,\n        hide: true,\n      },\n    ],\n    getSelectedItem: async (rowItm: any, _: any, rowIdx: any, __: any) => {\n      if (rowItm) {\n        wait(100).then(() => {\n          mutateLoadSelectedPettyCash({ PC_No: rowItm[1] });\n        });\n        setPettyCashMode(\"edit\");\n        pettyCashCloseModal();\n      }\n    },\n  });\n\n  const {\n    UpwardTableModalSearch: ClientUpwardTableModalSearch,\n    openModal: clientOpenModal,\n    closeModal: clientCloseModal,\n  } = useUpwardTableModalSearchSafeMode({\n    size: \"large\",\n    link: \"/task/accounting/search-pdc-policy-id\",\n    column: [\n      { key: \"Type\", label: \"Type\", width: 100 },\n      { key: \"IDNo\", label: \"ID No.\", width: 120 },\n      {\n        key: \"Name\",\n        label: \"Name\",\n        width: 350,\n      },\n      { key: \"chassis\", label: \"Chassis No.\", width: 200 },\n      {\n        key: \"remarks\",\n        label: \"remarks\",\n        width: 0,\n        hide: true,\n      },\n      {\n        key: \"client_id\",\n        label: \"client_id\",\n        width: 0,\n        hide: true,\n      },\n      {\n        key: \"Acronym\",\n        label: \"Acronym\",\n        width: 0,\n        hide: true,\n      },\n      {\n        key: \"sub_account\",\n        label: \"sub_account\",\n        width: 0,\n        hide: true,\n      },\n    ],\n    getSelectedItem: async (rowItm: any, _: any, rowIdx: any, __: any) => {\n      if (rowItm) {\n        wait(100).then(() => {\n          clientIdRef.current = rowItm[1];\n          subAcctRef.current = rowItm[6];\n          if (usageRef.current)\n            usageRef.current.value = rowItm[2];\n        });\n        wait(200).then(() => {\n          if (amountRef.current) {\n            amountRef.current?.focus();\n            amountRef.current.value = \"\";\n          }\n        });\n        clientCloseModal();\n      }\n    },\n  });\n\n  return (\n    <>\n      {(isLoadingLoadSelectedPettyCash || loadingAddUpdatePettyCash) && (\n        <Loading />\n      )}\n      <PageHelmet title=\"Petty Cash\" />\n      <PettyCashUpwardTableModalSearch />\n      <ClientUpwardTableModalSearch />\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          width: \"100%\",\n          height: \"100%\",\n          flex: 1,\n          padding: \"5px\",\n          background: \"#F1F1F1\",\n        }}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            columnGap: \"5px\",\n            marginBottom: \"10px\",\n          }}\n        >\n          <TextInput\n            label={{\n              title: \"Search: \",\n              style: {\n                fontSize: \"12px\",\n                fontWeight: \"bold\",\n                width: \"50px\",\n              },\n            }}\n            input={{\n              className: \"search-input-up-on-key-down\",\n              type: \"search\",\n              onKeyDown: (e) => {\n                if (e.key === \"Enter\" || e.key === \"NumpadEnter\") {\n                  e.preventDefault();\n                  pettyCashOpenModal(e.currentTarget.value);\n                }\n                if (e.key === \"ArrowDown\") {\n                  e.preventDefault();\n                  const datagridview = document.querySelector(\n                    \".grid-container\"\n                  ) as HTMLDivElement;\n                  datagridview.focus();\n                }\n              },\n              style: { width: \"500px\" },\n            }}\n            icon={<SearchIcon sx={{ fontSize: \"18px\" }} />}\n            onIconClick={(e) => {\n              e.preventDefault();\n              if (inputSearchRef.current)\n                pettyCashOpenModal(inputSearchRef.current.value);\n            }}\n            inputRef={inputSearchRef}\n          />\n          {pettyCashMode === \"\" && (\n            <Button\n              sx={{\n                height: \"30px\",\n                fontSize: \"11px\",\n              }}\n              variant=\"contained\"\n              startIcon={<AddIcon sx={{ width: 15, height: 15 }} />}\n              id=\"entry-header-save-button\"\n              onClick={() => {\n                setPettyCashMode(\"add\");\n              }}\n            >\n              New\n            </Button>\n          )}\n          <LoadingButton\n            sx={{\n              height: \"30px\",\n              fontSize: \"11px\",\n            }}\n            id=\"save-entry-header\"\n            color=\"primary\"\n            variant=\"contained\"\n            type=\"submit\"\n            onClick={handleOnSave}\n            disabled={pettyCashMode === \"\"}\n            startIcon={<SaveIcon sx={{ width: 15, height: 15 }} />}\n            loading={loadingAddUpdatePettyCash}\n          >\n            {pettyCashMode === \"edit\" ? \"Update\" : \"Save\"}\n          </LoadingButton>\n          {pettyCashMode !== \"\" && (\n            <Button\n              sx={{\n                height: \"30px\",\n                fontSize: \"11px\",\n              }}\n              variant=\"contained\"\n              startIcon={<CloseIcon sx={{ width: 15, height: 15 }} />}\n              color=\"error\"\n              onClick={() => {\n                Swal.fire({\n                  title: \"Are you sure?\",\n                  text: \"You won't be able to revert this!\",\n                  icon: \"warning\",\n                  showCancelButton: true,\n                  confirmButtonColor: \"#3085d6\",\n                  cancelButtonColor: \"#d33\",\n                  confirmButtonText: \"Yes, cancel it!\",\n                }).then((result) => {\n                  if (result.isConfirmed) {\n                    resetPettyCash();\n                  }\n                });\n              }}\n            >\n              Cancel\n            </Button>\n          )}\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            width: \"100%\",\n            borderBottom: \"1px dashed  #334155\",\n            paddingBottom: \"20px\",\n            gap: \"50px\",\n            marginTop: \"5px\",\n          }}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              rowGap: \"10px\",\n            }}\n          >\n            {loadingPettyCashIdGenerator ? (\n              <LoadingButton loading={loadingPettyCashIdGenerator} />\n            ) : (\n              <TextInput\n                label={{\n                  title: \"Ref. No. : \",\n                  style: {\n                    fontSize: \"12px\",\n                    fontWeight: \"bold\",\n                    width: \"80px\",\n                  },\n                }}\n                input={{\n                  disabled: isDisableField,\n                  type: \"text\",\n                  style: { width: \"200px\" },\n                  readOnly: true,\n                  onKeyDown: (e) => {\n                    if (e.code === \"NumpadEnter\" || e.code === \"Enter\") {\n                      dateRef.current?.focus();\n                    }\n                  },\n                }}\n                icon={<RestartAltIcon sx={{ fontSize: \"18px\" }} />}\n                onIconClick={(e) => {\n                  e.preventDefault();\n                  refetchettyCashIdGenerator();\n                }}\n                inputRef={refNoRef}\n              />\n            )}\n            <TextInput\n              label={{\n                title: \"Deposit Date: \",\n                style: {\n                  fontSize: \"12px\",\n                  fontWeight: \"bold\",\n                  width: \"80px\",\n                },\n              }}\n              input={{\n                defaultValue: format(new Date(), \"yyyy-MM-dd\"),\n                className: \"search-input-up-on-key-down\",\n                type: \"date\",\n                style: { width: \"200px\" },\n                disabled: isDisableField,\n                onKeyDown: (e) => {\n                  if (e.code === \"NumpadEnter\" || e.code === \"Enter\") {\n                    payeeRef.current?.focus();\n                  }\n                },\n              }}\n              inputRef={dateRef}\n            />\n          </div>\n          <div\n            style={{\n              flex: 1,\n              display: \"flex\",\n              flexDirection: \"column\",\n              rowGap: \"10px\",\n            }}\n          >\n            <TextInput\n              label={{\n                title: \"Payee : \",\n                style: {\n                  fontSize: \"12px\",\n                  fontWeight: \"bold\",\n                  width: \"100px\",\n                },\n              }}\n              input={{\n                disabled: isDisableField,\n                type: \"text\",\n                style: { width: \"400px\" },\n                onKeyDown: (e) => {\n                  if (e.code === \"NumpadEnter\" || e.code === \"Enter\") {\n                    explanationRef.current?.focus();\n                  }\n                },\n              }}\n              inputRef={payeeRef}\n            />\n            <TextInput\n              label={{\n                title: \"Explanation : \",\n                style: {\n                  fontSize: \"12px\",\n                  fontWeight: \"bold\",\n                  width: \"100px\",\n                },\n              }}\n              input={{\n                disabled: isDisableField,\n                type: \"text\",\n                style: { flex: 1 },\n                onKeyDown: (e) => {\n                  if (e.code === \"NumpadEnter\" || e.code === \"Enter\") {\n                    accountRef.current?.focus();\n                  }\n                },\n              }}\n              inputRef={explanationRef}\n            />\n          </div>\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            width: \"100%\",\n            paddingTop: \"20px\",\n            gap: \"50px\",\n            borderRadius: \"3px\",\n          }}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              rowGap: \"10px\",\n            }}\n          >\n            {laodPettyCashTransaction ? (\n              <LoadingButton loading={laodPettyCashTransaction} />\n            ) : (\n              <Autocomplete\n                containerStyle={{\n                  width: \"100%\",\n                }}\n                label={{\n                  title: \"Transaction : \",\n                  style: {\n                    fontSize: \"12px\",\n                    fontWeight: \"bold\",\n                    width: \"80px\",\n                  },\n                }}\n                DisplayMember={\"Purpose\"}\n                DataSource={dataCashTransaction?.data.laodTranscation}\n                disableInput={isDisableField}\n                inputRef={accountRef}\n                input={{\n                  style: {\n                    width: \"100%\",\n                    flex: 1,\n                  },\n                }}\n                onChange={(selected: any, e: any) => {\n                  if (accountRef.current)\n                    accountRef.current.value = selected.Purpose;\n                  transactionCodeRef.current = selected.Acct_Code;\n                  transactionShortRef.current = selected.Short;\n                }}\n                onKeydown={(e: any) => {\n                  if (e.key === \"Enter\" || e.key === \"NumpadEnter\") {\n                    e.preventDefault();\n                    usageRef.current?.focus();\n                  }\n                }}\n              />\n            )}\n            <div\n              style={{\n                display: \"flex\",\n                columnGap: \"20px\",\n              }}\n            >\n              <TextInput\n                label={{\n                  title: \"Usage : \",\n                  style: {\n                    fontSize: \"12px\",\n                    fontWeight: \"bold\",\n                    width: \"80px\",\n                  },\n                }}\n                input={{\n                  disabled: isDisableField,\n                  type: \"text\",\n                  style: { width: \"450px\" },\n                  onKeyDown: (e) => {\n                    if (e.code === \"NumpadEnter\" || e.code === \"Enter\") {\n                      clientOpenModal(e.currentTarget.value);\n                    }\n                  },\n                }}\n                icon={   <PersonSearchIcon\n                  sx={{\n                    fontSize: \"18px\",\n                    color: isDisableField ? \"gray\" : \"black\",\n                  }}\n                />}\n                onIconClick={(e) => {\n                  e.preventDefault();\n                  if (usageRef.current) {\n                    clientOpenModal(usageRef.current.value);\n                  }\n                }}\n                inputRef={usageRef}\n              />\n              <div\n                style={{\n                  display: \"flex\",\n                }}\n              >\n                <label\n                  style={{\n                    fontSize: \"12px\",\n                    fontWeight: \"bold\",\n                    width: \"70px\",\n                  }}\n                >\n                  Amount :\n                </label>\n                <NumericFormat\n                  disabled={isDisableField}\n                  getInputRef={amountRef}\n                  decimalScale={2}\n                  fixedDecimalScale={true}\n                  style={{\n                    width: \"200px\",\n                  }}\n                  onKeyDown={(e) => {\n                    if (e.code === \"Enter\" || e.code === \"NumpadEnter\") {\n                      e.currentTarget.value = valueIsNaN(e.currentTarget.value);\n                      vatRef.current?.focus();\n                    }\n                  }}\n                  onBlur={(e) => {\n                    if (e.currentTarget.value === \"\") {\n                      e.currentTarget.value = \"0.00\";\n                    }\n                  }}\n                  allowNegative={false}\n                  thousandSeparator\n                  valueIsNumericString\n                />\n              </div>\n            </div>\n            <div\n              style={{\n                display: \"flex\",\n                columnGap: \"20px\",\n              }}\n            >\n              <SelectInput\n                containerStyle={{\n                  fontSize: \"12px\",\n                  fontWeight: \"bold\",\n                }}\n                label={{\n                  title: \"VAT Type\",\n                  style: {\n                    width: \"80px\",\n                  },\n                }}\n                select={{\n                  defaultValue: \"NON-VAT\",\n                  disabled: isDisableField,\n                  style: {\n                    width: \"100% !important\",\n                    flex: 1,\n                    height: \"100% !important\",\n                    padding: 0,\n                    margin: 0,\n                    cursor: \"pointer\",\n                  },\n                  onKeyDown: (e) => {\n                    if (e.code === \"Enter\" || e.code === \"NumpadEnter\") {\n                      invoiceRef.current?.focus();\n                    }\n                  },\n                }}\n                datasource={[{ key: \"NON-VAT\" }, { key: \"VAT\" }]}\n                values={\"key\"}\n                display={\"key\"}\n                selectRef={vatRef}\n              />\n              <TextInput\n                label={{\n                  title: \"Invoice : \",\n                  style: {\n                    fontSize: \"12px\",\n                    fontWeight: \"bold\",\n                    width: \"80px\",\n                  },\n                }}\n                input={{\n                  disabled: isDisableField,\n                  type: \"text\",\n                  style: { width: \"270px\" },\n                  onKeyDown: (e) => {\n                    if (e.code === \"NumpadEnter\" || e.code === \"Enter\") {\n                      e.preventDefault();\n                      handleAddTransaction();\n                    }\n                  },\n                }}\n                inputRef={invoiceRef}\n              />\n              <Button\n                disabled={isDisableField}\n                color=\"success\"\n                variant=\"contained\"\n                style={{\n                  gridArea: \"button\",\n                  height: \"22px\",\n                  fontSize: \"12px\",\n                  width: \"270px\",\n                }}\n                startIcon={<AddIcon />}\n                onClick={() => {\n                  handleAddTransaction();\n                }}\n              >\n                Save Transaction\n              </Button>\n            </div>\n          </div>\n        </div>\n        <br />\n        <DataGridViewReact\n        containerStyle={{\n          flex:1,\n          height:\"auto\"\n        }}\n          ref={tableRef}\n          width=\"100%\"\n          height=\"350px\"\n          columns={columns}\n          getSelectedItem={(\n            rowItm: any,\n            colItm: any,\n            rowIdx: any,\n            colIdx: any\n          ) => {\n            if (rowItm) {\n              if (accountRef.current) {\n                accountRef.current.value = rowItm[0];\n              }\n              if (amountRef.current) {\n                amountRef.current.value = rowItm[1];\n              }\n              if (usageRef.current) {\n                usageRef.current.value = rowItm[6];\n              }\n              if (vatRef.current) {\n                vatRef.current.value = rowItm[9];\n              }\n              if (invoiceRef.current) {\n                invoiceRef.current.value = rowItm[10];\n              }\n              subAcctRef.current = rowItm[4];\n              clientIdRef.current = rowItm[5];\n              transactionCodeRef.current = rowItm[7];\n              transactionShortRef.current = rowItm[8];\n            } else {\n              resetRefs();\n            }\n          }}\n        />\n      </div>\n    </>\n  );\n}\nexport const Autocomplete = forwardRef(\n  (\n    {\n      DisplayMember,\n      DataSource: _DataSource,\n      inputRef,\n      disableInput = false,\n      onKeydown,\n      onChange,\n      label = {\n        title: \"Transaction : \",\n        style: {\n          fontSize: \"12px\",\n          fontWeight: \"bold\",\n          width: \"100px\",\n        },\n      },\n      input = {\n        width: \"740px\",\n      },\n      containerStyle,\n    }: any,\n    ref: any\n  ) => {\n    const [DataSource, setDataSource] = useState(_DataSource);\n    const [filteredSuggestions, setFilteredSuggestions] = useState([]);\n    const [showSuggestions, setShowSuggestions] = useState(false);\n    const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(0);\n\n    // Ref to store the suggestion container\n    const suggestionListRef = useRef<HTMLUListElement>(null);\n\n    useEffect(() => {\n      // Scroll the active suggestion into view\n      const activeElement =\n        suggestionListRef.current?.children[activeSuggestionIndex];\n      if (activeElement) {\n        activeElement.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"nearest\",\n        });\n      }\n    }, [activeSuggestionIndex]);\n\n    const handleChange = (e: any) => {\n      const value = e.target.value;\n\n      if (value.trim()) {\n        const filtered = DataSource.filter((item: any) =>\n          item[DisplayMember].toLowerCase().includes(value.toLowerCase())\n        );\n        setFilteredSuggestions(filtered);\n        setShowSuggestions(true);\n      } else {\n        setFilteredSuggestions([]);\n        setShowSuggestions(false);\n      }\n    };\n\n    const handleClick = (suggestion: any) => {\n      setShowSuggestions(false);\n    };\n\n    const handleKeyDown = (e: any) => {\n      if (e.key === \"Tab\") {\n        flushSync(() => {\n          setShowSuggestions(false);\n          setFilteredSuggestions([]);\n        });\n      }\n      if (e.key === \"ArrowDown\") {\n        e.preventDefault();\n        setActiveSuggestionIndex((prevIndex) =>\n          Math.min(prevIndex + 1, filteredSuggestions.length - 1)\n        );\n      } else if (e.key === \"ArrowUp\") {\n        e.preventDefault();\n\n        setActiveSuggestionIndex((prevIndex) => Math.max(prevIndex - 1, 0));\n      } else if (e.key === \"Enter\" || e.key === \"NumpadEnter\") {\n        e.preventDefault();\n        if (filteredSuggestions.length > 0) {\n          const selectedSuggestion = filteredSuggestions[activeSuggestionIndex];\n          onChange(selectedSuggestion, e);\n          setShowSuggestions(false);\n        }\n      }\n\n      setTimeout(() => {\n        if (onKeydown) onKeydown(e);\n      }, 150);\n    };\n\n    useImperativeHandle(ref, () => ({\n      setDataSource: (newDataSource: Array<any>) => {\n        setDataSource(newDataSource);\n      },\n    }));\n\n    return (\n      <div style={{ width: \"100%\" }}>\n        <TextInput\n          containerStyle={containerStyle}\n          label={label}\n          input={{\n            ...input,\n            disabled: disableInput,\n            type: \"text\",\n            onKeyDown: handleKeyDown,\n            onChange: handleChange,\n            onFocus: (e) => {\n              e.preventDefault();\n              e.currentTarget?.focus();\n              setShowSuggestions(true);\n              setFilteredSuggestions(DataSource);\n              if (inputRef.current) {\n                inputRef.current.focus();\n              }\n            },\n            onBlur: (e) => {\n              if (e.relatedTarget && e.relatedTarget.tagName === \"LI\") {\n                wait(250).then(() => {\n                  setShowSuggestions(false);\n                  setFilteredSuggestions([]);\n                });\n              } else {\n                setShowSuggestions(false);\n                setFilteredSuggestions([]);\n              }\n            },\n          }}\n          icon={<KeyboardArrowDownIcon sx={{ fontSize: \"18px\" }} />}\n          onIconClick={(e) => {\n            if (inputRef.current) {\n              inputRef.current.focus();\n            }\n          }}\n          inputRef={inputRef}\n        />\n        {showSuggestions && filteredSuggestions.length > 0 && (\n          <ul className=\"suggestions\" ref={suggestionListRef}>\n            {filteredSuggestions.map((suggestion, index) => (\n              <li\n                tabIndex={0}\n                key={index}\n                onClick={(e) => {\n                  handleClick(suggestion);\n                  onChange(suggestion, e);\n                }}\n                className={index === activeSuggestionIndex ? \"active\" : \"\"}\n                onMouseEnter={(e) => {\n                  e.preventDefault();\n                  setActiveSuggestionIndex(\n                    Math.min(index, filteredSuggestions.length - 1)\n                  );\n                }}\n              >\n                {suggestion[DisplayMember]}\n              </li>\n            ))}\n          </ul>\n        )}\n        <style>\n          {`\n          .suggestions {\n            margin-top: 0;\n            padding: 0;\n            list-style: none;\n            max-height: 150px;\n            overflow-y: auto;\n            position:absolute;\n            z-index:100;\n            background:white;\n            width:350px;\n            border:1px solid #e5e7eb;\n            box-shadow: 0px 23px 32px -17px rgba(0,0,0,0.75);\n          }\n          .suggestions li {\n            padding:3px 10px;\n            cursor: pointer;\n            font-size:14px;\n          }\n          .suggestions li.active {\n            background-color: #e2e8f0;\n          }\n      \n        `}\n        </style>\n      </div>\n    );\n  }\n);\n\nexport const AutocompleteNumber = forwardRef(\n  (\n    {\n      DisplayMember,\n      DataSource: _DataSource,\n      inputRef,\n      disableInput = false,\n      onKeydown,\n      onChange,\n      label = {\n        title: \"Transaction : \",\n        style: {\n          fontSize: \"12px\",\n          fontWeight: \"bold\",\n          width: \"100px\",\n        },\n      },\n      input = {\n        width: \"740px\",\n      },\n      containerStyle,\n    }: any,\n    ref: any\n  ) => {\n    const [DataSource, setDataSource] = useState(_DataSource);\n    const [filteredSuggestions, setFilteredSuggestions] = useState([]);\n    const [showSuggestions, setShowSuggestions] = useState(false);\n    const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(0);\n\n    // Ref to store the suggestion container\n    const suggestionListRef = useRef<HTMLUListElement>(null);\n\n    useEffect(() => {\n      // Scroll the active suggestion into view\n      const activeElement =\n        suggestionListRef.current?.children[activeSuggestionIndex];\n      if (activeElement) {\n        activeElement.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"nearest\",\n        });\n      }\n    }, [activeSuggestionIndex]);\n\n    const handleClick = (suggestion: any) => {\n      setShowSuggestions(false);\n    };\n\n    const handleKeyDown = (e: any) => {\n      if (e.key === \"Tab\") {\n        flushSync(() => {\n          setShowSuggestions(false);\n          setFilteredSuggestions([]);\n        });\n      }\n      if (e.key === \"ArrowDown\") {\n        e.preventDefault();\n        setActiveSuggestionIndex((prevIndex) =>\n          Math.min(prevIndex + 1, filteredSuggestions.length - 1)\n        );\n      } else if (e.key === \"ArrowUp\") {\n        e.preventDefault();\n\n        setActiveSuggestionIndex((prevIndex) => Math.max(prevIndex - 1, 0));\n      } else if (e.key === \"Enter\" || e.key === \"NumpadEnter\") {\n        e.preventDefault();\n        if (filteredSuggestions.length > 0) {\n          const selectedSuggestion = filteredSuggestions[activeSuggestionIndex];\n          onChange(selectedSuggestion, e);\n          setShowSuggestions(false);\n        }\n      }\n\n      setTimeout(() => {\n        if (onKeydown) onKeydown(e);\n      }, 150);\n    };\n\n    const formatNumber = (value: string) => {\n      if (!value) return value;\n\n      // Split the value into integer and decimal parts\n      const parts = value.split(\".\");\n\n      // Add commas to the integer part only\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n\n      // Join the integer and decimal parts if decimal exists\n      return parts.join(\".\");\n    };\n\n    // Helper function to remove commas\n    const unformatNumber = (value: string) => {\n      return value.replace(/,/g, \"\");\n    };\n\n    // Function to ensure two decimal places\n    const ensureTwoDecimals = (value: string) => {\n      // If the value has no decimal part, append '.00'\n      if (!value.includes(\".\")) {\n        if (value === \"\") {\n          return \"0.00\";\n        } else {\n          return value + \".00\";\n        }\n      }\n\n      // If the value has one decimal place, append '0'\n      const parts = value.split(\".\");\n      if (parts[1].length === 1) {\n        return value + \"0\";\n      }\n\n      // If it already has two decimal places, return as is\n      return value;\n    };\n\n    const handleChange = (e: any) => {\n      let value = e.target.value;\n\n      // Remove commas for processing\n      value = unformatNumber(value);\n\n      // Allow only numbers, commas, and one decimal point\n      const regex = /^-?\\d+(,\\d{3})*(\\.\\d*)?$/;\n\n      // Remove commas for processing\n      value = unformatNumber(value);\n\n      // Check if the value is valid\n      if (value === \"\" || regex.test(value)) {\n        // Set the formatted value back in the input field\n        //setInputValue(formatNumber(value));\n        e.target.value = formatNumber(value);\n      } else {\n        const numbers = value.match(/\\d+/g);\n        if (numbers) {\n          const newV = numbers.join(\"\");\n          e.target.value = formatNumber(newV);\n        } else {\n          e.target.value = \"0\";\n        }\n      }\n\n      filterOnChange(e.target.value);\n    };\n\n    const filterOnChange = (value: any) => {\n      if (value.trim()) {\n        const filtered = DataSource.filter((item: any) =>\n          item[DisplayMember].toLowerCase().includes(value.toLowerCase())\n        );\n        setFilteredSuggestions(filtered);\n        setShowSuggestions(true);\n      } else {\n        setFilteredSuggestions([]);\n        setShowSuggestions(false);\n      }\n    };\n\n    const formatOnBlur = (value: any, e: any) => {\n      let newValue = unformatNumber(value);\n\n      // Ensure the value has two decimal places\n      newValue = ensureTwoDecimals(newValue);\n\n      // Set the value with commas and .00 (if needed)\n      // setInputValue(formatNumber(value));\n      e.target.value = formatNumber(newValue);\n    };\n\n    useImperativeHandle(ref, () => ({\n      setDataSource: (newDataSource: Array<any>) => {\n        setDataSource(newDataSource);\n      },\n    }));\n\n    return (\n      <div style={{ flex: 1 }}>\n        <TextInput\n          containerStyle={containerStyle}\n          label={label}\n          input={{\n   \n            ...input,\n            disabled: disableInput,\n            type: \"text\",\n            onKeyDown: handleKeyDown,\n            onChange: handleChange,\n            onFocus: (e) => {\n              e.preventDefault();\n              e.currentTarget?.focus();\n              setShowSuggestions(true);\n              setFilteredSuggestions(DataSource);\n              if (inputRef.current) {\n                inputRef.current.focus();\n              }\n            },\n            onBlur: (e) => {\n              formatOnBlur(e.currentTarget.value, e);\n              if (e.relatedTarget && e.relatedTarget.tagName === \"LI\") {\n                wait(250).then(() => {\n                  setShowSuggestions(false);\n                  setFilteredSuggestions([]);\n                });\n              } else {\n                setShowSuggestions(false);\n                setFilteredSuggestions([]);\n              }\n            },\n          }}\n          icon={<KeyboardArrowDownIcon sx={{ fontSize: \"18px\" }} />}\n          onIconClick={(e) => {\n            if (inputRef.current) {\n              inputRef.current.focus();\n            }\n          }}\n          inputRef={inputRef}\n        />\n        {showSuggestions && filteredSuggestions.length > 0 && (\n          <ul className=\"suggestions\" ref={suggestionListRef}>\n            {filteredSuggestions.map((suggestion, index) => (\n              <li\n                tabIndex={0}\n                key={index}\n                onClick={(e) => {\n                  handleClick(suggestion);\n                  onChange(suggestion, e);\n                }}\n                className={index === activeSuggestionIndex ? \"active\" : \"\"}\n                onMouseEnter={(e) => {\n                  e.preventDefault();\n                  setActiveSuggestionIndex(\n                    Math.min(index, filteredSuggestions.length - 1)\n                  );\n                }}\n              >\n                {suggestion[DisplayMember]}\n              </li>\n            ))}\n          </ul>\n        )}\n        <style>\n          {`\n          .suggestions {\n            margin-top: 0;\n            padding: 0;\n            list-style: none;\n            max-height: 150px;\n            overflow-y: auto;\n            position:absolute;\n            z-index:100;\n            background:white;\n            width:350px;\n            border:1px solid #e5e7eb;\n            box-shadow: 0px 23px 32px -17px rgba(0,0,0,0.75);\n          }\n          .suggestions li {\n            padding:3px 10px;\n            cursor: pointer;\n            font-size:14px;\n          }\n          .suggestions li.active {\n            background-color: #e2e8f0;\n          }\n      \n        `}\n        </style>\n      </div>\n    );\n  }\n);\n"],"names":["_ref","_ref$title","title","_jsxs","Helmet","children","_jsx","rel","type","href","concat","process","reducer","state","action","_objectSpread","_defineProperty","field","value","columns","key","label","width","hide","chartColumn","headerName","flex","PettyCash","_queryFn","_mutationFn","_mutationFn2","_queryFn2","_handleAddTransaction","_getSelectedItem","_getSelectedItem2","_useContext","useContext","AuthContext","myAxios","user","_useState","useState","_useState2","_slicedToArray","pettyCashMode","setPettyCashMode","executeQueryToClient","useExecuteQueryFromClient","tableRef","useRef","inputSearchRef","subrefNoRef","refNoRef","dateRef","payeeRef","explanationRef","accountRef","usageRef","amountRef","vatRef","invoiceRef","transactionCodeRef","transactionShortRef","clientIdRef","subAcctRef","isDisableField","_useQuery","useQuery","queryKey","queryFn","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","get","headers","Authorization","accessToken","abrupt","sent","stop","apply","arguments","refetchOnWindowFocus","onSuccess","data","response","wait","then","current","pettyCashId","petty_cash_id","loadingPettyCashIdGenerator","isLoading","refetchettyCashIdGenerator","refetch","_useMutation","useMutation","mutationKey","mutationFn","_x","_callee2","variables","_context2","post","success","resetPettyCash","Swal","position","icon","message","timer","loadingAddUpdatePettyCash","mutateAddUpdatePettyCash","mutate","_useMutation2","_x2","_callee3","_context3","loadPettyCash","loadSelectedPettyCash","PC_No","format","Date","PC_Date","Payee","Explanation","setDataFormated","isLoadingLoadSelectedPettyCash","mutateLoadSelectedPettyCash","_useQuery2","_callee4","_context4","laodPettyCashTransaction","dataCashTransaction","handleAddTransaction","_callee5","_accountRef$current2","_amountRef$current2","_usageRef$current","_usageRef$current2","_vatRef$current","_invoiceRef$current","TransDetail","currentData","RowIndex","getSelectedRow","_context5","_accountRef$current","focus","clientOpenModal","parseFloat","replace","_amountRef$current","getData","length","Short","Acct_Code","setData","setSelectedRow","resetRefs","setTimeout","_useUpwardTableModalS","useUpwardTableModalSearchSafeMode","link","column","getSelectedItem","_x3","_x4","_x5","_x6","_callee6","rowItm","_","rowIdx","__","_context6","pettyCashCloseModal","PettyCashUpwardTableModalSearch","UpwardTableModalSearch","pettyCashOpenModal","openModal","closeModal","_useUpwardTableModalS2","size","_x7","_x8","_x9","_x10","_callee7","_context7","_amountRef$current3","clientCloseModal","ClientUpwardTableModalSearch","_Fragment","Loading","PageHelmet","style","display","flexDirection","height","padding","background","alignItems","columnGap","marginBottom","TextInput","fontSize","fontWeight","input","className","onKeyDown","e","preventDefault","currentTarget","document","querySelector","SearchIcon","sx","onIconClick","inputRef","Button","variant","startIcon","AddIcon","id","onClick","LoadingButton","color","result","_payeeRef$current","_explanationRef$curre","newDataFormatted","map","itm","purpose","amount","usage","accountID","sub_account","clientID","clientName","accountCode","accountShort","vatType","invoice","codeCondfirmationAlert","isUpdate","cb","userCodeConfirmation","_refNoRef$current","_dateRef$current","_payeeRef$current2","_explanationRef$curre2","refNo","datePetty","payee","explanation","hasSelected","pettyCash","saveCondfirmationAlert","isConfirm","_refNoRef$current2","_dateRef$current2","_payeeRef$current3","_explanationRef$curre3","disabled","SaveIcon","loading","CloseIcon","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","borderBottom","paddingBottom","gap","marginTop","rowGap","readOnly","_dateRef$current3","code","RestartAltIcon","defaultValue","_payeeRef$current4","_explanationRef$curre4","_accountRef$current3","paddingTop","borderRadius","Autocomplete","containerStyle","DisplayMember","DataSource","laodTranscation","disableInput","onChange","selected","Purpose","onKeydown","_usageRef$current3","PersonSearchIcon","NumericFormat","getInputRef","decimalScale","fixedDecimalScale","_vatRef$current2","num","isNaN","valueIsNaN","onBlur","allowNegative","thousandSeparator","valueIsNumericString","SelectInput","select","margin","cursor","_invoiceRef$current2","datasource","values","selectRef","gridArea","DataGridViewReact","ref","colItm","colIdx","forwardRef","_DataSource","_ref$disableInput","_ref$label","_ref$input","_useState3","_useState4","setDataSource","_useState5","_useState6","filteredSuggestions","setFilteredSuggestions","_useState7","_useState8","showSuggestions","setShowSuggestions","_useState9","_useState10","activeSuggestionIndex","setActiveSuggestionIndex","suggestionListRef","useEffect","_suggestionListRef$cu","activeElement","scrollIntoView","behavior","block","useImperativeHandle","newDataSource","flushSync","prevIndex","Math","min","max","selectedSuggestion","target","trim","filtered","filter","item","toLowerCase","includes","onFocus","_e$currentTarget","relatedTarget","tagName","KeyboardArrowDownIcon","suggestion","index","tabIndex","onMouseEnter","AutocompleteNumber","_ref2","_ref2$disableInput","_ref2$label","_ref2$input","_useState11","_useState12","_useState13","_useState14","_useState15","_useState16","_useState17","_useState18","_suggestionListRef$cu2","formatNumber","parts","split","join","unformatNumber","filterOnChange","test","numbers","match","newV","_e$currentTarget2","newValue","ensureTwoDecimals","formatOnBlur"],"sourceRoot":""}