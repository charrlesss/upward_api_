"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[5379,7899],{37209:function(e,t,n){n.d(t,{sT:function(){return u},lq:function(){return d},Fz:function(){return s},iA:function(){return l},oi:function(){return c}});var o=n(29439),a=n(1413),i=n(72791),r=n(80184);function l(e){var t=e.input,n=e.label,o=e.inputRef,l=e.icon,c=e.iconPosition,s=void 0===c?"end":c,d=e.disableIcon,u=void 0!==d&&d,p=e.onIconClick,v=void 0===p?function(e){}:p,h=e.onChange,f=void 0===h?function(e){}:h,x=e.containerStyle,y=(0,i.useId)(),g=function(e){if(!e)return e;var t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},b=function(e){return e.replace(/,/g,"")};return(0,r.jsxs)("div",{style:(0,a.Z)({display:"flex",alignItems:"center",position:"relative"},x),children:[(0,r.jsx)("label",(0,a.Z)((0,a.Z)({},n),{},{htmlFor:y,children:n.title})),l&&"start"===s&&(0,r.jsx)("div",{style:{position:"absolute",left:"8px",zIndex:1},children:l}),(0,r.jsx)("input",(0,a.Z)((0,a.Z)({ref:o,id:y},t),{},{type:"text",style:(0,a.Z)({height:"100%"},t.style),onChange:function(e){!function(e){var t=e.target.value;t=b(t),(""===(t=b(t))||/^-?\d+(,\d{3})*(\.\d*)?$/.test(t))&&(e.target.value=g(t))}(e),f(e)},onBlur:function(e){!function(e){var t=b(e.target.value);t=function(e){return e.includes(".")?1===e.split(".")[1].length?e+"0":e:""===e?"0.00":e+".00"}(t),e.target.value=g(t)}(e)}})),l&&"end"===s&&(0,r.jsx)("div",{onClick:v,style:{position:"absolute",right:"2px",top:"50%",transform:"translateY(-50%)",zIndex:1,cursor:u?"none":"pointer",display:"flex",alignItems:"center",justifyContent:"center",background:"white",pointerEvents:u?"none":"auto"},children:l})]})}function c(e){var t=e.input,n=e.label,o=e.inputRef,l=e.icon,c=e.iconPosition,s=void 0===c?"end":c,d=e.disableIcon,u=void 0!==d&&d,p=e.containerStyle,v=e.onIconClick,h=void 0===v?function(e){}:v,f=(0,i.useId)();return(0,r.jsxs)("div",{style:(0,a.Z)({display:"flex",alignItems:"center",position:"relative"},p),children:[(0,r.jsx)("label",(0,a.Z)((0,a.Z)({},n),{},{htmlFor:f,children:n.title})),l&&"start"===s&&(0,r.jsx)("div",{style:{position:"absolute",left:"8px",zIndex:1},children:l}),(0,r.jsx)("input",(0,a.Z)((0,a.Z)({ref:o,id:f},t),{},{style:(0,a.Z)({height:"100%"},t.style)})),l&&"end"===s&&(0,r.jsx)("div",{onClick:h,style:{position:"absolute",right:"2px",top:"50%",transform:"translateY(-50%)",zIndex:1,cursor:u?"none":"pointer",display:"flex",alignItems:"center",justifyContent:"center",background:"white",pointerEvents:u?"none":"auto"},children:l})]})}function s(e){var t=e.textarea,n=e.label,o=e._inputRef,l=e.icon,c=e.iconPosition,s=void 0===c?"end":c,d=e.disableIcon,u=void 0!==d&&d,p=e.onIconClick,v=void 0===p?function(e){}:p,h=(0,i.useId)();return(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",position:"relative"},children:[(0,r.jsx)("label",(0,a.Z)((0,a.Z)({},n),{},{htmlFor:h,children:n.title})),l&&"start"===s&&(0,r.jsx)("div",{style:{position:"absolute",left:"8px",zIndex:1},children:l}),(0,r.jsx)("textarea",(0,a.Z)((0,a.Z)({ref:o,id:h},t),{},{style:(0,a.Z)({height:"100%"},t.style)})),l&&"end"===s&&(0,r.jsx)("div",{onClick:v,style:{position:"absolute",right:"2px",top:"50%",transform:"translateY(-50%)",zIndex:1,cursor:u?"none":"pointer",display:"flex",alignItems:"center",justifyContent:"center",background:"white",pointerEvents:u?"none":"auto"},children:l})]})}var d=(0,i.forwardRef)((function(e,t){var n=e.select,l=e.label,c=e.selectRef,s=e.datasource,d=void 0===s?[]:s,u=e.values,p=void 0===u?"":u,v=e.display,h=void 0===v?"":v,f=e.containerStyle,x=(0,i.useState)(d),y=(0,o.Z)(x,2),g=y[0],b=y[1],m=(0,i.useId)();return(0,i.useImperativeHandle)(t,(function(){return{setDataSource:function(e){b(e)},getDataSource:function(){return g}}})),(0,r.jsxs)("div",{style:(0,a.Z)({display:"flex",height:"18px",alignItems:"center"},f),children:[(0,r.jsx)("label",(0,a.Z)((0,a.Z)({},l),{},{htmlFor:m,children:l.title})),(0,r.jsx)("select",(0,a.Z)((0,a.Z)({},n),{},{ref:c,className:"select ".concat(n.className),style:(0,a.Z)({height:"18px"},n.style),children:g.map((function(e,t){return(0,r.jsx)("option",{value:e[p],children:e[h]},t)}))}))]})}));function u(e){var t=e.buttonRetRef,n=e.button,o=e.tooltipText,i=void 0===o?"":o,l=e.children,c=e.disabled,s=void 0!==c&&c;return(0,r.jsxs)("div",{className:"tooltip",children:[(0,r.jsx)("button",(0,a.Z)((0,a.Z)({disabled:s},n),{},{ref:t,style:(0,a.Z)((0,a.Z)({},n.style),{},{background:s?"#f1f1f1":"transparent"}),className:"tooltip-button",children:l})),!s&&(0,r.jsx)("span",{className:"tooltip-text",children:i})]})}},25379:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var o=n(74165),a=n(15861),i=n(29439),r=n(72791),l=n(3380),c=n(37209),s=n(16386),d=n(36151),u=n(91933),p=n(80184);function v(){var e,t,n=(0,r.useContext)(l.V),v=n.user,h=n.myAxios,f=(0,r.useState)(k({format2:"All",type:"COM",account:"All",dateFormat:"Monthly",date:new Date})),x=(0,i.Z)(f,2),y=x[0],g=x[1],b=(0,u.useQuery)({queryKey:"policy-account",queryFn:function(){return(e=e||(0,a.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/reports/reports/policy-account",{headers:{Authorization:"Bearer ".concat(null===v||void 0===v?void 0:v.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},refetchOnWindowFocus:!1,onSuccess:function(e){var t=e;console.log(t)}}),m=(b.isLoading,b.data),S=(0,r.useRef)(null),Z=(0,r.useRef)(null),w=(0,r.useRef)(null),z=(0,r.useRef)(null),R=(0,r.useRef)(null),C=(0,r.useRef)(null),I=(0,r.useRef)(null);function k(e){return"UPWARD MANAGEMENT INSURANCE SERVICES \nMonthly Renewal Notice Report (".concat(e.type," - ").concat(e.account,")\nCut off Date: ").concat((0,s.Z)(new Date(e.date),"MMMM yyyy"))}return(0,p.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,height:"100vh",backgroundColor:"#F1F1F1"},children:(0,p.jsxs)("div",{style:{border:"1px solid #94a3b8",width:"500px",height:"450px",display:"flex",flexDirection:"column",rowGap:"10px",padding:"20px",boxShadow:"0px 0px 5px -1px rgba(0,0,0,0.75)"},children:[(0,p.jsx)(c.Fz,{label:{title:" ",style:{display:"none"}},textarea:{rows:6,style:{flex:1,fontSize:"14px"},value:y,onKeyDown:function(e){"NumpadEnter"===e.code||e.code},onChange:function(e){g(e.target.value)}},_inputRef:S}),(0,p.jsx)(c.lq,{label:{title:"Policy : ",style:{fontSize:"12px",fontWeight:"bold",width:"90px"}},containerStyle:{height:"22px"},selectRef:z,select:{disabled:!1,style:{width:"100%",height:"22px"},defaultValue:"COM",onKeyDown:function(e){"NumpadEnter"!==e.code&&"Enter"!==e.code||e.preventDefault()},onChange:function(e){var t,n,o,a;g(k({format2:null===(t=Z.current)||void 0===t?void 0:t.value,type:e.target.value,account:null===(n=I.current)||void 0===n?void 0:n.value,dateFormat:null===(o=w.current)||void 0===o?void 0:o.value,date:new Date(null===(a=R.current)||void 0===a?void 0:a.value)}))}},datasource:[{key:"COM"},{key:"FIRE"},{key:"MAR"},{key:"PA"}],values:"key",display:"key"}),(0,p.jsx)(c.lq,{label:{title:"Account : ",style:{fontSize:"12px",fontWeight:"bold",width:"90px"}},containerStyle:{height:"22px"},selectRef:I,select:{disabled:!1,style:{width:"100%",height:"22px"},defaultValue:"All",onKeyDown:function(e){"NumpadEnter"!==e.code&&"Enter"!==e.code||e.preventDefault()},onChange:function(e){var t,n,o,a;g(k({format2:null===(t=Z.current)||void 0===t?void 0:t.value,type:null===(n=z.current)||void 0===n?void 0:n.value,account:e.target.value,dateFormat:null===(o=w.current)||void 0===o?void 0:o.value,date:new Date(null===(a=R.current)||void 0===a?void 0:a.value)}))}},datasource:null===m||void 0===m?void 0:m.data.data,values:"Account",display:"Account"}),(0,p.jsx)(c.lq,{label:{title:"Type : ",style:{fontSize:"12px",fontWeight:"bold",width:"90px"}},containerStyle:{height:"22px"},selectRef:C,select:{disabled:!1,style:{width:"100%",height:"22px"},defaultValue:"Regular",onKeyDown:function(e){"NumpadEnter"!==e.code&&"Enter"!==e.code||e.preventDefault()}},datasource:[{key:"Regular"},{key:"Temporary"}],values:"key",display:"key"}),(0,p.jsx)(c.oi,{containerStyle:{},label:{title:"Date : ",style:{fontSize:"12px",fontWeight:"bold",width:"90px"}},input:{type:"date",defaultValue:(0,s.Z)(new Date,"yyyy-MM-dd"),style:{width:"100%",height:"22px"},onKeyDown:function(e){"NumpadEnter"===e.code||e.code},onChange:function(e){var t,n,o,a;g(k({format2:null===(t=Z.current)||void 0===t?void 0:t.value,type:null===(n=z.current)||void 0===n?void 0:n.value,account:null===(o=I.current)||void 0===o?void 0:o.value,dateFormat:null===(a=w.current)||void 0===a?void 0:a.value,date:new Date(e.target.value)}))}},inputRef:R}),(0,p.jsx)(d.Z,{onClick:function(){return(t=t||(0,a.Z)((0,o.Z)().mark((function e(){var t,n,a,i,r,l,c,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={date:new Date(null===(t=R.current)||void 0===t?void 0:t.value),account:"".concat(null===(n=I.current)||void 0===n?void 0:n.value),type:null===(a=C.current)||void 0===a?void 0:a.value,policy:null===(i=z.current)||void 0===i?void 0:i.value,title:y},e.prev=1,e.next=4,h.post("/reports/reports/renewal-notice",r,{responseType:"arraybuffer",headers:{Authorization:"Bearer ".concat(null===v||void 0===v?void 0:v.accessToken)}});case 4:l=e.sent,c=new Blob([l.data],{type:"application/pdf"}),s=URL.createObjectURL(c),window.open(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("SERVER ERROR :",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)},color:"success",variant:"contained",sx:{height:"22px",fontSize:"12px"},children:"Generate Report"})]})})}},36151:function(e,t,n){n.d(t,{Z:function(){return C}});var o=n(4942),a=n(63366),i=n(87462),r=n(72791),l=n(63733),c=n(35735),s=n(94419),d=n(12065),u=n(66934),p=n(31402),v=n(95080),h=n(14036),f=n(75878),x=n(21217);function y(e){return(0,x.Z)("MuiButton",e)}var g=(0,f.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var b=r.createContext({}),m=n(80184),S=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Z=function(e){return(0,i.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},w=(0,u.ZP)(v.Z,{shouldForwardProp:function(e){return(0,u.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,h.Z)(n.color))],t["size".concat((0,h.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,h.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,a,r=e.theme,l=e.ownerState,c="light"===r.palette.mode?r.palette.grey[300]:r.palette.grey[800],s="light"===r.palette.mode?r.palette.grey.A100:r.palette.grey[700];return(0,i.Z)({},r.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:(r.vars||r).shape.borderRadius,transition:r.transitions.create(["background-color","box-shadow","border-color","color"],{duration:r.transitions.duration.short}),"&:hover":(0,i.Z)({textDecoration:"none",backgroundColor:r.vars?"rgba(".concat(r.vars.palette.text.primaryChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):(0,d.Fq)(r.palette.text.primary,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===l.variant&&"inherit"!==l.color&&{backgroundColor:r.vars?"rgba(".concat(r.vars.palette[l.color].mainChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):(0,d.Fq)(r.palette[l.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===l.variant&&"inherit"!==l.color&&{border:"1px solid ".concat((r.vars||r).palette[l.color].main),backgroundColor:r.vars?"rgba(".concat(r.vars.palette[l.color].mainChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):(0,d.Fq)(r.palette[l.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===l.variant&&{backgroundColor:r.vars?r.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(r.vars||r).shadows[4],"@media (hover: none)":{boxShadow:(r.vars||r).shadows[2],backgroundColor:(r.vars||r).palette.grey[300]}},"contained"===l.variant&&"inherit"!==l.color&&{backgroundColor:(r.vars||r).palette[l.color].dark,"@media (hover: none)":{backgroundColor:(r.vars||r).palette[l.color].main}}),"&:active":(0,i.Z)({},"contained"===l.variant&&{boxShadow:(r.vars||r).shadows[8]})},(0,o.Z)(t,"&.".concat(g.focusVisible),(0,i.Z)({},"contained"===l.variant&&{boxShadow:(r.vars||r).shadows[6]})),(0,o.Z)(t,"&.".concat(g.disabled),(0,i.Z)({color:(r.vars||r).palette.action.disabled},"outlined"===l.variant&&{border:"1px solid ".concat((r.vars||r).palette.action.disabledBackground)},"contained"===l.variant&&{color:(r.vars||r).palette.action.disabled,boxShadow:(r.vars||r).shadows[0],backgroundColor:(r.vars||r).palette.action.disabledBackground})),t),"text"===l.variant&&{padding:"6px 8px"},"text"===l.variant&&"inherit"!==l.color&&{color:(r.vars||r).palette[l.color].main},"outlined"===l.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===l.variant&&"inherit"!==l.color&&{color:(r.vars||r).palette[l.color].main,border:r.vars?"1px solid rgba(".concat(r.vars.palette[l.color].mainChannel," / 0.5)"):"1px solid ".concat((0,d.Fq)(r.palette[l.color].main,.5))},"contained"===l.variant&&{color:r.vars?r.vars.palette.text.primary:null==(n=(a=r.palette).getContrastText)?void 0:n.call(a,r.palette.grey[300]),backgroundColor:r.vars?r.vars.palette.Button.inheritContainedBg:c,boxShadow:(r.vars||r).shadows[2]},"contained"===l.variant&&"inherit"!==l.color&&{color:(r.vars||r).palette[l.color].contrastText,backgroundColor:(r.vars||r).palette[l.color].main},"inherit"===l.color&&{color:"inherit",borderColor:"currentColor"},"small"===l.size&&"text"===l.variant&&{padding:"4px 5px",fontSize:r.typography.pxToRem(13)},"large"===l.size&&"text"===l.variant&&{padding:"8px 11px",fontSize:r.typography.pxToRem(15)},"small"===l.size&&"outlined"===l.variant&&{padding:"3px 9px",fontSize:r.typography.pxToRem(13)},"large"===l.size&&"outlined"===l.variant&&{padding:"7px 21px",fontSize:r.typography.pxToRem(15)},"small"===l.size&&"contained"===l.variant&&{padding:"4px 10px",fontSize:r.typography.pxToRem(13)},"large"===l.size&&"contained"===l.variant&&{padding:"8px 22px",fontSize:r.typography.pxToRem(15)},l.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,o.Z)(t,"&.".concat(g.focusVisible),{boxShadow:"none"}),(0,o.Z)(t,"&:active",{boxShadow:"none"}),(0,o.Z)(t,"&.".concat(g.disabled),{boxShadow:"none"}),t)})),z=(0,u.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat((0,h.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Z(t))})),R=(0,u.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat((0,h.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Z(t))})),C=r.forwardRef((function(e,t){var n=r.useContext(b),o=(0,c.Z)(n,e),d=(0,p.Z)({props:o,name:"MuiButton"}),u=d.children,v=d.color,f=void 0===v?"primary":v,x=d.component,g=void 0===x?"button":x,Z=d.className,C=d.disabled,I=void 0!==C&&C,k=d.disableElevation,j=void 0!==k&&k,E=d.disableFocusRipple,F=void 0!==E&&E,M=d.endIcon,N=d.focusVisibleClassName,D=d.fullWidth,W=void 0!==D&&D,A=d.size,B=void 0===A?"medium":A,T=d.startIcon,V=d.type,O=d.variant,P=void 0===O?"text":O,L=(0,a.Z)(d,S),q=(0,i.Z)({},d,{color:f,component:g,disabled:I,disableElevation:j,disableFocusRipple:F,fullWidth:W,size:B,type:V,variant:P}),K=function(e){var t=e.color,n=e.disableElevation,o=e.fullWidth,a=e.size,r=e.variant,l=e.classes,c={root:["root",r,"".concat(r).concat((0,h.Z)(t)),"size".concat((0,h.Z)(a)),"".concat(r,"Size").concat((0,h.Z)(a)),"inherit"===t&&"colorInherit",n&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,h.Z)(a))],endIcon:["endIcon","iconSize".concat((0,h.Z)(a))]},d=(0,s.Z)(c,y,l);return(0,i.Z)({},l,d)}(q),U=T&&(0,m.jsx)(z,{className:K.startIcon,ownerState:q,children:T}),G=M&&(0,m.jsx)(R,{className:K.endIcon,ownerState:q,children:M});return(0,m.jsxs)(w,(0,i.Z)({ownerState:q,className:(0,l.Z)(n.className,K.root,Z),component:g,disabled:I,focusRipple:!F,focusVisibleClassName:(0,l.Z)(K.focusVisible,N),ref:t,type:V},L,{classes:K,children:[U,u,G]}))}))}}]);
//# sourceMappingURL=5379.93ae9f32.chunk.js.map