"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[8185],{37209:function(e,t,n){n.d(t,{sT:function(){return d},lq:function(){return u},Fz:function(){return c},iA:function(){return a},oi:function(){return l}});var r=n(1413),i=n(72791),o=n(80184);function a(e){var t=e.input,n=e.label,a=e.inputRef,l=e.icon,c=e.iconPosition,u=void 0===c?"end":c,d=e.disableIcon,s=void 0!==d&&d,f=e.onIconClick,p=void 0===f?function(e){}:f,h=e.onChange,x=void 0===h?function(e){}:h,v=(0,i.useId)(),m=function(e){if(!e)return e;var t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},g=function(e){return e.replace(/,/g,"")};return(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",position:"relative"},children:[(0,o.jsx)("label",(0,r.Z)((0,r.Z)({},n),{},{htmlFor:v,children:n.title})),l&&"start"===u&&(0,o.jsx)("div",{style:{position:"absolute",left:"8px",zIndex:1},children:l}),(0,o.jsx)("input",(0,r.Z)((0,r.Z)({ref:a,id:v},t),{},{type:"text",style:(0,r.Z)({height:"100%"},t.style),onChange:function(e){!function(e){var t=e.target.value;t=g(t),(""===(t=g(t))||/^-?\d+(,\d{3})*(\.\d*)?$/.test(t))&&(e.target.value=m(t))}(e),x(e)},onBlur:function(e){!function(e){var t=g(e.target.value);t=function(e){return e.includes(".")?1===e.split(".")[1].length?e+"0":e:""===e?"0.00":e+".00"}(t),e.target.value=m(t)}(e)}})),l&&"end"===u&&(0,o.jsx)("div",{onClick:p,style:{position:"absolute",right:"2px",top:"50%",transform:"translateY(-50%)",zIndex:1,cursor:s?"none":"pointer",display:"flex",alignItems:"center",justifyContent:"center",background:"white",pointerEvents:s?"none":"auto"},children:l})]})}function l(e){var t=e.input,n=e.label,a=e.inputRef,l=e.icon,c=e.iconPosition,u=void 0===c?"end":c,d=e.disableIcon,s=void 0!==d&&d,f=e.onIconClick,p=void 0===f?function(e){}:f,h=(0,i.useId)();return(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",position:"relative"},children:[(0,o.jsx)("label",(0,r.Z)((0,r.Z)({},n),{},{htmlFor:h,children:n.title})),l&&"start"===u&&(0,o.jsx)("div",{style:{position:"absolute",left:"8px",zIndex:1},children:l}),(0,o.jsx)("input",(0,r.Z)((0,r.Z)({ref:a,id:h},t),{},{style:(0,r.Z)({height:"100%"},t.style)})),l&&"end"===u&&(0,o.jsx)("div",{onClick:p,style:{position:"absolute",right:"2px",top:"50%",transform:"translateY(-50%)",zIndex:1,cursor:s?"none":"pointer",display:"flex",alignItems:"center",justifyContent:"center",background:"white",pointerEvents:s?"none":"auto"},children:l})]})}function c(e){var t=e.textarea,n=e.label,a=e._inputRef,l=e.icon,c=e.iconPosition,u=void 0===c?"end":c,d=e.disableIcon,s=void 0!==d&&d,f=e.onIconClick,p=void 0===f?function(e){}:f,h=(0,i.useId)();return(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",position:"relative"},children:[(0,o.jsx)("label",(0,r.Z)((0,r.Z)({},n),{},{htmlFor:h,children:n.title})),l&&"start"===u&&(0,o.jsx)("div",{style:{position:"absolute",left:"8px",zIndex:1},children:l}),(0,o.jsx)("textarea",(0,r.Z)((0,r.Z)({ref:a,id:h},t),{},{style:(0,r.Z)({height:"100%"},t.style)})),l&&"end"===u&&(0,o.jsx)("div",{onClick:p,style:{position:"absolute",right:"2px",top:"50%",transform:"translateY(-50%)",zIndex:1,cursor:s?"none":"pointer",display:"flex",alignItems:"center",justifyContent:"center",background:"white",pointerEvents:s?"none":"auto"},children:l})]})}function u(e){var t=e.select,n=e.label,a=e.selectRef,l=e.datasource,c=void 0===l?[]:l,u=e.values,d=void 0===u?"":u,s=e.display,f=void 0===s?"":s,p=(0,i.useId)();return(0,o.jsxs)("div",{style:{display:"flex",height:"18px",alignItems:"center"},children:[(0,o.jsx)("label",(0,r.Z)((0,r.Z)({},n),{},{htmlFor:p,children:n.title})),(0,o.jsx)("select",(0,r.Z)((0,r.Z)({},t),{},{ref:a,className:"select ".concat(t.className),style:(0,r.Z)({height:"18px"},t.style),children:c.map((function(e,t){return(0,o.jsx)("option",{value:e[d],children:e[f]},t)}))}))]})}function d(e){var t=e.buttonRetRef,n=e.button,i=e.tooltipText,a=void 0===i?"":i,l=e.children,c=e.disabled,u=void 0!==c&&c;return(0,o.jsxs)("div",{className:"tooltip",children:[(0,o.jsx)("button",(0,r.Z)((0,r.Z)({disabled:u},n),{},{ref:t,style:(0,r.Z)((0,r.Z)({},n.style),{},{background:u?"#f1f1f1":"transparent"}),className:"tooltip-button",children:l})),!u&&(0,o.jsx)("span",{className:"tooltip-text",children:a})]})}},93346:function(e,t,n){n.d(t,{r:function(){return c}});var r=n(93433),i=n(29439),o=n(72791),a=n(16088),l=n(80184),c=(0,o.forwardRef)((function(e,t){var n,c=e.rows,u=e.column,d=e.width,s=e.height,f=e.dataReadOnly,p=e.onSelectionChange,h=void 0===p?function(){}:p,x=e.isMultipleSelect,v=void 0!==x&&x,m=e.freeze,g=void 0!==m&&m,y=e.onKeyDown,k=e.inputsearchselector,b=void 0===k?".search-input-up-on-key-down":k,D=e.isRowSelectable,w=void 0===D||D,N=e.unSelectable,C=void 0===N?function(){return!1}:N,S=e.isLoading,j=e.onRightClick,Z=(0,o.useState)([]),R=(0,i.Z)(Z,2),I=R[0],E=R[1],_=(0,o.useState)(0),P=(0,i.Z)(_,2),A=P[0],T=P[1],F=(0,o.useRef)(h),M=(0,o.useRef)(y),L=(0,o.useState)(u.filter((function(e){return!e.hide}))),B=(0,i.Z)(L,2),z=B[0],U=B[1],K=(0,o.useState)(null),O=(0,i.Z)(K,2),q=O[0],W=O[1],V=(0,o.useState)([0]),Y=(0,i.Z)(V,2),G=Y[0],J=Y[1],Q=(0,o.useState)(0),H=(0,i.Z)(Q,2),X=H[0],$=H[1],ee=(0,o.useState)([]),te=(0,i.Z)(ee,2),ne=te[0],re=te[1],ie=(0,o.useRef)(null),oe=(0,o.useState)(null),ae=(0,i.Z)(oe,2),le=ae[0],ce=ae[1];(0,o.useEffect)((function(){var e=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}(c,100);E(e)}),[c]);var ue=function(e,t){t.preventDefault(),t.stopPropagation();var n=t.clientX,i=z[e].width,o=function(t){var o=i+(t.clientX-n),a=(0,r.Z)(z);a[e].width=o>50?o:50,U(a)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)}))},de=function(e){W(e)},se=function(){W(null)};(0,o.useImperativeHandle)(t,(function(){return{resetTableSelected:function(){if(J([0]),$(0),re([]),c.length>0){var e=document.querySelector(".row-".concat(0));null===e||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"})}},getSelectedIndex:function(){return ne[0]},getSelectedRows:function(){return c.filter((function(e,t){return ne.includes(t)}))},getFirstColumn:function(){return c.filter((function(e,t){return ne.includes(t)}))},getParentElement:function(){return ie.current},getSelectedRowsOnClick:function(){return G[0]},setSelectRows:function(e){return re([e])}}}));return(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center"},onKeyDown:function(e){if("ArrowDown"===e.key)e.preventDefault(),J((function(e){var t;if(null===e[e.length-1])return[0];if(e[e.length-1]>=c.length-1)return[c.length-1];var n=e[e.length-1]+1,r=document.querySelector(".row-".concat(n));return null===r||void 0===r||null===(t=r.querySelector("input"))||void 0===t||t.focus(),null===r||void 0===r||r.scrollIntoView({block:"end",behavior:"smooth"}),[n]}));else if("ArrowUp"===e.key){if(e.preventDefault(),0===G[G.length-1]){var t=document.querySelector(b);if(t&&"INPUT"===t.tagName)null===t||void 0===t||t.focus();else if(t&&"DIV"===t.tagName){var n=document.querySelector("".concat(b," input"));null===n||void 0===n||n.focus()}}J((function(e){var t;if(0===e[e.length-1])return[0];var n=e[e.length-1]-1,r=document.querySelector(".row-".concat(n));return null===r||void 0===r||r.scrollIntoView({block:"end",behavior:"smooth"}),null===r||void 0===r||null===(t=r.querySelector("input"))||void 0===t||t.focus(),[n]}))}},children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"table-frame-color",children:[(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",width:"".concat(d-10,"px        "),height:"".concat(s-135,"px"),minHeight:"270px"},className:"table-frame",children:(0,l.jsx)("div",{className:"table-panel",children:(0,l.jsxs)("div",{ref:ie,className:"grid-container ",tabIndex:-1,children:[(0,l.jsx)("div",{className:"grid-row grid-header",style:{position:"sticky",zIndex:"10",top:"-1px",background:"white"},children:z.map((function(e,t){return(0,l.jsxs)("div",{className:"grid-cell header-cell ".concat(q===t?"highlight-column":""),style:{width:e.width,height:"20px"},children:[(0,l.jsx)("input",{style:{fontWeight:"bold"},defaultValue:e.headerName,readOnly:!0,onChange:function(e){}}),(0,l.jsx)("div",{className:"resize-handle",onMouseDown:function(e){return ue(t,e)},onMouseEnter:function(e){e.preventDefault(),de(t)},onMouseLeave:function(e){e.preventDefault(),se()}})]},t)}))}),null===(n=I[A])||void 0===n?void 0:n.map((function(e,t){return(0,l.jsx)("div",{className:"grid-row row-".concat(t),onClick:function(e){return function(e,t){if(v)if(t.shiftKey&&null!==X){for(var n=Math.min(X,e),i=Math.max(X,e),o=[],a=n;a<=i;a++)G.includes(a)||o.push(a);var l=[].concat((0,r.Z)(ne),o);J([].concat((0,r.Z)(G),o));var u=function(e){var t=e.map((function(e,t){return C(e)?null:{idx:t,data:e}})).filter((function(e){return null!==e})),n=t.map((function(e){return e.data}));return{newSelectedRowsFiltered:t.map((function(e){return e.idx})),data:n}}(c.filter((function(e,t){return l.includes(t)}))).newSelectedRowsFiltered;re(u)}else if(t.ctrlKey||t.metaKey)if(G.includes(e)&&!g){J(G.filter((function(t){return t!==e}))),re((function(t){return t=t.filter((function(t){return t!==e})),t}));var d=ne.filter((function(t){return t!==e}));re(d)}else{J([].concat((0,r.Z)(G),[e])),re((function(t){return t.push(e),t}));var s=[].concat((0,r.Z)(ne),[e]);re(s)}else J([e]);else J([e]);$(e)}(t,e)},onDoubleClick:function(e){le&&(clearTimeout(le),ce(null));var n=setTimeout((function(){!function(e,t){var n=c[e];if(!C(n)&&w){var i=[];if(i=v?[].concat((0,r.Z)(ne),(0,r.Z)(G)):[e],ne.includes(e)&&!g)return i=ne.filter((function(t){return t!==e})),re(i),void F.current([],e);re(i),F.current([n],e)}}(t)}),200);ce(n)},onKeyDown:function(e){le&&(clearTimeout(le),ce(null));var t=setTimeout((function(){!function(e){if(e.stopPropagation(),"Enter"===e.key||"NumpadEnter"===e.key){if(e.preventDefault(),!w)return;var t=[],n=G[G.length-1];t=v?[].concat((0,r.Z)(ne),(0,r.Z)(G)):[n];var i=c[t[t.length-1]];if(C(i))return;if(ne.includes(n)&&!g)return t=ne.filter((function(e){return e!==n})),re(t),void F.current([],n);re(t),F.current([i],n)}else if("Delete"===e.key||"Backspace"===e.key){if(!w)return;var o=G[G.length-1],a=c.filter((function(e,t){return G.includes(t)}));null!==M&&void 0!==M&&M.current&&(null===M||void 0===M||M.current(a,e.key,o))}}(e)}),200);ce(t)},onContextMenu:function(e){return function(e,t){e.preventDefault();var n=c[t];j&&j(n,e)}(e,t)},children:z.map((function(n,r){return(0,l.jsxs)("div",{style:{width:n.width},className:"grid-cell ".concat(q===r?"highlight-column":""," row-").concat(t," col-").concat(r),children:[(0,l.jsx)("input",{value:e[n.field],onChange:function(e){},readOnly:f,className:"".concat(G.includes(t)?"selected-row":""," ").concat(ne.includes(t)?"selected-items":"","\n                          ").concat("number"===n.type?"number":"text","\n                          ")}),(0,l.jsx)("div",{className:"resize-handle",onMouseDown:function(e){e.preventDefault(),ue(r,e)},onMouseEnter:function(e){e.preventDefault(),de(r)},onMouseLeave:function(e){e.preventDefault(),se()}})]},r)}))},t)}))]})})}),S&&(0,l.jsx)("div",{className:"table-loading",children:(0,l.jsx)("div",{className:"loader"})})]}),(0,l.jsxs)("div",{className:"table-panel-footer",children:[(0,l.jsxs)("div",{children:["Records : ",null===c||void 0===c?void 0:c.length]}),(0,l.jsx)("div",{children:(0,l.jsx)(a.Z,{count:I.length,onChange:function(e,t){T(t-1)}})})]})]})})}))},8185:function(e,t,n){n.r(t),n.d(t,{default:function(){return re},incrementCheckNo:function(){return oe},pdcBanksColumn:function(){return ee},pdcColumn:function(){return X},pdcSearchColumn:function(){return $},reducer:function(){return H},setNewStateValue:function(){return ie}});var r=n(93433),i=n(74165),o=n(15861),a=n(29439),l=n(4942),c=n(1413),u=n(72791),d=n(64554),s=n(27391),f=n(36151),p=n(65117),h=n(23786),x=n(68096),v=n(94925),m=n(77196),g=n(63466),y=n(13400),k=n(88447),b=n(20890),D=n(42419),w=n(91933),N=n(21830),C=n.n(N),S=n(53329),j=n(3380),Z=n(13784),R=n(91421),I=n(29823),E=n(54164),_=n(39709),P=n(86753),A=n(73518),T=n(64230),F=n(71640),M=n(92562),L=n(58340),B=n(5519),z=n(93346),U=n(37209),K=n(763),O=n(79018),q=n(80184),W=function(e){var t,n=e.myAxios,r=e.user,l=e.column,c=e.link,d=e.onSelectionChange,s=e.responseDataKey,f=e.onModalClose,p=void 0===f?function(){}:f,h=(0,u.useId)(),x=(0,u.useRef)(null),v=(0,u.useRef)(null),m=(0,u.useRef)(null),g=(0,u.useState)(!1),b=(0,a.Z)(g,2),D=b[0],N=b[1],C=(0,u.useState)([]),S=(0,a.Z)(C,2),j=S[0],Z=S[1],R=(0,w.useMutation)({mutationKey:h,mutationFn:function(e){return(t=t||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.get("".concat(null===c||void 0===c?void 0:c.url,"?").concat(null===c||void 0===c?void 0:c.queryUrlName,"=").concat(t.search),{headers:{Authorization:"Bearer ".concat(null===r||void 0===r?void 0:r.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){Z(e.data[s])}}),E=R.isLoading,_=R.mutate,P=(0,K.throttle)((function(e){return function(e){""===e&&_({search:e})}(e)}),500),A=function(){N(!1),p()};return(0,u.useEffect)((function(){D&&m.current&&(0,O.D)(1050).then((function(){var e;null===(e=m.current)||void 0===e||e.focus()}))}),[D,m]),{Modal:(0,q.jsx)(k.Z,{open:D,onClose:function(){N(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,q.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"auto",background:"#fff",paddingTop:"30px",paddingBottom:"20px",paddingLeft:"10px",paddingRight:"10px"},children:(0,q.jsxs)("div",{children:[(0,q.jsx)(U.oi,{label:{style:{display:"none"}},input:{className:"search-input-up-on-key-down",type:"text",style:{width:"100%",marginBottom:"20px"},onChange:function(e){e.preventDefault(),P(e.currentTarget.value)},onKeyDown:function(e){if("Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),_({search:e.target.value})),"ArrowDown"===e.key){e.preventDefault();var t=v.current.getParentElement().querySelector(".grid-container .row-0.col-0 input");setTimeout((function(){t&&t.focus()}),100)}}},inputRef:x}),(0,q.jsx)(z.r,{ref:v,rows:j,column:l.filter((function(e){return!e.hide})),width:460,height:530,dataReadOnly:!0,onSelectionChange:d}),(0,q.jsx)(y.Z,{style:{position:"absolute",top:"5px",right:"10px"},"aria-label":"search-client",onClick:A,children:(0,q.jsx)(I.Z,{style:{fontSize:"15px"}})})]})})}),openModal:function(e){_({search:e}),N(!0),setTimeout((function(){var t;x.current&&(x.current.value=e),null===(t=x.current)||void 0===t||t.focus()}),150)},closeModal:A,isLoading:E}},V=n(78946),Y=n(30948),G=n(16386),J={Sub_Ref_No:"",Ref_No:"",PNo:"",IDNo:"",Date:new Date,Name:"",Remarks:"",PDC_Status:"",Deposit_Slip:"",DateDeposit:"",OR_No:"",search:"",pdcMode:"",checkMode:"",sub_account:"",Acronym:""},Q={CheckIdx:"0",BankName:"",BankCode:"",Branch:"",Check_Date:new Date,Check_No:"",Check_Amnt:"",Check_Remarks:"",Check_Count:""},H=function(e,t){return"UPDATE_FIELD"===t.type?(0,c.Z)((0,c.Z)({},e),{},(0,l.Z)({},t.field,t.value)):e},X=[{field:"Check_No",headerName:"Check No.",width:150},{field:"Check_Date",headerName:"Check Date",width:150},{field:"Check_Amnt",headerName:"Amount",width:150,type:"number"},{field:"BankName",headerName:"Bank",width:200},{field:"Branch",headerName:"Branch",width:200},{field:"Check_Remarks",headerName:"Checked Remarks",width:350},{field:"Deposit_Slip",headerName:"Deposit Slip",width:150},{field:"DateDeposit",headerName:"Date Deposit",width:150},{field:"OR_No",headerName:"OR Num",width:150},{field:"BankCode",headerName:"Bank Code",width:150,hide:!0}],$=[{field:"Date",headerName:"Date Received",width:160},{field:"Ref_No",headerName:"Ref No.",width:160},{field:"Name",headerName:"Name",flex:1}],ee=[{field:"Bank_Code",headerName:"Code",width:130},{field:"Bank",headerName:"Bank Name",flex:1}],te="pdc",ne="pdc-search";function re(){var e,t,n,N,K,O,$,ee=(0,u.useRef)(null),re=u.useState(null),ae=(0,a.Z)(re,2),le=ae[0],ce=ae[1],ue=Boolean(le),de=(0,u.useState)(!1),se=(0,a.Z)(de,2),fe=se[0],pe=se[1],he=(0,u.useState)([]),xe=(0,a.Z)(he,2),ve=xe[0],me=xe[1],ge=(0,u.useState)([]),ye=(0,a.Z)(ge,2),ke=ye[0],be=ye[1],De=(0,u.useState)(!1),we=(0,a.Z)(De,2),Ne=we[0],Ce=we[1],Se=(0,u.useState)(!1),je=(0,a.Z)(Se,2),Ze=je[0],Re=je[1],Ie=(0,u.useReducer)(H,J),Ee=(0,a.Z)(Ie,2),_e=Ee[0],Pe=Ee[1],Ae=(0,u.useReducer)(H,Q),Te=(0,a.Z)(Ae,2),Fe=Te[0],Me=Te[1],Le=(0,u.useContext)(j.V),Be=Le.myAxios,ze=Le.user,Ue=((0,u.useRef)(null),(0,u.useRef)(null)),Ke=(0,u.useRef)(null),Oe=(0,u.useRef)(null),qe=(0,u.useRef)(null),We=(0,u.useRef)(null),Ve=(0,u.useRef)(null),Ye=(0,u.useRef)(null),Ge=(0,u.useRef)(null),Je=(0,u.useRef)(null),Qe=(0,u.useRef)(null),He=(0,u.useRef)(null),Xe=(0,u.useRef)(null),$e=(0,u.useRef)(null),et=(0,u.useRef)(""),tt=(0,u.useRef)(""),nt=(0,u.useRef)(""),rt=(0,u.useRef)(""),it=(0,u.useRef)(null),ot=(0,w.useQueryClient)(),at=(0,u.useRef)(null),lt=(0,u.useRef)(null),ct=(0,u.useRef)(null),ut=(0,u.useRef)(null),dt=(0,u.useRef)(null),st=(0,w.useQuery)({queryKey:"new-ref-number",queryFn:function(){return(e=e||(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.get("/task/accounting/pdc-new-ref-number",{headers:{Authorization:"Bearer ".concat(null===ze||void 0===ze?void 0:ze.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},refetchOnWindowFocus:!1,onSuccess:function(e){var t=e;Pe({type:"UPDATE_FIELD",field:"Ref_No",value:t.data.RefNo[0].pdcID}),Pe({type:"UPDATE_FIELD",field:"Sub_Ref_No",value:t.data.RefNo[0].pdcID})}}),ft=st.isLoading,pt=st.refetch,ht=(0,w.useMutation)({mutationKey:te,mutationFn:function(e){return(t=t||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("update"!==_e.pdcMode){e.next=5;break}return delete t.mode,e.next=4,Be.post("/task/accounting/update-pdc",t,{headers:{Authorization:"Bearer ".concat(null===ze||void 0===ze?void 0:ze.accessToken)}});case 4:case 8:return e.abrupt("return",e.sent);case 5:return delete t.mode,e.next=8,Be.post("/task/accounting/add-pdc",t,{headers:{Authorization:"Bearer ".concat(null===ze||void 0===ze?void 0:ze.accessToken)}});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){if(e.data.success)return pt(),ot.invalidateQueries(ne),ie(Pe,J),be([]),Pe({type:"UPDATE_FIELD",field:"pdcMode",value:""}),C().fire({position:"center",icon:"success",title:e.data.message,showConfirmButton:!1,timer:1500});C().fire({position:"center",icon:"error",title:e.data.message,showConfirmButton:!1,timer:1500})}}),xt=ht.mutate,vt=ht.isLoading,mt=(0,w.useMutation)({mutationKey:te,mutationFn:function(e){return(n=n||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.post("/task/accounting/get-search-pdc-check",t,{headers:{Authorization:"Bearer ".concat(null===ze||void 0===ze?void 0:ze.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){return(N=N||(0,o.Z)((0,i.Z)().mark((function e(t){var n,r,a,l,u,d,s,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=function(e,t){return(n=n||(0,o.Z)((0,i.Z)().mark((function e(t,n){var r,o,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],o=(0,i.Z)().mark((function e(){var o,l,c,u,d,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t[a],l="".concat(n,"/").concat(o.uniqueFilename),e.next=4,fetch(l);case 4:return c=e.sent,e.next=7,c.blob();case 7:u=e.sent,d=new File([u],o.fileName,{type:o.fileType}),s=new FileReader,r.push(new Promise((function(e,t){s.onload=function(t){e(d)},s.onerror=function(e){t(new Error("Error reading file: "+d.name))},s.readAsDataURL(d)})));case 11:case"end":return e.stop()}}),e)})),a=0;case 3:if(!(a<t.length)){e.next=8;break}return e.delegateYield(o(),"t0",5);case 5:a++,e.next=3;break;case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},null!==t&&void 0!==t&&t.data.success){e.next=3;break}return e.abrupt("return",alert("Error : ".concat(null===t||void 0===t?void 0:t.data.message)));case 3:if(a=(r=t).data.getSearchPDCCheck[0].Ref_No,!r.data.upload[0]){e.next=14;break}return u=JSON.parse(null===(l=r.data.upload[0])||void 0===l?void 0:l.upload),e.next=9,f(u,"".concat("http://localhost:4400/","pdc/").concat(a));case 9:return d=e.sent,e.next=12,Promise.all(d);case 12:s=e.sent,me(s);case 14:be(r.data.getSearchPDCCheck.map((function(e,t){return(0,c.Z)((0,c.Z)({},e),{},{CheckIdx:"".concat(t)})}))),Pe({type:"UPDATE_FIELD",field:"Ref_No",value:r.data.getSearchPDCCheck[0].Ref_No}),Pe({type:"UPDATE_FIELD",field:"Name",value:r.data.getSearchPDCCheck[0].Name}),Pe({type:"UPDATE_FIELD",field:"Date",value:r.data.getSearchPDCCheck[0].Date}),Pe({type:"UPDATE_FIELD",field:"PNo",value:r.data.getSearchPDCCheck[0].PNo}),Pe({type:"UPDATE_FIELD",field:"IDNo",value:r.data.getSearchPDCCheck[0].IDNo}),Pe({type:"UPDATE_FIELD",field:"Acronym",value:r.data.getSearchPDCCheck[0].Acronym}),Pe({type:"UPDATE_FIELD",field:"sub_account",value:r.data.getSearchPDCCheck[0].sub_account}),Pe({type:"UPDATE_FIELD",field:"Remarks",value:r.data.getSearchPDCCheck[0].Remarks}),Pe({type:"UPDATE_FIELD",field:"pdcMode",value:"update"});case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),gt=mt.mutate,yt=mt.isLoading,kt=W({myAxios:Be,user:ze,link:{url:"/task/accounting/search-pdc-policy-id",queryUrlName:"searchPdcPolicyIds"},column:[{field:"Type",headerName:"Type",width:130},{field:"IDNo",headerName:"ID No.",width:200},{field:"chassis",headerName:"Chassis No.",width:200,hide:!0},{field:"Name",headerName:"Name",width:350},{field:"ID",headerName:"ID",width:300,hide:!0},{field:"client_id",headerName:"client_id",width:200,hide:!0}],onSelectionChange:function(e){var t,n;e.length>0&&(Pe({type:"UPDATE_FIELD",field:"PNo",value:e[0].IDNo}),Pe({type:"UPDATE_FIELD",field:"IDNo",value:e[0].client_id}),Pe({type:"UPDATE_FIELD",field:"Name",value:null!==(t=e[0].Name)&&void 0!==t?t:""}),Pe({type:"UPDATE_FIELD",field:"Remarks",value:null!==(n=e[0].remarks)&&void 0!==n?n:""}),Pe({type:"UPDATE_FIELD",field:"sub_account",value:e[0].sub_account}),Pe({type:"UPDATE_FIELD",field:"Acronym",value:e[0].Acronym}),Dt(),ke.length<=0&&setTimeout((function(){var e;null===(e=it.current)||void 0===e||e.click()}),100))},responseDataKey:"clientsId"}),bt=kt.Modal,Dt=kt.closeModal,wt=kt.openModal,Nt=kt.isLoading,Ct=W({myAxios:Be,user:ze,link:{url:"/task/accounting/search-pdc-banks",queryUrlName:"searchPdcBanks"},column:[{field:"Bank_Code",headerName:"Code",width:100},{field:"Bank",headerName:"Bank Name",width:350}],onSelectionChange:function(e){e.length>0&&(setTimeout((function(){et.current=e[0].Bank_Code,Ge.current&&(Ge.current.value=e[0].Bank)}),100),jt(),Ce(!0),setTimeout((function(){var e;null===(e=Je.current)||void 0===e||e.focus()}),100))},onModalClose:function(){setTimeout((function(){Ce(!0)}),100)},responseDataKey:"pdcBanks"}),St=Ct.Modal,jt=Ct.closeModal,Zt=Ct.openModal,Rt=Ct.isLoading,It=W({myAxios:Be,user:ze,column:[{field:"Date",headerName:"Date Received",width:90},{field:"Ref_No",headerName:"Ref No.",width:80},{field:"Name",headerName:"Name",width:320}],link:{url:"/task/accounting/search-pdc",queryUrlName:"searchPDCInput"},onSelectionChange:function(e){var t;e.length>0&&(gt({ref_no:e[0].Ref_No}),_t(),Ue.current&&(null===(t=Ue.current)||void 0===t||t.focus()))},responseDataKey:"searchPDC"}),Et=It.Modal,_t=It.closeModal,Pt=It.openModal,At=It.isLoading,Tt=function(e){var t=e.target,n=t.name,r=t.value;Pe({type:"UPDATE_FIELD",field:n,value:r})};var Ft=function(e){e.preventDefault(),pe(!1)},Mt=function(e){e.preventDefault(),pe(!0)},Lt=function(e){e.preventDefault();var t,n=e.dataTransfer.files,i=Array.from(n),o=[].concat((0,r.Z)(ve),i);if(pe(!1),(0,M.checkFile)(o))return null===(t=Ke.current)||void 0===t||t.click(),alert("file is not valid Extention!");me(o)};function Bt(e){return(e||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function zt(){setTimeout((function(){var e;null===(e=ee.current)||void 0===e||e.resetTableSelected();var t=ee.current.getParentElement().querySelector(".grid-container .row-0.col-0 input");setTimeout((function(){t&&t.focus()}),100)}),100)}var Ut=""===_e.pdcMode,Kt=window.innerWidth-50,Ot=window.innerHeight-145;return(0,q.jsxs)("div",{style:{width:"100%",height:"100%",flex:1,background:"red",padding:"10px",backgroundColor:"#F8F8FF"},children:[St,Et,bt,(0,q.jsx)(d.Z,{sx:function(e){return(0,l.Z)({display:"flex",alignItems:"center",columnGap:"20px"},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"flex-start",flex:1,marginBottom:"15px"})},children:(0,q.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"5px",marginBottom:"15px"},children:[At?(0,q.jsx)(_.Z,{loading:At}):(0,q.jsx)(s.Z,{label:"Search",size:"small",name:"search",value:_e.search,onChange:Tt,onKeyDown:function(e){("Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),Pt(e.target.value)),"ArrowDown"===e.key)&&(e.preventDefault(),document.querySelector(".grid-container").focus())},InputProps:{style:{height:"27px",fontSize:"14px"},inputRef:Ue,className:"manok"},sx:{width:"400px",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),""===_e.pdcMode&&(0,q.jsx)(f.Z,{sx:{height:"30px",fontSize:"11px"},variant:"contained",startIcon:(0,q.jsx)(D.Z,{sx:{width:15,height:15}}),id:"entry-header-save-button",color:"primary",onClick:function(){Pe({type:"UPDATE_FIELD",field:"pdcMode",value:"add"})},children:"New"}),(0,q.jsx)(_.Z,{sx:{height:"30px",fontSize:"11px"},ref:Oe,id:"save-entry-header",color:"success",variant:"contained",type:"submit",onClick:function(e){return(K=K||(0,o.Z)((0,i.Z)().mark((function e(t){var n,r,o,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(e){var t=ve;if(t.length>0)for(var n=function(){var n=t[r],i=new FileReader;e.push(new Promise((function(e,t){i.onload=function(t){var r;e({datakey:"pdc_file",fileName:n.name,fileContent:null===(r=t.target)||void 0===r?void 0:r.result,fileType:n.type,file:n})},i.onerror=function(e){t(new Error("Error reading file: "+n.name))},i.readAsDataURL(n)})))},r=0;r<t.length;r++)n()},""!==_e.PNo){e.next=3;break}return e.abrupt("return",C().fire({position:"center",icon:"warning",title:"Please provide loan information!",timer:1500}).then((function(){setTimeout((function(){var e;null===(e=qe.current)||void 0===e||e.click()}),350)})));case 3:if(!(ke.length<=0)){e.next=5;break}return e.abrupt("return",C().fire({position:"center",icon:"warning",title:"Please provide entry!",timer:1500}).then((function(){Ce(!0)})));case 5:if(!(_e.PNo.length>=45)){e.next=7;break}return e.abrupt("return",C().fire({position:"center",icon:"warning",title:"Pno is too long!",timer:1500}));case 7:if(!(_e.Remarks.length>=220)){e.next=9;break}return e.abrupt("return",C().fire({position:"center",icon:"warning",title:"Remarks is too long!",timer:1500}));case 9:return r(n=[]),e.next=13,Promise.all(n);case 13:o=e.sent,a={Ref_No:_e.Ref_No,PNo:_e.PNo,IDNo:_e.IDNo,Date:_e.Date,Name:_e.Name,Remarks:_e.Remarks,BankCode:_e.BankCode,checks:JSON.stringify(ke)},"update"===_e.pdcMode?(0,T.s)({isUpdate:!0,cb:function(e){xt((0,c.Z)((0,c.Z)({},a),{},{userCodeConfirmation:e,fileToSave:o}))}}):(0,T.L)({isConfirm:function(){xt((0,c.Z)((0,c.Z)({},a),{},{fileToSave:o}))}});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)},disabled:""===_e.pdcMode,loading:vt,startIcon:(0,q.jsx)(S.Z,{sx:{width:15,height:15}}),children:"Save"}),("add"===_e.pdcMode||"update"===_e.pdcMode)&&(0,q.jsx)(f.Z,{sx:{height:"30px",fontSize:"11px"},variant:"contained",startIcon:(0,q.jsx)(I.Z,{sx:{width:15,height:15}}),onClick:function(){C().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&(J.Sub_Ref_No=_e.Sub_Ref_No,J.Ref_No=_e.Sub_Ref_No,ie(Pe,J),be([]),Pe({type:"UPDATE_FIELD",field:"pdcMode",value:""}))}))},color:"error",children:"Cancel"}),(0,q.jsx)(f.Z,{sx:{height:"30px",fontSize:"11px"},disabled:""===_e.pdcMode,variant:"contained",startIcon:(0,q.jsx)(D.Z,{sx:{width:15,height:15}}),onClick:function(){var e,t=ke[ke.length-1];Q.Check_No=oe(null===t||void 0===t?void 0:t.Check_No),ie(Me,Q),Pe({type:"UPDATE_FIELD",field:"checkMode",value:""}),(0,E.flushSync)((function(){Ce(!0)})),null===(e=Ye.current)||void 0===e||e.focus()},ref:it,children:"Add Check"}),(0,q.jsxs)("div",{children:[(0,q.jsx)(f.Z,{disabled:"update"!==_e.pdcMode,id:"basic-button","aria-controls":ue?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":ue?"true":void 0,onClick:function(e){ce(e.currentTarget)},sx:{height:"30px",fontSize:"11px",color:"white",backgroundColor:B.Z[600],"&:hover":{backgroundColor:B.Z[700]}},children:"Print"}),(0,q.jsxs)(p.Z,{id:"basic-menu",anchorEl:le,open:ue,onClose:function(){ce(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,q.jsx)(h.Z,{onClick:function(){(0,E.flushSync)((function(){localStorage.removeItem("printString"),localStorage.setItem("dataString",JSON.stringify(ke)),localStorage.setItem("paper-width","8.5in"),localStorage.setItem("paper-height","11in"),localStorage.setItem("module","pdc"),localStorage.setItem("state",JSON.stringify(_e)),localStorage.setItem("column",JSON.stringify([{datakey:"Check_No",header:"CHECK NO",width:"80px"},{datakey:"Check_Date",header:"DATE",width:"130px"},{datakey:"BankName",header:"BANK",width:"240px"},{datakey:"Check_Amnt",header:"AMOUNT",width:"70px"},{datakey:"SEQ",header:"SEQ",width:"30px"}])),localStorage.setItem("title","UMIS"===(null===ze||void 0===ze?void 0:ze.department)?"UPWARD MANAGEMENT INSURANCE SERVICES\n Post Date Checks Receipt":"UPWARD CONSULTANCY SERVICES AND MANAGEMENT INC.\n Post Date Checks Receipt")})),window.open("/dashboard/print","_blank")},children:"PDC Receipt"}),(0,q.jsx)(h.Z,{onClick:function(){(0,E.flushSync)((function(){var e=L.renderToString((0,q.jsxs)("div",{children:[(0,q.jsx)("p",{style:{color:"#d1d5db",fontSize:"11px",textAlign:"center",padding:0,marginTop:"8px",marginBottom:0},children:"UCSMI"}),(0,q.jsx)("p",{style:{color:"#d1d5db",fontSize:"11px",textAlign:"center",padding:0,margin:0},children:_e.Name}),(0,q.jsx)("p",{style:{color:"#d1d5db",fontSize:"11px",textAlign:"center",padding:0,margin:0},children:_e.IDNo}),(0,q.jsx)("p",{style:{color:"#d1d5db",fontSize:"11px",textAlign:"center",padding:0,margin:"20px"},children:_e.Ref_No})]}));localStorage.setItem("printString",e),localStorage.removeItem("dataString"),localStorage.setItem("paper-width","8.5in"),localStorage.setItem("paper-height","11in")})),window.open("/dashboard/print","_blank")},children:"PDC Labeling"})]})]})]})}),(0,q.jsx)("form",{onKeyDown:function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||e.preventDefault()},style:{marginBottom:"20px"},children:(0,q.jsx)(d.Z,{sx:function(e){return(0,l.Z)({display:"flex",columnGap:"15px",flexDirection:"row"},e.breakpoints.down("md"),{flexDirection:"column",rowGap:"10px"})},children:(0,q.jsxs)(d.Z,{sx:{display:"flex",gap:"10px",width:"100%"},children:[(0,q.jsxs)("fieldset",{style:{flex:1,display:"flex",flexDirection:"column",gap:"10px",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,q.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[ft?(0,q.jsx)(_.Z,{loading:ft}):(0,q.jsxs)(x.Z,{fullWidth:!0,variant:"outlined",size:"small",disabled:Ut,sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,q.jsx)(v.Z,{htmlFor:"pdc-id-field",children:"Reference No."}),(0,q.jsx)(m.Z,{readOnly:"UCSMI"!==(null===ze||void 0===ze?void 0:ze.department),sx:{height:"27px",fontSize:"14px",fieldset:{borderColor:"black"}},disabled:Ut,label:"Reference No.",name:"Ref_No",value:_e.Ref_No,onChange:Tt,onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(null===(t=at.current)||void 0===t||t.focus())},id:"pdc-id-field",endAdornment:(0,q.jsx)(g.Z,{position:"end",children:(0,q.jsx)(y.Z,{disabled:Ut,"aria-label":"search-client",color:"secondary",edge:"end",children:(0,q.jsx)(P.Z,{})})})})]}),(0,q.jsx)(Z.Z,{fullWidth:!0,disabled:Ut,label:"Date Received",onChange:function(e){Pe({type:"UPDATE_FIELD",field:"Date",value:e})},inputRef:at,value:new Date(_e.Date),onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(null===(t=lt.current)||void 0===t||t.focus())},textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}}})]}),(0,q.jsx)(s.Z,{InputLabelProps:{sx:{color:"black"}},variant:"outlined",size:"small",label:"Remarks",name:"Remarks",value:_e.Remarks,onChange:Tt,disabled:Ut,onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(null===(t=ct.current)||void 0===t||t.focus())},InputProps:{style:{height:"27px",fontSize:"14px"},inputRef:lt},sx:{fieldset:{borderColor:"black"},".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}})]}),(0,q.jsxs)("fieldset",{style:{flex:1,display:"flex",gap:"10px",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px",flexDirection:"column"},children:[(0,q.jsxs)("div",{style:{width:"100%",flex:1,display:"flex",gap:"10px"},children:[Nt?(0,q.jsx)(_.Z,{loading:Nt}):(0,q.jsxs)(x.Z,{fullWidth:!0,variant:"outlined",size:"small",disabled:Ut,sx:{flex:1,".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,q.jsx)(v.Z,{htmlFor:"label-input-id",children:"PN/Client ID"}),(0,q.jsx)(m.Z,{inputRef:ct,sx:{fieldset:{borderColor:"black"},height:"27px",fontSize:"14px"},onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(null===(t=qe.current)||void 0===t||t.click())},name:"PNo",value:_e.PNo,onChange:Tt,id:"label-input-id",endAdornment:(0,q.jsx)(g.Z,{position:"end",children:(0,q.jsx)(y.Z,{ref:qe,disabled:Ut,"aria-label":"search-client",color:"secondary",edge:"end",onClick:function(){return wt(_e.PNo)},children:(0,q.jsx)(R.Z,{})})}),label:"PN/Client ID"})]}),(0,q.jsx)(s.Z,{InputLabelProps:{sx:{color:"black"}},variant:"outlined",size:"small",label:"Branch",name:"Acronym",value:_e.Acronym,onChange:Tt,disabled:Ut,onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(null===(t=dt.current)||void 0===t||t.focus())},InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0,inputRef:ut},sx:{fieldset:{borderColor:"black"},flex:1,height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}})]}),(0,q.jsxs)("div",{style:{width:"100%",display:"flex",columnGap:"10px"},children:[(0,q.jsx)(s.Z,{InputLabelProps:{sx:{color:"black"}},variant:"outlined",size:"small",label:"Clients Name",name:"Name",value:_e.Name,onChange:Tt,disabled:Ut,onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(null===(t=Oe.current)||void 0===t||t.click())},InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0,inputRef:dt},sx:{fieldset:{borderColor:"black"},flex:1,height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,q.jsx)(f.Z,{sx:{height:"27px",fontSize:"11px"},disabled:""===_e.pdcMode,variant:"contained",startIcon:(0,q.jsx)(A.Z,{sx:{width:15,height:15}}),onClick:function(){Re(!0)},children:"Upload Check"})]})]})]})})}),(0,q.jsx)(z.r,{isLoading:yt,ref:ee,rows:ke,column:X,width:Kt,height:Ot,dataReadOnly:!0,onSelectionChange:function(e){if(e.length>0){var t,n=e[0];console.log(n),setTimeout((function(){Ye.current&&Ge.current&&Je.current&&Qe.current&&He.current&&Xe.current&&$e.current&&(Ye.current.value=n.Check_No,Ge.current.value=n.BankName,Je.current.value=n.Branch,Qe.current.value=n.Check_Remarks,He.current.value=n.Check_Date,Xe.current.value=Bt(parseFloat(n.Check_Amnt.replace(/,/g,""))),$e.current.value="0",et.current=n.BankCode,tt.current=n.Deposit_Slip,nt.current=n.DateDeposit,rt.current=n.Ref_No)}),100),(0,E.flushSync)((function(){Ce(!0)})),null===(t=Ve.current)||void 0===t||t.focusVisible()}else Pe({type:"UPDATE_FIELD",field:"checkMode",value:""})},onKeyDown:function(e,t){if("Delete"===t||"Backspace"===t){var n=e[0];if(n.Deposit_Slip&&""!==n.Deposit_Slip||n.DateDeposit&&""!==n.DateDeposit||n.OR_No&&""!==n.OR_No)return C().fire({position:"center",icon:"warning",title:"Unable to delete. Check No ".concat(n.Check_No," is already ").concat(n.OR_No," issued of OR!"),showConfirmButton:!1,timer:1500});C().fire({title:"Are you sure?",text:"You won't to delete this Check No. ".concat(n.Check_No),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&setTimeout((function(){var e,t=ee.current.getSelectedRowsOnClick();be((function(e){return e.filter((function(e,n){return n!==t}))})),null===(e=ee.current)||void 0===e||e.resetTableSelected()}),100)}))}},inputsearchselector:".manok"}),(0,q.jsx)(k.Z,{open:Ne,onClose:function(){var e;null===(e=ee.current)||void 0===e||e.resetTableSelected(),Ce(!1),zt()},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,q.jsxs)(d.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"auto",bgcolor:"background.paper",p:4},children:[(0,q.jsx)(b.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Check Detail"}),(0,q.jsx)("br",{}),(0,q.jsxs)("div",{style:{display:"flex",columnGap:"10px"},children:[(0,q.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,q.jsx)(U.oi,{label:{title:"Check No : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{type:"text",style:{width:"190px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=Ge.current)||void 0===t||t.focus())}},inputRef:Ye}),Rt?(0,q.jsx)(_.Z,{loading:Rt}):(0,q.jsx)(U.oi,{label:{title:"Bank : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{type:"text",style:{width:"190px"},value:_e.refNo,name:"refNo",onKeyDown:function(e){if("NumpadEnter"===e.code||"Enter"===e.code)return Zt(e.currentTarget.value)}},icon:(0,q.jsx)(V.Z,{sx:{fontSize:"18px"}}),onIconClick:function(e){var t;(e.preventDefault(),Ge.current)&&Zt(null===(t=Ge.current)||void 0===t?void 0:t.value)},inputRef:Ge}),(0,q.jsx)(U.oi,{label:{title:"Branch : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{type:"text",style:{width:"190px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=Qe.current)||void 0===t||t.focus())}},inputRef:Je}),(0,q.jsx)(U.Fz,{label:{title:"Remarks : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},textarea:{rows:4,disabled:Ut,style:{flex:1},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=He.current)||void 0===t||t.focus())}},_inputRef:Qe})]}),(0,q.jsxs)("div",{style:{display:"flex",gap:"10px",flexDirection:"column"},children:[(0,q.jsx)(U.oi,{label:{title:"Check Dated : ",style:{fontSize:"12px",fontWeight:"bold",width:"90px"}},input:{disabled:Ut,type:"date",style:{width:"190px"},defaultValue:(new Date).toISOString().split("T")[0],onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=Xe.current)||void 0===t||t.focus())}},inputRef:He}),(0,q.jsxs)("div",{style:{display:"flex"},children:[(0,q.jsx)("label",{style:{fontSize:"12px",fontWeight:"bold",width:"90px"},children:"Amount :"}),(0,q.jsx)(Y.h3,{style:{flex:1},value:null!==(O=null===($=Xe.current)||void 0===$?void 0:$.value)&&void 0!==O?O:"",getInputRef:Xe,allowNegative:!1,thousandSeparator:!0,valueIsNumericString:!0,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code){var t,n,r=null===(t=Xe.current)||void 0===t?void 0:t.value,i=parseFloat(r.replace(/,/g,""));Xe.current&&(isNaN(i)?Xe.current.value="0.00":r.includes(".")?Xe.current.value=Bt(i):Xe.current.value="".concat(Bt(i))),null===(n=$e.current)||void 0===n||n.focus()}}})]}),"update"!==_e.checkMode&&(0,q.jsx)(U.oi,{label:{title:"Check Count : ",style:{fontSize:"12px",fontWeight:"bold",width:"90px"}},input:{disabled:Ut,type:"number",style:{width:"190px"},onKeyDown:function(e){if("NumpadEnter"===e.code||"Enter"===e.code)var t=setTimeout((function(){var e;null===(e=We.current)||void 0===e||e.click(),clearTimeout(t)}),100)}},inputRef:$e})]})]}),(0,q.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",width:"100%",marginTop:"10px"},children:(0,q.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,q.jsx)(f.Z,{ref:We,action:Ve,color:"primary",variant:"contained",autoFocus:""!==_e.checkMode,onClick:function(){!function(){function e(e,t){var n=parseInt(e);return(n+=t).toString().padStart(e.length,"0")}function t(e,t){var n=new Date(e);return n.setMonth(n.getMonth()+t),(0,G.Z)(n,"yyyy-MM-dd")}if(Ye.current&&Ge.current&&Je.current&&Qe.current&&He.current&&Xe.current&&$e.current){if(ke.filter((function(e){return Ye.current&&Ye.current.value===e.Check_No})).length>0)return alert("check no. is already exist!"),void Ye.current.focus();if(""===Ye.current.value)return alert("check no. is required!"),void Ye.current.focus();if(""===Ge.current.value)return alert("bank is required!"),void Ge.current.focus();if(""===Je.current.value)return alert("branch is required!"),void Je.current.focus();if(!function(e){var t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}(He.current.value))return alert("invalid date!"),void He.current.focus();if(parseFloat(Xe.current.value.replace(/,/g,""))<=0)return alert("amount must be greater than 0!"),void Xe.current.focus();be((function(n){if(Ye.current&&Ge.current&&Je.current&&Qe.current&&He.current&&Xe.current&&$e.current){var i=ee.current.getSelectedIndex();if(null!==i&&void 0!==i)return n.map((function(e,t){return Ye.current&&Ge.current&&Je.current&&Qe.current&&He.current&&Xe.current&&$e.current&&t===i&&(e={Check_No:Ye.current.value,Check_Date:He.current.value,Check_Amnt:Xe.current.value,BankName:Ge.current.value,BankCode:et.current,Branch:Je.current.value,Check_Remarks:Qe.current.value,Deposit_Slip:tt.current,DateDeposit:nt.current,OR_No:rt.current}),e}));for(var o=[],a=0;a<parseInt($e.current.value);a++){var l={Check_No:e(Ye.current.value,a),Check_Date:t(He.current.value,a),Check_Amnt:Xe.current.value,BankName:Ge.current.value,BankCode:et.current,Branch:Je.current.value,Check_Remarks:Qe.current.value,Deposit_Slip:tt.current,DateDeposit:nt.current,OR_No:rt.current};o.push(l)}return[].concat((0,r.Z)(n),o)}return n})),Ce(!1),zt()}}()},sx:{height:"30px",fontSize:"11px"},children:"update"===_e.checkMode?"Update":"Save"}),"update"===_e.checkMode&&(0,q.jsx)(f.Z,{color:"error",variant:"contained",onClick:function(){(0,E.flushSync)((function(){Ce(!1)})),C().fire({title:"Are you sure?",text:"Delete Check ".concat(Fe.Check_No," "),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&be((function(e){return e=e.filter((function(e){return e.CheckIdx!==Fe.CheckIdx}))})),zt()}))},sx:{height:"30px",fontSize:"11px"},children:"Delete"}),(0,q.jsx)(f.Z,{color:"success",variant:"contained",sx:{height:"30px",fontSize:"11px"},onClick:function(){zt(),Ce(!1)},children:"Cancel"}),(0,q.jsx)(y.Z,{style:{position:"absolute",top:"10px",right:"10px"},"aria-label":"search-client",onClick:function(){Ce(!1),zt()},children:(0,q.jsx)(I.Z,{})})]})})]})}),(0,q.jsx)("div",{style:{display:Ze?"flex":"none",position:"absolute",top:0,bottom:0,left:0,right:0,background:"rgba(158, 155, 157, 0.31)",zIndex:"999",justifyContent:"center",alignItems:"center"},children:(0,q.jsx)("div",{style:{width:"90%",height:"90%"},children:(0,q.jsx)("div",{style:{width:"90%",height:"90%",overflow:"auto",background:"white",padding:"20px",margin:"auto",zIndex:"9929",boxShadow:" -1px 1px 13px 6px rgba(0,0,0,0.54)",position:"relative"},children:(0,q.jsxs)("div",{style:{height:"100%",width:"100%",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,q.jsx)(y.Z,{sx:{position:"absolute",right:"5px",top:"5px"},onClick:function(){Re(!1)},children:(0,q.jsx)(I.Z,{})}),(0,q.jsxs)("div",{style:{width:"100%",height:"500px",border:fe?"5px dashed green":"5px dashed grey",overflow:"auto",padding:"10px"},onDragEnter:Mt,onDragOver:function(e){return e.preventDefault()},onDragLeave:Ft,onDrop:Lt,children:[(0,q.jsx)("div",{id:"upload-container",style:{width:"100%",height:"100%",display:"flex",gap:"10px",flexWrap:"wrap"},onDragEnter:Mt,onDragOver:function(e){return e.preventDefault()},onDragLeave:Ft,onDrop:Lt,children:ve.map((function(e,t){return(0,q.jsx)(M.DisplayFile,{itm:e,selectedFiles:ve,setSelectedFiles:me,fileInput:Ke},t)}))}),ve.length<=0&&(0,q.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",textAlign:"center"},children:(0,q.jsx)(F.Z,{sx:{fontSize:"20em",color:"#64748b"}})}),(0,q.jsx)("input",{ref:Ke,type:"file",multiple:!0,style:{display:"none",background:"white"},id:"input-file",onChange:function(e){var t=e.target.files,n=Array.from(t),i=[].concat((0,r.Z)(ve),n);if((0,M.checkFile)(i))return alert("file is not valid Extention!");me(i)}})]}),(0,q.jsx)("div",{style:{width:"100%"},children:(0,q.jsx)(f.Z,{fullWidth:!0,onClick:function(){var e=document.getElementById("input-file");null===e||void 0===e||e.click()},children:"CLick it to upload"})})]})})})}),(vt||yt)&&(0,q.jsx)("div",{className:"loading-component",children:(0,q.jsx)("div",{className:"loader"})})]})}function ie(e,t){Object.entries(t).forEach((function(t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];e({type:"UPDATE_FIELD",field:r,value:i})}))}function oe(e){if(void 0===e||null===e||""===e)return"001";for(var t=(parseInt(e)+1).toString();t.length<e.length;)t="0"+t;return t}}}]);
//# sourceMappingURL=8185.60e28fc1.chunk.js.map