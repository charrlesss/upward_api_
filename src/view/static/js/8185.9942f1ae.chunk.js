"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[8185],{11690:function(e,t,n){n.d(t,{B:function(){return u}});var r=n(1413),i=n(93433),o=n(29439),l=n(72791),a=n(80184),u=(0,l.forwardRef)((function(e,t){var n=e.columns,u=e.rows,c=void 0===u?[]:u,s=e.height,d=void 0===s?"400px":s,f=e.getSelectedItem,p=e.onKeyDown,h=e.disbaleTable,v=void 0!==h&&h,x=e.isTableSelectable,m=void 0===x||x,g=e.containerStyle,y=(0,l.useRef)(null),w=(0,l.useState)([]),b=(0,o.Z)(w,2),k=b[0],S=b[1],D=(0,l.useState)([]),C=(0,o.Z)(D,2),j=C[0],N=C[1],Z=(0,l.useState)(0),R=(0,o.Z)(Z,2),I=R[0],E=R[1],B=(0,l.useState)(null),z=(0,o.Z)(B,2),A=z[0],T=z[1],_=j.reduce((function(e,t){return e+t.width}),0);return(0,l.useEffect)((function(){n.length>0&&N(n.filter((function(e){return!e.hide})))}),[n]),(0,l.useEffect)((function(){c.length>0&&S(c.map((function(e){return n.map((function(t){return e[t.key]}))})))}),[c,n]),(0,l.useImperativeHandle)(t,(function(){return{checkNoIsExist:function(e){return k.some((function(t){return t[2]===e}))},selectedRow:function(){return I},getData:function(){return(0,i.Z)(k)},setData:function(e){S(e)},getColumns:function(){return n},resetTable:function(){S([]),E(0)},getSelectedRow:function(){return A},setSelectedRow:function(e){return T(e)},_setSelectedRow:function(e){return E(e)},setDataFormated:function(e){S(e.map((function(e){return n.map((function(t){return e[t.key]}))})))},getDataFormatted:function(){return(0,i.Z)(k).map((function(e){return{Check_No:e[0],Check_Date:e[1],Check_Amnt:e[2],BankName:e[3],Branch:e[4],Check_Remarks:e[5],Deposit_Slip:e[6],DateDeposit:e[7],OR_No:e[8],BankCode:e[9]}}))}}})),(0,a.jsx)("div",{ref:y,style:(0,r.Z)((0,r.Z)({width:"100%",height:d,overflow:"auto",position:"relative",pointerEvents:v?"none":"auto",border:v?"2px solid #8c8f8e":"2px solid #c0c0c0",boxShadow:"inset -2px -2px 0 #ffffff, \n                        inset 2px 2px 0 #808080"},g),{},{background:"#dcdcdc"}),children:(0,a.jsxs)("div",{style:{position:"absolute",width:"".concat(_,"px"),height:"auto"},children:[(0,a.jsxs)("table",{id:"upward-cutom-table",style:{borderCollapse:"collapse",width:"100%",position:"relative",background:"#dcdcdc"},children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{style:{width:"30px",border:"none",position:"sticky",top:0,zIndex:1,background:"#f0f0f0"}}),j.map((function(e,t){return(0,a.jsx)("th",{style:{width:e.width,borderRight:"1px solid #e2e8f0",position:"sticky",top:0,zIndex:1,background:"#f0f0f0",fontSize:"12px",textAlign:"left",padding:"0px 5px"},children:e.label},t)}))]})}),(0,a.jsx)("tbody",{children:null===k||void 0===k?void 0:k.map((function(e,t){return(0,a.jsxs)("tr",{className:"".concat(I===t||A===t?"selected":""),children:[(0,a.jsx)("td",{style:{position:"relative",border:"none",cursor:"pointer",background:I===t?"#0076d":"",padding:0,margin:0},children:(0,a.jsx)("div",{style:{width:"18px",height:"18px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,a.jsx)("input",{style:{cursor:"pointer",margin:"0px !important",position:"absolute"},readOnly:!0,checked:A===t,type:"checkbox",onClick:function(){m&&(T(t),f&&f(e,null,t,null),E(null))}})})}),j.map((function(n,r){return(0,a.jsx)("td",{className:"td row-".concat(t," col-").concat(r," "),tabIndex:0,onDoubleClick:function(){m&&(A===t?(T(null),f&&f(null,null,t,null)):(T(t),f&&f(e,null,t,null)),E(null))},onClick:function(){E(t)},onKeyDown:function(n){if(p&&p(e,t,n),"ArrowUp"===n.key?E((function(e){var t=Math.max(e-1,0),n=document.querySelector(".td.row-".concat(t));return n&&n.focus(),t})):"ArrowDown"===n.key&&E((function(e){var t=Math.min(e+1,k.length-1);document.querySelector(".td.row-".concat(t));return t})),"Enter"===n.code||"NumpadEnter"===n.code){if(n.preventDefault(),!m)return;T(t),f&&f(e,null,t,null),E(null)}},style:{border:"none",fontSize:"12px",padding:"0px 5px",cursor:"pointer",height:"20px",userSelect:"none"},children:(0,a.jsx)("input",{readOnly:!0,value:e[r],style:{width:n.width,pointerEvents:"none",border:"none",background:"transparent",userSelect:"none",height:"100%",textAlign:"number"===n.type?"right":"left"}})},r)}))]},t)}))})]}),(0,a.jsx)("style",{children:"\n             #upward-cutom-table tr td{\n               border-right:1px solid #f1f5f9 !important;\n             }\n          \n              #upward-cutom-table tr:nth-child(odd) td {\n                  background-color: #ffffff !important;\n              }\n              #upward-cutom-table tr:nth-child(even) td {\n                  background-color: #f5f5f5 !important;\n              }\n              #upward-cutom-table tr.selected td {\n                  background-color: #0076d7 !important;\n                  color: #ffffff !important;\n                  border-right:1px solid white !important;\n              }\n              \n               #upward-cutom-table tr.selected td input {\n                  color: #ffffff !important;\n              }\n  \n              "})]})})}))},70272:function(e,t,n){var r=n(54270),i=n(80184);t.Z=function(e){var t=e.title,n=void 0===t?"":t;return(0,i.jsxs)(r.q,{children:[(0,i.jsx)("title",{children:n}),(0,i.jsx)("link",{rel:"icon",type:"image/png",href:"".concat("/","/logo.png")})]})}},37209:function(e,t,n){n.d(t,{sT:function(){return s},lq:function(){return c},Fz:function(){return u},iA:function(){return l},oi:function(){return a}});var r=n(1413),i=n(72791),o=n(80184);function l(e){var t=e.input,n=e.label,l=e.inputRef,a=e.icon,u=e.iconPosition,c=void 0===u?"end":u,s=e.disableIcon,d=void 0!==s&&s,f=e.onIconClick,p=void 0===f?function(e){}:f,h=e.onChange,v=void 0===h?function(e){}:h,x=e.containerStyle,m=(0,i.useId)(),g=function(e){if(!e)return e;var t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},y=function(e){return e.replace(/,/g,"")};return(0,o.jsxs)("div",{style:(0,r.Z)({display:"flex",alignItems:"center",position:"relative"},x),children:[(0,o.jsx)("label",(0,r.Z)((0,r.Z)({},n),{},{htmlFor:m,children:n.title})),a&&"start"===c&&(0,o.jsx)("div",{style:{position:"absolute",left:"8px",zIndex:1},children:a}),(0,o.jsx)("input",(0,r.Z)((0,r.Z)({ref:l,id:m},t),{},{type:"text",style:(0,r.Z)({height:"100%"},t.style),onChange:function(e){!function(e){var t=e.target.value;t=y(t),(""===(t=y(t))||/^-?\d+(,\d{3})*(\.\d*)?$/.test(t))&&(e.target.value=g(t))}(e),v(e)},onBlur:function(e){!function(e){var t=y(e.target.value);t=function(e){return e.includes(".")?1===e.split(".")[1].length?e+"0":e:""===e?"0.00":e+".00"}(t),e.target.value=g(t)}(e)}})),a&&"end"===c&&(0,o.jsx)("div",{onClick:p,style:{position:"absolute",right:"2px",top:"50%",transform:"translateY(-50%)",zIndex:1,cursor:d?"none":"pointer",display:"flex",alignItems:"center",justifyContent:"center",background:"white",pointerEvents:d?"none":"auto"},children:a})]})}function a(e){var t=e.input,n=e.label,l=e.inputRef,a=e.icon,u=e.iconPosition,c=void 0===u?"end":u,s=e.disableIcon,d=void 0!==s&&s,f=e.containerStyle,p=e.onIconClick,h=void 0===p?function(e){}:p,v=(0,i.useId)();return(0,o.jsxs)("div",{style:(0,r.Z)({display:"flex",alignItems:"center",position:"relative"},f),children:[(0,o.jsx)("label",(0,r.Z)((0,r.Z)({},n),{},{htmlFor:v,children:n.title})),a&&"start"===c&&(0,o.jsx)("div",{style:{position:"absolute",left:"8px",zIndex:1},children:a}),(0,o.jsx)("input",(0,r.Z)((0,r.Z)({ref:l,id:v},t),{},{style:(0,r.Z)({height:"100%"},t.style)})),a&&"end"===c&&(0,o.jsx)("div",{onClick:h,style:{position:"absolute",right:"2px",top:"50%",transform:"translateY(-50%)",zIndex:1,cursor:d?"none":"pointer",display:"flex",alignItems:"center",justifyContent:"center",background:"white",pointerEvents:d?"none":"auto"},children:a})]})}function u(e){var t=e.textarea,n=e.label,l=e._inputRef,a=e.icon,u=e.iconPosition,c=void 0===u?"end":u,s=e.disableIcon,d=void 0!==s&&s,f=e.onIconClick,p=void 0===f?function(e){}:f,h=(0,i.useId)();return(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",position:"relative"},children:[(0,o.jsx)("label",(0,r.Z)((0,r.Z)({},n),{},{htmlFor:h,children:n.title})),a&&"start"===c&&(0,o.jsx)("div",{style:{position:"absolute",left:"8px",zIndex:1},children:a}),(0,o.jsx)("textarea",(0,r.Z)((0,r.Z)({ref:l,id:h},t),{},{style:(0,r.Z)({height:"100%"},t.style)})),a&&"end"===c&&(0,o.jsx)("div",{onClick:p,style:{position:"absolute",right:"2px",top:"50%",transform:"translateY(-50%)",zIndex:1,cursor:d?"none":"pointer",display:"flex",alignItems:"center",justifyContent:"center",background:"white",pointerEvents:d?"none":"auto"},children:a})]})}function c(e){var t=e.select,n=e.label,l=e.selectRef,a=e.datasource,u=void 0===a?[]:a,c=e.values,s=void 0===c?"":c,d=e.display,f=void 0===d?"":d,p=e.containerStyle,h=(0,i.useId)();return(0,o.jsxs)("div",{style:(0,r.Z)({display:"flex",height:"18px",alignItems:"center"},p),children:[(0,o.jsx)("label",(0,r.Z)((0,r.Z)({},n),{},{htmlFor:h,children:n.title})),(0,o.jsx)("select",(0,r.Z)((0,r.Z)({},t),{},{ref:l,className:"select ".concat(t.className),style:(0,r.Z)({height:"18px"},t.style),children:u.map((function(e,t){return(0,o.jsx)("option",{value:e[s],children:e[f]},t)}))}))]})}function s(e){var t=e.buttonRetRef,n=e.button,i=e.tooltipText,l=void 0===i?"":i,a=e.children,u=e.disabled,c=void 0!==u&&u;return(0,o.jsxs)("div",{className:"tooltip",children:[(0,o.jsx)("button",(0,r.Z)((0,r.Z)({disabled:c},n),{},{ref:t,style:(0,r.Z)((0,r.Z)({},n.style),{},{background:c?"#f1f1f1":"transparent"}),className:"tooltip-button",children:a})),!c&&(0,o.jsx)("span",{className:"tooltip-text",children:l})]})}},93346:function(e,t,n){n.d(t,{r:function(){return u}});var r=n(93433),i=n(29439),o=n(72791),l=n(16088),a=n(80184),u=(0,o.forwardRef)((function(e,t){var n,u=e.rows,c=e.column,s=e.width,d=e.height,f=e.dataReadOnly,p=e.onSelectionChange,h=void 0===p?function(){}:p,v=e.isMultipleSelect,x=void 0!==v&&v,m=e.freeze,g=void 0!==m&&m,y=e.onKeyDown,w=e.inputsearchselector,b=void 0===w?".search-input-up-on-key-down":w,k=e.isRowSelectable,S=void 0===k||k,D=e.unSelectable,C=void 0===D?function(){return!1}:D,j=e.isLoading,N=e.onRightClick,Z=(0,o.useState)([]),R=(0,i.Z)(Z,2),I=R[0],E=R[1],B=(0,o.useState)(0),z=(0,i.Z)(B,2),A=z[0],T=z[1],_=(0,o.useRef)(h),P=(0,o.useRef)(y),F=(0,o.useState)(c.filter((function(e){return!e.hide}))),M=(0,i.Z)(F,2),K=M[0],L=M[1],O=(0,o.useState)(null),U=(0,i.Z)(O,2),q=U[0],W=U[1],V=(0,o.useState)([0]),Y=(0,i.Z)(V,2),G=Y[0],J=Y[1],H=(0,o.useState)(0),Q=(0,i.Z)(H,2),X=Q[0],$=Q[1],ee=(0,o.useState)([]),te=(0,i.Z)(ee,2),ne=te[0],re=te[1],ie=(0,o.useRef)(null),oe=(0,o.useState)(null),le=(0,i.Z)(oe,2),ae=le[0],ue=le[1];(0,o.useEffect)((function(){var e=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}(u,100);E(e)}),[u]);var ce=function(e,t){t.preventDefault(),t.stopPropagation();var n=t.clientX,i=K[e].width,o=function(t){var o=i+(t.clientX-n),l=(0,r.Z)(K);l[e].width=o>50?o:50,L(l)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)}))},se=function(e){W(e)},de=function(){W(null)};(0,o.useImperativeHandle)(t,(function(){return{resetTableSelected:function(){if(J([0]),$(0),re([]),u.length>0){var e=document.querySelector(".row-".concat(0));null===e||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"})}},getSelectedIndex:function(){return ne[0]},getSelectedRows:function(){return u.filter((function(e,t){return ne.includes(t)}))},getFirstColumn:function(){return u.filter((function(e,t){return ne.includes(t)}))},getParentElement:function(){return ie.current},getSelectedRowsOnClick:function(){return G[0]},setSelectRows:function(e){return re([e])}}}));return(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center"},onKeyDown:function(e){if("ArrowDown"===e.key)e.preventDefault(),J((function(e){var t;if(null===e[e.length-1])return[0];if(e[e.length-1]>=u.length-1)return[u.length-1];var n=e[e.length-1]+1,r=document.querySelector(".row-".concat(n));return null===r||void 0===r||null===(t=r.querySelector("input"))||void 0===t||t.focus(),null===r||void 0===r||r.scrollIntoView({block:"end",behavior:"smooth"}),[n]}));else if("ArrowUp"===e.key){if(e.preventDefault(),0===G[G.length-1]){var t=document.querySelector(b);if(t&&"INPUT"===t.tagName)null===t||void 0===t||t.focus();else if(t&&"DIV"===t.tagName){var n=document.querySelector("".concat(b," input"));null===n||void 0===n||n.focus()}}J((function(e){var t;if(0===e[e.length-1])return[0];var n=e[e.length-1]-1,r=document.querySelector(".row-".concat(n));return null===r||void 0===r||r.scrollIntoView({block:"end",behavior:"smooth"}),null===r||void 0===r||null===(t=r.querySelector("input"))||void 0===t||t.focus(),[n]}))}},children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"table-frame-color",children:[(0,a.jsx)("div",{style:{display:"flex",flexDirection:"column",width:"".concat(s-10,"px        "),height:"".concat(d-135,"px"),minHeight:"270px"},className:"table-frame",children:(0,a.jsx)("div",{className:"table-panel",children:(0,a.jsxs)("div",{ref:ie,className:"grid-container ",tabIndex:-1,children:[(0,a.jsx)("div",{className:"grid-row grid-header",style:{position:"sticky",zIndex:"10",top:"-1px",background:"white"},children:K.map((function(e,t){return(0,a.jsxs)("div",{className:"grid-cell header-cell ".concat(q===t?"highlight-column":""),style:{width:e.width,height:"20px"},children:[(0,a.jsx)("input",{style:{fontWeight:"bold"},defaultValue:e.headerName,readOnly:!0,onChange:function(e){}}),(0,a.jsx)("div",{className:"resize-handle",onMouseDown:function(e){return ce(t,e)},onMouseEnter:function(e){e.preventDefault(),se(t)},onMouseLeave:function(e){e.preventDefault(),de()}})]},t)}))}),null===(n=I[A])||void 0===n?void 0:n.map((function(e,t){return(0,a.jsx)("div",{className:"grid-row row-".concat(t),onClick:function(e){return function(e,t){if(x)if(t.shiftKey&&null!==X){for(var n=Math.min(X,e),i=Math.max(X,e),o=[],l=n;l<=i;l++)G.includes(l)||o.push(l);var a=[].concat((0,r.Z)(ne),o);J([].concat((0,r.Z)(G),o));var c=function(e){var t=e.map((function(e,t){return C(e)?null:{idx:t,data:e}})).filter((function(e){return null!==e})),n=t.map((function(e){return e.data}));return{newSelectedRowsFiltered:t.map((function(e){return e.idx})),data:n}}(u.filter((function(e,t){return a.includes(t)}))).newSelectedRowsFiltered;re(c)}else if(t.ctrlKey||t.metaKey)if(G.includes(e)&&!g){J(G.filter((function(t){return t!==e}))),re((function(t){return t=t.filter((function(t){return t!==e})),t}));var s=ne.filter((function(t){return t!==e}));re(s)}else{J([].concat((0,r.Z)(G),[e])),re((function(t){return t.push(e),t}));var d=[].concat((0,r.Z)(ne),[e]);re(d)}else J([e]);else J([e]);$(e)}(t,e)},onDoubleClick:function(e){ae&&(clearTimeout(ae),ue(null));var n=setTimeout((function(){!function(e,t){var n=u[e];if(!C(n)&&S){var i=[];if(i=x?[].concat((0,r.Z)(ne),(0,r.Z)(G)):[e],ne.includes(e)&&!g)return i=ne.filter((function(t){return t!==e})),re(i),void _.current([],e);re(i),_.current([n],e)}}(t)}),200);ue(n)},onKeyDown:function(e){ae&&(clearTimeout(ae),ue(null));var t=setTimeout((function(){!function(e){if(e.stopPropagation(),"Enter"===e.key||"NumpadEnter"===e.key){if(e.preventDefault(),!S)return;var t=[],n=G[G.length-1];t=x?[].concat((0,r.Z)(ne),(0,r.Z)(G)):[n];var i=u[t[t.length-1]];if(C(i))return;if(ne.includes(n)&&!g)return t=ne.filter((function(e){return e!==n})),re(t),void _.current([],n);re(t),_.current([i],n)}else if("Delete"===e.key||"Backspace"===e.key){if(!S)return;var o=G[G.length-1],l=u.filter((function(e,t){return G.includes(t)}));null!==P&&void 0!==P&&P.current&&(null===P||void 0===P||P.current(l,e.key,o))}}(e)}),200);ue(t)},onContextMenu:function(e){return function(e,t){e.preventDefault();var n=u[t];N&&N(n,e)}(e,t)},children:K.map((function(n,r){return(0,a.jsxs)("div",{style:{width:n.width},className:"grid-cell ".concat(q===r?"highlight-column":""," row-").concat(t," col-").concat(r),children:[(0,a.jsx)("input",{value:e[n.field],onChange:function(e){},readOnly:f,className:"".concat(G.includes(t)?"selected-row":""," ").concat(ne.includes(t)?"selected-items":"","\n                          ").concat("number"===n.type?"number":"text","\n                          ")}),(0,a.jsx)("div",{className:"resize-handle",onMouseDown:function(e){e.preventDefault(),ce(r,e)},onMouseEnter:function(e){e.preventDefault(),se(r)},onMouseLeave:function(e){e.preventDefault(),de()}})]},r)}))},t)}))]})})}),j&&(0,a.jsx)("div",{className:"table-loading",children:(0,a.jsx)("div",{className:"loader"})})]}),(0,a.jsxs)("div",{className:"table-panel-footer",children:[(0,a.jsxs)("div",{children:["Records : ",null===u||void 0===u?void 0:u.length]}),(0,a.jsx)("div",{children:(0,a.jsx)(l.Z,{count:I.length,onChange:function(e,t){T(t-1)}})})]})]})})}))},8185:function(e,t,n){n.r(t),n.d(t,{default:function(){return X},incrementCheckNo:function(){return ee},pdcBanksColumn:function(){return H},pdcColumn:function(){return G},pdcSearchColumn:function(){return J},reducer:function(){return Y},setNewStateValue:function(){return $}});var r=n(93433),i=n(74165),o=n(15861),l=n(29439),a=n(4942),u=n(1413),c=n(72791),s=n(64554),d=n(36151),f=n(65117),p=n(23786),h=n(88447),v=n(20890),x=n(13400),m=n(42419),g=n(91933),y=n(21830),w=n.n(y),b=n(53329),k=n(3380),S=n(91421),D=n(29823),C=n(54164),j=n(39709),N=n(86753),Z=n(73518),R=n(64230),I=n(71640),E=n(92562),B=n(58340),z=n(5519),A=n(37209),T=n(93346),_=n(763),P=n(79018),F=n(80184),M=function(e){var t,n=e.myAxios,r=e.user,a=e.column,u=e.link,s=e.onSelectionChange,d=e.responseDataKey,f=e.onModalClose,p=void 0===f?function(){}:f,v=(0,c.useId)(),m=(0,c.useRef)(null),y=(0,c.useRef)(null),w=(0,c.useRef)(null),b=(0,c.useState)(!1),k=(0,l.Z)(b,2),S=k[0],C=k[1],j=(0,c.useState)([]),N=(0,l.Z)(j,2),Z=N[0],R=N[1],I=(0,g.useMutation)({mutationKey:v,mutationFn:function(e){return(t=t||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.get("".concat(null===u||void 0===u?void 0:u.url,"?").concat(null===u||void 0===u?void 0:u.queryUrlName,"=").concat(t.search),{headers:{Authorization:"Bearer ".concat(null===r||void 0===r?void 0:r.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){R(e.data[d])}}),E=I.isLoading,B=I.mutate,z=(0,_.throttle)((function(e){return function(e){""===e&&B({search:e})}(e)}),500),M=function(){C(!1),p()};return(0,c.useEffect)((function(){S&&w.current&&(0,P.D)(1050).then((function(){var e;null===(e=w.current)||void 0===e||e.focus()}))}),[S,w]),{Modal:(0,F.jsx)(h.Z,{open:S,onClose:function(){C(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,F.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"auto",background:"#fff",paddingTop:"30px",paddingBottom:"20px",paddingLeft:"10px",paddingRight:"10px"},children:(0,F.jsxs)("div",{children:[(0,F.jsx)(A.oi,{label:{style:{display:"none"}},input:{className:"search-input-up-on-key-down",type:"text",style:{width:"100%",marginBottom:"20px"},onChange:function(e){e.preventDefault(),z(e.currentTarget.value)},onKeyDown:function(e){if("Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),B({search:e.target.value})),"ArrowDown"===e.key){e.preventDefault();var t=y.current.getParentElement().querySelector(".grid-container .row-0.col-0 input");setTimeout((function(){t&&t.focus()}),100)}}},inputRef:m}),(0,F.jsx)(T.r,{ref:y,rows:Z,column:a.filter((function(e){return!e.hide})),width:460,height:530,dataReadOnly:!0,onSelectionChange:s}),(0,F.jsx)(x.Z,{style:{position:"absolute",top:"5px",right:"10px"},"aria-label":"search-client",onClick:M,children:(0,F.jsx)(D.Z,{style:{fontSize:"15px"}})})]})})}),openModal:function(e){B({search:e}),C(!0),setTimeout((function(){var t;m.current&&(m.current.value=e),null===(t=m.current)||void 0===t||t.focus()}),150)},closeModal:M,isLoading:E}},K=n(78946),L=n(30948),O=n(16386),U=n(70272),q=n(16395),W=n(5403),V=n(11690),Y=function(e,t){return"UPDATE_FIELD"===t.type?(0,u.Z)((0,u.Z)({},e),{},(0,a.Z)({},t.field,t.value)):e},G=[{key:"Check_No",label:"Check No.",width:150},{key:"Check_Date",label:"Check Date",width:150},{key:"Check_Amnt",label:"Amount",width:150,type:"number"},{key:"BankName",label:"Bank",width:200},{key:"Branch",label:"Branch",width:200},{key:"Check_Remarks",label:"Checked Remarks",width:350},{key:"Deposit_Slip",label:"Deposit Slip",width:150},{key:"DateDeposit",label:"Date Deposit",width:150},{key:"OR_No",label:"OR Num",width:150},{key:"BankCode",label:"Bank Code",width:150,hide:!0}],J=[{field:"Date",headerName:"Date Received",width:160},{field:"Ref_No",headerName:"Ref No.",width:160},{field:"Name",headerName:"Name",flex:1}],H=[{field:"Bank_Code",headerName:"Code",width:130},{field:"Bank",headerName:"Bank Name",flex:1}],Q="pdc";function X(){var e,t,n,y,T,_,P,Y=(0,c.useRef)(null),J=c.useState(null),H=(0,l.Z)(J,2),X=H[0],$=H[1],te=Boolean(X),ne=(0,c.useState)(!1),re=(0,l.Z)(ne,2),ie=re[0],oe=re[1],le=(0,c.useState)([]),ae=(0,l.Z)(le,2),ue=ae[0],ce=ae[1],se=(0,c.useState)(!1),de=(0,l.Z)(se,2),fe=de[0],pe=de[1],he=(0,c.useState)(!1),ve=(0,l.Z)(he,2),xe=ve[0],me=ve[1],ge=(0,c.useRef)(null),ye=(0,c.useState)(null),we=(0,l.Z)(ye,2),be=we[0],ke=we[1],Se=(0,c.useState)(""),De=(0,l.Z)(Se,2),Ce=De[0],je=De[1],Ne=(0,c.useContext)(k.V),Ze=Ne.myAxios,Re=Ne.user,Ie=(0,c.useRef)(null),Ee=(0,c.useRef)(null),Be=(0,c.useRef)(null),ze=(0,c.useRef)(null),Ae=(0,c.useRef)(null),Te=(0,c.useRef)(null),_e=(0,c.useRef)(null),Pe=(0,c.useRef)(null),Fe=(0,c.useRef)(null),Me=(0,c.useRef)(null),Ke=(0,c.useRef)(null),Le=(0,c.useRef)(null),Oe=(0,c.useRef)(""),Ue=(0,c.useRef)(""),qe=(0,c.useRef)(""),We=(0,c.useRef)(""),Ve=(0,c.useRef)(null),Ye=(0,c.useRef)(""),Ge=(0,c.useRef)(""),Je=(0,c.useRef)(""),He=(0,c.useRef)(null),Qe=(0,c.useRef)(null),Xe=(0,c.useRef)(null),$e=(0,c.useRef)(null),et=(0,c.useRef)(null),tt=(0,c.useRef)(null),nt=(0,g.useQuery)({queryKey:"new-ref-number",queryFn:function(){return(e=e||(0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze.get("/task/accounting/pdc-new-ref-number",{headers:{Authorization:"Bearer ".concat(null===Re||void 0===Re?void 0:Re.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},refetchOnWindowFocus:!1,onSuccess:function(e){var t=e;(0,q.wait)(100).then((function(){Ye.current=t.data.RefNo[0].pdcID,He.current&&(He.current.value=t.data.RefNo[0].pdcID)}))}}),rt=nt.isLoading,it=nt.refetch,ot=(0,g.useMutation)({mutationKey:Q,mutationFn:function(e){return(t=t||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("update"!==Ce){e.next=5;break}return delete t.mode,e.next=4,Ze.post("/task/accounting/update-pdc",t,{headers:{Authorization:"Bearer ".concat(null===Re||void 0===Re?void 0:Re.accessToken)}});case 4:case 8:return e.abrupt("return",e.sent);case 5:return delete t.mode,e.next=8,Ze.post("/task/accounting/add-pdc",t,{headers:{Authorization:"Bearer ".concat(null===Re||void 0===Re?void 0:Re.accessToken)}});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){if(e.data.success)return It(),w().fire({position:"center",icon:"success",title:e.data.message,showConfirmButton:!1,timer:1500});w().fire({position:"center",icon:"error",title:e.data.message,showConfirmButton:!1,timer:1500})}}),lt=ot.mutate,at=ot.isLoading,ut=(0,g.useMutation)({mutationKey:Q,mutationFn:function(e){return(n=n||(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze.post("/task/accounting/get-search-pdc-check",t,{headers:{Authorization:"Bearer ".concat(null===Re||void 0===Re?void 0:Re.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){return(y=y||(0,o.Z)((0,i.Z)().mark((function e(t){var n,r,l,a,u,c,s,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=function(e,t){return(n=n||(0,o.Z)((0,i.Z)().mark((function e(t,n){var r,o,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],o=(0,i.Z)().mark((function e(){var o,a,u,c,s,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t[l],a="".concat(n,"/").concat(o.uniqueFilename),e.next=4,fetch(a);case 4:return u=e.sent,e.next=7,u.blob();case 7:c=e.sent,s=new File([c],o.fileName,{type:o.fileType}),d=new FileReader,r.push(new Promise((function(e,t){d.onload=function(t){e(s)},d.onerror=function(e){t(new Error("Error reading file: "+s.name))},d.readAsDataURL(s)})));case 11:case"end":return e.stop()}}),e)})),l=0;case 3:if(!(l<t.length)){e.next=8;break}return e.delegateYield(o(),"t0",5);case 5:l++,e.next=3;break;case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},null!==t&&void 0!==t&&t.data.success){e.next=3;break}return e.abrupt("return",alert("Error : ".concat(null===t||void 0===t?void 0:t.data.message)));case 3:if(l=(r=t).data.getSearchPDCCheck[0].Ref_No,!r.data.upload[0]){e.next=14;break}return u=JSON.parse(null===(a=r.data.upload[0])||void 0===a?void 0:a.upload),e.next=9,d(u,"".concat("/","pdc/").concat(l));case 9:return c=e.sent,e.next=12,Promise.all(c);case 12:s=e.sent,ce(s);case 14:Y.current.setDataFormated(r.data.getSearchPDCCheck),He.current&&(He.current.value=r.data.getSearchPDCCheck[0].Ref_No),tt.current&&(tt.current.value=r.data.getSearchPDCCheck[0].Name),Qe.current&&(Qe.current.value=r.data.getSearchPDCCheck[0].Date),$e.current&&($e.current.value=r.data.getSearchPDCCheck[0].PNo),et.current&&(et.current.value=r.data.getSearchPDCCheck[0].Acronym),Xe.current&&(Xe.current.value=r.data.getSearchPDCCheck[0].Remarks),Ge.current=r.data.getSearchPDCCheck[0].IDNo,Je.current=r.data.getSearchPDCCheck[0].sub_account;case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),ct=ut.mutate,st=ut.isLoading,dt=M({myAxios:Ze,user:Re,link:{url:"/task/accounting/search-pdc-policy-id",queryUrlName:"searchPdcPolicyIds"},column:[{field:"Type",headerName:"Type",width:130},{field:"IDNo",headerName:"ID No.",width:200},{field:"chassis",headerName:"Chassis No.",width:200,hide:!0},{field:"Name",headerName:"Name",width:350},{field:"ID",headerName:"ID",width:300,hide:!0},{field:"client_id",headerName:"client_id",width:200,hide:!0}],onSelectionChange:function(e){e.length>0&&((0,q.wait)(100).then((function(){Ge.current=e[0].client_id,Je.current=e[0].sub_account,$e.current&&($e.current.value=e[0].IDNo),tt.current&&(tt.current.value=e[0].Name),et.current&&(et.current.value=e[0].Acronym),e[0].Remarks&&""!==e[0].Remarks&&Xe.current&&(Xe.current.value=e[0].Remarks)})),pt())},responseDataKey:"clientsId"}),ft=dt.Modal,pt=dt.closeModal,ht=dt.openModal,vt=dt.isLoading,xt=M({myAxios:Ze,user:Re,link:{url:"/task/accounting/search-pdc-banks",queryUrlName:"searchPdcBanks"},column:[{field:"Bank_Code",headerName:"Code",width:100},{field:"Bank",headerName:"Bank Name",width:350}],onSelectionChange:function(e){e.length>0&&(setTimeout((function(){Oe.current=e[0].Bank_Code,_e.current&&(_e.current.value=e[0].Bank)}),100),gt(),pe(!0),setTimeout((function(){var e;null===(e=Pe.current)||void 0===e||e.focus()}),100))},onModalClose:function(){setTimeout((function(){pe(!0)}),100)},responseDataKey:"pdcBanks"}),mt=xt.Modal,gt=xt.closeModal,yt=xt.openModal,wt=xt.isLoading,bt=M({myAxios:Ze,user:Re,column:[{field:"Date",headerName:"Date Received",width:90},{field:"Ref_No",headerName:"Ref No.",width:80},{field:"Name",headerName:"Name",width:320}],link:{url:"/task/accounting/search-pdc",queryUrlName:"searchPDCInput"},onSelectionChange:function(e){var t;e.length>0&&(ct({ref_no:e[0].Ref_No}),je("update"),St(),Ie.current&&(null===(t=Ie.current)||void 0===t||t.focus()))},responseDataKey:"searchPDC"}),kt=bt.Modal,St=bt.closeModal,Dt=bt.openModal,Ct=bt.isLoading,jt=(0,c.useCallback)((function(e){return(T=T||(0,o.Z)((0,i.Z)().mark((function e(t){var n,r,o,l,a,c,s,d,f,p,h;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=function(e){var t=ue;if(t.length>0)for(var n=function(){var n=t[r],i=new FileReader;e.push(new Promise((function(e,t){i.onload=function(t){var r;e({datakey:"pdc_file",fileName:n.name,fileContent:null===(r=t.target)||void 0===r?void 0:r.result,fileType:n.type,file:n})},i.onerror=function(e){t(new Error("Error reading file: "+n.name))},i.readAsDataURL(n)})))},r=0;r<t.length;r++)n()},s=Y.current.getDataFormatted(),!$e.current||""!==$e.current.value){e.next=4;break}return e.abrupt("return",w().fire({position:"center",icon:"warning",title:"Please provide loan information!",timer:1500}).then((function(){setTimeout((function(){var e;null===(e=$e.current)||void 0===e||e.click()}),350)})));case 4:if(!(s.length<=0)){e.next=6;break}return e.abrupt("return",w().fire({position:"center",icon:"warning",title:"Please provide entry!",timer:1500}).then((function(){pe(!0)})));case 6:return f(d=[]),e.next=10,Promise.all(d);case 10:p=e.sent,h={Ref_No:null===(n=He.current)||void 0===n?void 0:n.value,PNo:null===(r=$e.current)||void 0===r?void 0:r.value,IDNo:Ge.current,Date:null===(o=Qe.current)||void 0===o?void 0:o.value,Name:null===(l=tt.current)||void 0===l?void 0:l.value,Remarks:null===(a=Xe.current)||void 0===a?void 0:a.value,Branch:null===(c=et.current)||void 0===c?void 0:c.value,checks:JSON.stringify(s)},"update"===Ce?(0,R.s)({isUpdate:!0,cb:function(e){lt((0,u.Z)((0,u.Z)({},h),{},{userCodeConfirmation:e,fileToSave:p}))}}):(0,R.L)({isConfirm:function(){lt((0,u.Z)((0,u.Z)({},h),{},{fileToSave:p}))}});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}),[lt,ue,Ce]),Nt=function(e){e.preventDefault(),oe(!1)},Zt=function(e){e.preventDefault(),oe(!0)},Rt=function(e){e.preventDefault();var t,n=e.dataTransfer.files,i=Array.from(n),o=[].concat((0,r.Z)(ue),i);if(oe(!1),(0,E.checkFile)(o))return null===(t=Ee.current)||void 0===t||t.click(),alert("file is not valid Extention!");ce(o)};function It(){je(""),Y.current.setSelectedRow(null),Y.current.setData([]),it(),Qe.current&&(Qe.current.value=(0,O.Z)(new Date,"yyyy-MM-dd")),Xe.current&&(Xe.current.value=""),$e.current&&($e.current.value=""),et.current&&(et.current.value=""),tt.current&&(tt.current.value="")}function Et(e){return(e||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}(0,c.useEffect)((function(){var e=function(e){(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),jt(e))};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[jt]);var Bt=""===Ce;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(U.Z,{title:"PDC"}),(0,F.jsxs)("div",{style:{width:"100%",height:"100%",flex:1,background:"red",padding:"10px",backgroundColor:"#F1F1F1"},children:[mt,kt,ft,(0,F.jsx)(s.Z,{sx:function(e){return(0,a.Z)({display:"flex",alignItems:"center",columnGap:"20px"},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"flex-start",flex:1,marginBottom:"15px"})},children:(0,F.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"5px",marginBottom:"15px"},children:[Ct?(0,F.jsx)(j.Z,{loading:Ct}):(0,F.jsx)(A.oi,{label:{title:"Search: ",style:{fontSize:"12px",fontWeight:"bold",width:"50px"}},input:{className:"search-input-up-on-key-down",type:"search",onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),Dt(e.currentTarget.value))},style:{width:"500px"}},icon:(0,F.jsx)(W.Z,{sx:{fontSize:"18px"}}),onIconClick:function(e){e.preventDefault(),ge.current&&Dt(ge.current.value)},inputRef:ge}),""===Ce&&(0,F.jsx)(d.Z,{sx:{height:"30px",fontSize:"11px"},variant:"contained",startIcon:(0,F.jsx)(m.Z,{sx:{width:15,height:15}}),id:"entry-header-save-button",color:"primary",onClick:function(){je("add")},children:"New"}),(0,F.jsx)(j.Z,{sx:{height:"30px",fontSize:"11px"},ref:Be,id:"save-entry-header",color:"success",variant:"contained",type:"submit",onClick:jt,disabled:""===Ce,loading:at,startIcon:(0,F.jsx)(b.Z,{sx:{width:15,height:15}}),children:"Save"}),("add"===Ce||"update"===Ce)&&(0,F.jsx)(d.Z,{sx:{height:"30px",fontSize:"11px"},variant:"contained",startIcon:(0,F.jsx)(D.Z,{sx:{width:15,height:15}}),onClick:function(){w().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&It()}))},color:"error",children:"Cancel"}),(0,F.jsx)(d.Z,{sx:{height:"30px",fontSize:"11px"},disabled:""===Ce,variant:"contained",startIcon:(0,F.jsx)(m.Z,{sx:{width:15,height:15}}),onClick:function(){(0,C.flushSync)((function(){pe(!0)})),(0,q.wait)(100).then((function(){var e,t=Y.current.getDataFormatted(),n=t[t.length-1];Te.current&&(Te.current.value=ee(null===n||void 0===n?void 0:n.Check_No)),Y.current.setSelectedRow(null),ke(null),null===(e=Te.current)||void 0===e||e.focus()}))},ref:Ve,children:"Add Check"}),(0,F.jsxs)("div",{children:[(0,F.jsx)(d.Z,{disabled:"update"!==Ce,id:"basic-button","aria-controls":te?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":te?"true":void 0,onClick:function(e){$(e.currentTarget)},sx:{height:"30px",fontSize:"11px",color:"white",backgroundColor:z.Z[600],"&:hover":{backgroundColor:z.Z[700]}},children:"Print"}),(0,F.jsxs)(f.Z,{id:"basic-menu",anchorEl:X,open:te,onClose:function(){$(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,F.jsx)(p.Z,{onClick:function(){var e=Y.current.getDataFormatted();(0,C.flushSync)((function(){var t,n,r,i,o,l,a={Ref_No:null===(t=He.current)||void 0===t?void 0:t.value,PNo:null===(n=$e.current)||void 0===n?void 0:n.value,IDNo:Ge.current,Date:null===(r=Qe.current)||void 0===r?void 0:r.value,Name:null===(i=tt.current)||void 0===i?void 0:i.value,Remarks:null===(o=Xe.current)||void 0===o?void 0:o.value,Branch:null===(l=et.current)||void 0===l?void 0:l.value};localStorage.removeItem("printString"),localStorage.setItem("dataString",JSON.stringify(e)),localStorage.setItem("paper-width","8.5in"),localStorage.setItem("paper-height","11in"),localStorage.setItem("module","pdc"),localStorage.setItem("state",JSON.stringify(a)),localStorage.setItem("column",JSON.stringify([{datakey:"Check_No",header:"CHECK NO",width:"80px"},{datakey:"Check_Date",header:"DATE",width:"130px"},{datakey:"BankName",header:"BANK",width:"240px"},{datakey:"Check_Amnt",header:"AMOUNT",width:"70px"},{datakey:"SEQ",header:"SEQ",width:"30px"}])),localStorage.setItem("title","UMIS"===(null===Re||void 0===Re?void 0:Re.department)?"UPWARD MANAGEMENT INSURANCE SERVICES\n Post Date Checks Receipt":"UPWARD CONSULTANCY SERVICES AND MANAGEMENT INC.\n Post Date Checks Receipt")})),window.open("/dashboard/print","_blank")},children:"PDC Receipt"}),(0,F.jsx)(p.Z,{onClick:function(){(0,C.flushSync)((function(){var e=B.renderToString(function(){var e,t;return(0,F.jsxs)("div",{children:[(0,F.jsx)("p",{style:{color:"#d1d5db",fontSize:"11px",textAlign:"center",padding:0,marginTop:"8px",marginBottom:0},children:"UCSMI"}),(0,F.jsx)("p",{style:{color:"#d1d5db",fontSize:"11px",textAlign:"center",padding:0,margin:0},children:null===(e=tt.current)||void 0===e?void 0:e.value}),(0,F.jsx)("p",{style:{color:"#d1d5db",fontSize:"11px",textAlign:"center",padding:0,margin:0},children:Ge.current}),(0,F.jsx)("p",{style:{color:"#d1d5db",fontSize:"11px",textAlign:"center",padding:0,margin:"20px"},children:null===(t=He.current)||void 0===t?void 0:t.value})]})}());localStorage.setItem("printString",e),localStorage.removeItem("dataString"),localStorage.setItem("paper-width","8.5in"),localStorage.setItem("paper-height","11in")})),window.open("/dashboard/print","_blank")},children:"PDC Labeling"})]})]})]})}),(0,F.jsx)("form",{onKeyDown:function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||e.preventDefault()},style:{marginBottom:"20px"},children:(0,F.jsx)(s.Z,{sx:function(e){return(0,a.Z)({display:"flex",columnGap:"15px",flexDirection:"row"},e.breakpoints.down("md"),{flexDirection:"column",rowGap:"10px"})},children:(0,F.jsxs)(s.Z,{sx:{display:"flex",gap:"10px",width:"100%"},children:[(0,F.jsxs)("fieldset",{style:{flex:1,display:"flex",flexDirection:"column",gap:"10px",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,F.jsxs)("div",{style:{display:"flex",gap:"15px"},children:[rt?(0,F.jsx)(j.Z,{loading:rt}):(0,F.jsx)(A.oi,{label:{title:"Reference No.",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:Bt,type:"text",style:{width:"300px"},onKeyDown:function(e){var t;"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),null===(t=Qe.current)||void 0===t||t.focus())}},inputRef:He,icon:(0,F.jsx)(N.Z,{sx:{fontSize:"18px",color:Bt?"gray":"black"}}),disableIcon:Bt}),(0,F.jsx)(A.oi,{label:{title:"Date : ",style:{fontSize:"12px",fontWeight:"bold",width:"50px"}},input:{disabled:Bt,type:"date",defaultValue:(0,O.Z)(new Date,"yyyy-MM-dd"),style:{width:"190px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=Xe.current)||void 0===t||t.focus())}},inputRef:Qe})]}),(0,F.jsx)(A.Fz,{label:{title:"Remarks : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},textarea:{rows:2,disabled:Bt,style:{flex:1},onKeyDown:function(e){var t;(e.stopPropagation(),"NumpadEnter"===e.code&&!e.shiftKey||"Enter"===e.code&&!e.shiftKey)&&(null===(t=$e.current)||void 0===t||t.focus())}},_inputRef:Xe})]}),(0,F.jsxs)("fieldset",{style:{flex:1,display:"flex",gap:"10px",padding:" 15px",border:"1px solid #cbd5e1",borderRadius:"5px",flexDirection:"column"},children:[(0,F.jsxs)("div",{style:{width:"100%",flex:1,display:"flex",gap:"15px"},children:[vt?(0,F.jsx)(j.Z,{loading:vt}):(0,F.jsx)(A.oi,{label:{title:"PN/Client ID : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:Bt,type:"text",style:{width:"250px",height:"22px"},onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),$e.current&&ht($e.current.value))}},inputRef:$e,icon:(0,F.jsx)(S.Z,{sx:{fontSize:"18px",color:Bt?"gray":"black"}}),onIconClick:function(e){e.preventDefault(),$e.current&&ht($e.current.value)},disableIcon:Bt}),(0,F.jsx)(A.oi,{label:{title:"Branch : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:Bt,type:"text",style:{width:"auto",height:"22px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=tt.current)||void 0===t||t.focus())}},inputRef:et})]}),(0,F.jsxs)("div",{style:{width:"100%",display:"flex",columnGap:"10px"},children:[(0,F.jsx)(A.Fz,{label:{title:"Clients Name : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},textarea:{rows:2,disabled:Bt,style:{width:"325px"},onKeyDown:function(e){var t;(e.stopPropagation(),"NumpadEnter"===e.code&&!e.shiftKey||"Enter"===e.code&&!e.shiftKey)&&(null===(t=Be.current)||void 0===t||t.click())}},_inputRef:tt}),(0,F.jsx)(d.Z,{sx:{height:"27px",fontSize:"11px"},disabled:""===Ce,variant:"contained",startIcon:(0,F.jsx)(Z.Z,{sx:{width:15,height:15}}),onClick:function(){me(!0)},children:"Upload Check"})]})]})]})})}),(0,F.jsx)(V.B,{disbaleTable:Bt,ref:Y,rows:[],columns:G,getSelectedItem:function(e,t,n){if(e){if(e[6]&&""!==e[6]||e[7]&&""!==e[7]||e[8]&&""!==e[8])return ke(null),Y.current.setSelectedRow(null),w().fire({position:"center",icon:"warning",title:"Unable to delete. Check No ".concat(e[0]," is already ").concat(e[8]," issued of OR!"),showConfirmButton:!1,timer:1500});(0,C.flushSync)((function(){pe(!0)})),(0,q.wait)(100).then((function(){Te.current&&_e.current&&Pe.current&&Fe.current&&Me.current&&Ke.current&&(Te.current.value=e[0],Me.current.value=e[1],Ke.current.value=Et(parseFloat(e[2].replace(/,/g,""))),_e.current.value=e[3],Pe.current.value=e[4],Fe.current.value=e[5],Ue.current=e[6]||"",qe.current=e[7]||"",We.current=e[8]||"",Oe.current=e[9],console.log(e[0]),_e.current.focus())})),ke(n)}else ke(null)},onKeyDown:function(e,t,n){if("Delete"===n.code||"Backspace"===n.code){if(e[6]&&""!==e[6]||e[7]&&""!==e[7]||e[8]&&""!==e[8])return ke(null),Y.current.setSelectedRow(null),w().fire({position:"center",icon:"warning",title:"Unable to delete. Check No ".concat(e[0]," is already ").concat(e[8]," issued of OR!"),showConfirmButton:!1,timer:1500});w().fire({title:"Are you sure?",text:"You won't to delete this Check No. ".concat(e[0]),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&setTimeout((function(){var e=Y.current.getData();e.splice(t,1),Y.current.setData(e),ke(null),Y.current.setSelectedRow(null)}),100)}))}}}),(0,F.jsx)(h.Z,{open:fe,onClose:function(){pe(!1),Y.current.setSelectedRow(null),ke(null)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,F.jsxs)(s.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"auto",bgcolor:"background.paper",p:4},children:[(0,F.jsx)(v.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Check Detail"}),(0,F.jsx)("br",{}),(0,F.jsxs)("div",{style:{display:"flex",columnGap:"10px"},children:[(0,F.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,F.jsx)(A.oi,{label:{title:"Check No : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:null!==be,type:"text",style:{width:"190px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=_e.current)||void 0===t||t.focus())}},inputRef:Te}),wt?(0,F.jsx)(j.Z,{loading:wt}):(0,F.jsx)(A.oi,{label:{title:"Bank : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{type:"text",style:{width:"190px"},onKeyDown:function(e){if("NumpadEnter"===e.code||"Enter"===e.code)return yt(e.currentTarget.value)}},icon:(0,F.jsx)(K.Z,{sx:{fontSize:"18px"}}),onIconClick:function(e){var t;(e.preventDefault(),_e.current)&&yt(null===(t=_e.current)||void 0===t?void 0:t.value)},inputRef:_e}),(0,F.jsx)(A.oi,{label:{title:"Branch : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{type:"text",style:{width:"190px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=Fe.current)||void 0===t||t.focus())}},inputRef:Pe}),(0,F.jsx)(A.Fz,{label:{title:"Remarks : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},textarea:{rows:4,disabled:Bt,style:{flex:1},onKeyDown:function(e){var t;"Enter"===e.key&&e.shiftKey||("NumpadEnter"!==e.code&&"Enter"!==e.code||null===(t=Me.current)||void 0===t||t.focus())}},_inputRef:Fe})]}),(0,F.jsxs)("div",{style:{display:"flex",gap:"10px",flexDirection:"column"},children:[(0,F.jsx)(A.oi,{label:{title:"Check Dated : ",style:{fontSize:"12px",fontWeight:"bold",width:"90px"}},input:{disabled:Bt,type:"date",style:{width:"190px"},defaultValue:(new Date).toISOString().split("T")[0],onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=Ke.current)||void 0===t||t.focus())}},inputRef:Me}),(0,F.jsxs)("div",{style:{display:"flex"},children:[(0,F.jsx)("label",{style:{fontSize:"12px",fontWeight:"bold",width:"90px"},children:"Amount :"}),(0,F.jsx)(L.h3,{style:{flex:1},value:null!==(_=null===(P=Ke.current)||void 0===P?void 0:P.value)&&void 0!==_?_:"",getInputRef:Ke,allowNegative:!1,thousandSeparator:!0,valueIsNumericString:!0,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code){var t,n,r=null===(t=Ke.current)||void 0===t?void 0:t.value,i=parseFloat(r.replace(/,/g,""));Ke.current&&(isNaN(i)?Ke.current.value="0.00":r.includes(".")?Ke.current.value=Et(i):Ke.current.value="".concat(Et(i))),null===(n=Le.current)||void 0===n||n.focus()}}})]}),null===be&&(0,F.jsx)(A.oi,{label:{title:"Check Count : ",style:{fontSize:"12px",fontWeight:"bold",width:"90px"}},input:{disabled:Bt,type:"number",style:{width:"190px"},onKeyDown:function(e){if("NumpadEnter"===e.code||"Enter"===e.code)var t=setTimeout((function(){var e;null===(e=ze.current)||void 0===e||e.click(),clearTimeout(t)}),100)}},inputRef:Le})]})]}),(0,F.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",width:"100%",marginTop:"10px"},children:(0,F.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,F.jsx)(d.Z,{ref:ze,action:Ae,color:"primary",variant:"contained",autoFocus:null!==be,onClick:function(){!function(){function e(e,t){var n=parseInt(e);return(n+=t).toString().padStart(e.length,"0")}function t(e,t){var n=new Date(e);return n.setMonth(n.getMonth()+t),(0,O.Z)(n,"yyyy-MM-dd")}if(Te.current&&_e.current&&Pe.current&&Fe.current&&Me.current&&Ke.current&&Le.current){var n=Y.current.getDataFormatted(),r=Y.current.getSelectedRow();if(n.filter((function(e){return Te.current&&Te.current.value===e.Check_No})).length>0&&null===r)return alert("check no. is already exist!"),void Te.current.focus();if(""===Te.current.value)return alert("check no. is required!"),void Te.current.focus();if(""===_e.current.value)return alert("bank is required!"),void _e.current.focus();if(""===Pe.current.value)return alert("branch is required!"),void Pe.current.focus();if(!function(e){var t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}(Me.current.value))return alert("invalid date!"),void Me.current.focus();if(parseFloat(Ke.current.value.replace(/,/g,""))<=0)return alert("amount must be greater than 0!"),void Ke.current.focus();if(Te.current&&_e.current&&Pe.current&&Fe.current&&Me.current&&Ke.current&&Le.current)if(r){var i=Y.current.getData();i[r][0]=Te.current.value,i[r][1]=Me.current.value,i[r][2]=Ke.current.value,i[r][3]=_e.current.value,i[r][4]=Pe.current.value,i[r][5]=Fe.current.value,i[r][6]=Ue.current,i[r][7]=qe.current,i[r][8]=We.current,i[r][9]=Oe.current,Y.current.setData(i),Y.current.setSelectedRow(null),ke(null)}else{for(var o=[],l=0;l<parseInt(Le.current.value);l++){var a={Check_No:e(Te.current.value,l),Check_Date:t(Me.current.value,l),Check_Amnt:Ke.current.value,BankName:_e.current.value,BankCode:Oe.current,Branch:Pe.current.value,Check_Remarks:Fe.current.value,Deposit_Slip:Ue.current,DateDeposit:qe.current,OR_No:We.current};o.push(a)}Y.current.setDataFormated(o)}pe(!1)}}()},sx:{height:"30px",fontSize:"11px"},children:null!==be?"Update":"Save"}),(0,F.jsx)(d.Z,{color:"success",variant:"contained",sx:{height:"30px",fontSize:"11px"},onClick:function(){pe(!1),Y.current.setSelectedRow(null),ke(null)},children:"Cancel"}),(0,F.jsx)(x.Z,{style:{position:"absolute",top:"10px",right:"10px"},"aria-label":"search-client",onClick:function(){Y.current.setSelectedRow(null),ke(null),pe(!1)},children:(0,F.jsx)(D.Z,{})})]})})]})}),(0,F.jsx)("div",{style:{display:xe?"flex":"none",position:"absolute",top:0,bottom:0,left:0,right:0,background:"rgba(158, 155, 157, 0.31)",zIndex:"999",justifyContent:"center",alignItems:"center"},children:(0,F.jsx)("div",{style:{width:"90%",height:"90%"},children:(0,F.jsx)("div",{style:{width:"90%",height:"90%",overflow:"auto",background:"white",padding:"20px",margin:"auto",zIndex:"9929",boxShadow:" -1px 1px 13px 6px rgba(0,0,0,0.54)",position:"relative"},children:(0,F.jsxs)("div",{style:{height:"100%",width:"100%",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,F.jsx)(x.Z,{sx:{position:"absolute",right:"5px",top:"5px"},onClick:function(){me(!1)},children:(0,F.jsx)(D.Z,{})}),(0,F.jsxs)("div",{style:{width:"100%",height:"500px",border:ie?"5px dashed green":"5px dashed grey",overflow:"auto",padding:"10px"},onDragEnter:Zt,onDragOver:function(e){return e.preventDefault()},onDragLeave:Nt,onDrop:Rt,children:[(0,F.jsx)("div",{id:"upload-container",style:{width:"100%",height:"100%",display:"flex",gap:"10px",flexWrap:"wrap"},onDragEnter:Zt,onDragOver:function(e){return e.preventDefault()},onDragLeave:Nt,onDrop:Rt,children:ue.map((function(e,t){return(0,F.jsx)(E.DisplayFile,{itm:e,selectedFiles:ue,setSelectedFiles:ce,fileInput:Ee},t)}))}),ue.length<=0&&(0,F.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",textAlign:"center"},children:(0,F.jsx)(I.Z,{sx:{fontSize:"20em",color:"#64748b"}})}),(0,F.jsx)("input",{ref:Ee,type:"file",multiple:!0,style:{display:"none",background:"white"},id:"input-file",onChange:function(e){var t=e.target.files,n=Array.from(t),i=[].concat((0,r.Z)(ue),n);if((0,E.checkFile)(i))return alert("file is not valid Extention!");ce(i)}})]}),(0,F.jsx)("div",{style:{width:"100%"},children:(0,F.jsx)(d.Z,{fullWidth:!0,onClick:function(){var e=document.getElementById("input-file");null===e||void 0===e||e.click()},children:"CLick it to upload"})})]})})})}),(at||st)&&(0,F.jsx)("div",{className:"loading-component",children:(0,F.jsx)("div",{className:"loader"})})]})]})}function $(e,t){Object.entries(t).forEach((function(t){var n=(0,l.Z)(t,2),r=n[0],i=n[1];e({type:"UPDATE_FIELD",field:r,value:i})}))}function ee(e){if(e){for(var t=(parseInt(e)+1).toString();t.length<e.length;)t="0"+t;return t}return"001"}}}]);
//# sourceMappingURL=8185.9942f1ae.chunk.js.map