"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[1861],{13784:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(1413),o=n(45987),a=n(71652),r=n(93862),l=n(93777),c=n(80184),d=["label","name","onChange","value","onKeyDown","inputRef","datePickerRef","fullWidth","textField","minWidth"];function s(e){var t=e.label,n=e.name,s=e.onChange,u=e.value,f=e.onKeyDown,p=e.inputRef,h=e.datePickerRef,m=e.fullWidth,x=e.textField,g=e.minWidth,v=void 0===g?"200px":g,b=(0,o.Z)(e,d);return(0,c.jsx)(a._,{dateAdapter:r.H,children:(0,c.jsx)(l.M,(0,i.Z)({floatingLabelStyle:{color:"black"},value:u,onChange:s,ref:h,slotProps:{textField:(0,i.Z)({size:"small",label:t,name:n,onKeyDown:f,inputRef:p,fullWidth:m},x)},InputLabelProps:{sx:{color:"black"}},sx:{minWidth:v,fieldset:{borderColor:"black"},".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}},b))})}},56580:function(e,t,n){n.d(t,{a:function(){return d}});var i=n(1413),o=n(45987),a=n(72791),r=n(30948),l=n(80184),c=["onChange"],d=a.forwardRef((function(e,t){var n=e.onChange,a=(0,o.Z)(e,c);return(0,l.jsx)(r.h3,(0,i.Z)((0,i.Z)({},a),{},{getInputRef:t,onValueChange:function(t){n({target:{name:e.name,value:t.value}})},allowNegative:!1,thousandSeparator:!0,valueIsNumericString:!0}))}))},93346:function(e,t,n){n.d(t,{r:function(){return c}});var i=n(93433),o=n(29439),a=n(72791),r=n(16088),l=n(80184),c=(0,a.forwardRef)((function(e,t){var n,c=e.rows,d=e.column,s=e.width,u=e.height,f=e.dataReadOnly,p=e.onSelectionChange,h=void 0===p?function(){}:p,m=e.isMultipleSelect,x=void 0!==m&&m,g=e.freeze,v=void 0!==g&&g,b=e.onKeyDown,y=e.inputsearchselector,D=void 0===y?".search-input-up-on-key-down":y,N=e.isRowSelectable,C=void 0===N||N,w=e.unSelectable,S=void 0===w?function(){return!1}:w,Z=e.isLoading,j=e.onRightClick,I=(0,a.useState)([]),k=(0,o.Z)(I,2),E=k[0],T=k[1],F=(0,a.useState)(0),A=(0,o.Z)(F,2),L=A[0],z=A[1],P=(0,a.useRef)(h),M=(0,a.useRef)(b),R=(0,a.useState)(d.filter((function(e){return!e.hide}))),_=(0,o.Z)(R,2),U=_[0],K=_[1],B=(0,a.useState)(null),W=(0,o.Z)(B,2),O=W[0],V=W[1],q=(0,a.useState)([0]),Y=(0,o.Z)(q,2),J=Y[0],G=Y[1],H=(0,a.useState)(0),Q=(0,o.Z)(H,2),X=Q[0],$=Q[1],ee=(0,a.useState)([]),te=(0,o.Z)(ee,2),ne=te[0],ie=te[1],oe=(0,a.useRef)(null),ae=(0,a.useState)(null),re=(0,o.Z)(ae,2),le=re[0],ce=re[1];(0,a.useEffect)((function(){var e=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=[],i=0;i<e.length;i+=t)n.push(e.slice(i,i+t));return n}(c,100);T(e)}),[c]);var de=function(e,t){t.preventDefault(),t.stopPropagation();var n=t.clientX,o=U[e].width,a=function(t){var a=o+(t.clientX-n),r=(0,i.Z)(U);r[e].width=a>50?a:50,K(r)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",e)}))},se=function(e){V(e)},ue=function(){V(null)};(0,a.useImperativeHandle)(t,(function(){return{resetTableSelected:function(){if(G([0]),$(0),ie([]),c.length>0){var e=document.querySelector(".row-".concat(0));null===e||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"})}},getSelectedRows:function(){return c.filter((function(e,t){return ne.includes(t)}))},setSelectRows:function(e){ie(e)}}}));return(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center"},onKeyDown:function(e){if("ArrowDown"===e.key)e.preventDefault(),G((function(e){var t;if(null===e[e.length-1])return[0];if(e[e.length-1]>=c.length-1)return[c.length-1];var n=e[e.length-1]+1,i=document.querySelector(".row-".concat(n));return null===i||void 0===i||null===(t=i.querySelector("input"))||void 0===t||t.focus(),null===i||void 0===i||i.scrollIntoView({block:"end",behavior:"smooth"}),[n]}));else if("ArrowUp"===e.key){if(e.preventDefault(),0===J[J.length-1]){var t=document.querySelector(D);if(t&&"INPUT"===t.tagName)null===t||void 0===t||t.focus();else if(t&&"DIV"===t.tagName){var n=document.querySelector("".concat(D," input"));null===n||void 0===n||n.focus()}}G((function(e){var t;if(0===e[e.length-1])return[0];var n=e[e.length-1]-1,i=document.querySelector(".row-".concat(n));return null===i||void 0===i||i.scrollIntoView({block:"end",behavior:"smooth"}),null===i||void 0===i||null===(t=i.querySelector("input"))||void 0===t||t.focus(),[n]}))}},children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"table-frame-color",children:[(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",width:"".concat(s-10,"px        "),height:"".concat(u-135,"px"),minHeight:"270px"},className:"table-frame",children:(0,l.jsx)("div",{className:"table-panel",children:(0,l.jsxs)("div",{ref:oe,className:"grid-container ",tabIndex:-1,children:[(0,l.jsx)("div",{className:"grid-row grid-header",style:{position:"sticky",zIndex:"10",top:"-1px",background:"white"},children:U.map((function(e,t){return(0,l.jsxs)("div",{className:"grid-cell header-cell ".concat(O===t?"highlight-column":""),style:{width:e.width,height:"20px"},children:[(0,l.jsx)("input",{style:{fontWeight:"bold"},defaultValue:e.headerName,readOnly:!0,onChange:function(e){}}),(0,l.jsx)("div",{className:"resize-handle",onMouseDown:function(e){return de(t,e)},onMouseEnter:function(e){e.preventDefault(),se(t)},onMouseLeave:function(e){e.preventDefault(),ue()}})]},t)}))}),null===(n=E[L])||void 0===n?void 0:n.map((function(e,t){return(0,l.jsx)("div",{className:"grid-row row-".concat(t),onClick:function(e){return function(e,t){if(x)if(t.shiftKey&&null!==X){for(var n=Math.min(X,e),o=Math.max(X,e),a=[],r=n;r<=o;r++)J.includes(r)||a.push(r);var l=[].concat((0,i.Z)(ne),a);G([].concat((0,i.Z)(J),a));var d=function(e){var t=e.map((function(e,t){return S(e)?null:{idx:t,data:e}})).filter((function(e){return null!==e})),n=t.map((function(e){return e.data}));return{newSelectedRowsFiltered:t.map((function(e){return e.idx})),data:n}}(c.filter((function(e,t){return l.includes(t)}))),s=d.newSelectedRowsFiltered;d.data,ie(s)}else if(t.ctrlKey||t.metaKey)if(J.includes(e)&&!v){G(J.filter((function(t){return t!==e}))),ie((function(t){return t=t.filter((function(t){return t!==e})),t}));var u=ne.filter((function(t){return t!==e}));c.filter((function(e,t){return u.includes(t)})),ie(u)}else{G([].concat((0,i.Z)(J),[e])),ie((function(t){return t.push(e),t}));var f=[].concat((0,i.Z)(ne),[e]);c.filter((function(e,t){return f.includes(t)})),ie(f)}else G([e]);else G([e]);$(e)}(t,e)},onDoubleClick:function(e){le&&(clearTimeout(le),ce(null));var n=setTimeout((function(){!function(e,t){var n=c[e];if(!S(n)&&C){var o=[];if(o=x?[].concat((0,i.Z)(ne),(0,i.Z)(J)):[e],ne.includes(e)&&!v)return o=ne.filter((function(t){return t!==e})),ie(o),void P.current([],e);ie(o),P.current([n],e)}}(t)}),200);ce(n)},onKeyDown:function(e){le&&(clearTimeout(le),ce(null));var t=setTimeout((function(){!function(e){if(e.stopPropagation(),"Enter"===e.key||"NumpadEnter"===e.key){if(e.preventDefault(),!C)return;var t=[],n=J[J.length-1];t=x?[].concat((0,i.Z)(ne),(0,i.Z)(J)):[n];var o=c[t[t.length-1]];if(S(o))return;if(ne.includes(n)&&!v)return t=ne.filter((function(e){return e!==n})),ie(t),void P.current([],n);ie(t),P.current([o],n)}else if("Delete"===e.key||"Backspace"===e.key){if(!C)return;var a=J[J.length-1],r=c.filter((function(e,t){return J.includes(t)}));null!==M&&void 0!==M&&M.current&&(null===M||void 0===M||M.current(r,e.key,a))}}(e)}),200);ce(t)},onContextMenu:function(e){return function(e,t){e.preventDefault();var n=c[t];j&&j(n,e)}(e,t)},children:U.map((function(n,i){return(0,l.jsxs)("div",{style:{width:n.width},className:"grid-cell ".concat(O===i?"highlight-column":""),children:[(0,l.jsx)("input",{value:e[n.field],onChange:function(e){},readOnly:f,className:"".concat(J.includes(t)?"selected-row":""," ").concat(ne.includes(t)?"selected-items":"","\n                          ").concat("number"===n.type?"number":"text","\n                          ")}),(0,l.jsx)("div",{className:"resize-handle",onMouseDown:function(e){e.preventDefault(),de(i,e)},onMouseEnter:function(e){e.preventDefault(),se(i)},onMouseLeave:function(e){e.preventDefault(),ue()}})]},i)}))},t)}))]})})}),Z&&(0,l.jsx)("div",{className:"table-loading",children:(0,l.jsx)("div",{className:"loader"})})]}),(0,l.jsxs)("div",{className:"table-panel-footer",children:[(0,l.jsxs)("div",{children:["Records : ",c.length]}),(0,l.jsx)("div",{children:(0,l.jsx)(r.Z,{count:E.length,onChange:function(e,t){z(t-1)}})})]})]})})}))},51861:function(e,t,n){n.r(t),n.d(t,{default:function(){return H},reducer:function(){return J}});var i=n(93433),o=n(74165),a=n(15861),r=n(29439),l=n(4942),c=n(1413),d=n(72791),s=n(27391),u=n(36151),f=n(68096),p=n(94925),h=n(77196),m=n(63466),x=n(13400),g=n(58406),v=n(23786),b=n(88447),y=n(64554),D=n(20890),N=n(85523),C=n(94454),w=n(13784),S=n(39709),Z=n(42419),j=n(29823),I=n(21830),k=n.n(I),E=n(3380),T=n(86753),F=n(91933),A=n(56580),L=n(93263),z=n(79018),P=n(84669),M=n(71652),R=n(93862),_=n(93777),U=n(95643),K=n(5519);var B=n(64230),W=n(54164),O=n(53329),V=n(93346),q=n(80184),Y={sub_refNo:"",refNo:"",dateEntry:new Date,explanation:"",particulars:"",code:"",acctName:"",subAcct:"",subAcctName:"",IDNo:"",ClientName:"",address:"",credit:"",debit:"",checkNo:"",checkDate:new Date,TC_Code:"",TC_Desc:"",remarks:"",Payto:"",vatType:"NON-VAT",invoice:"",BranchCode:"HO",totalDebit:"",totalCredit:"",totalBalance:"",jobAutoExp:!1,jobTransactionDate:new Date,jobType:"",search:"",cashMode:""},J=function(e,t){return"UPDATE_FIELD"===t.type?(0,c.Z)((0,c.Z)({},e),{},(0,l.Z)({},t.field,t.value)):e},G=[{field:"code",headerName:"Code",minWidth:150},{field:"acctName",headerName:"Account Name",minWidth:300},{field:"subAcctName",headerName:"Sub Account",flex:1,minWidth:170},{field:"ClientName",headerName:"Name",flex:1,minWidth:300},{field:"debit",headerName:"Debit",minWidth:80},{field:"credit",headerName:"Credit",minWidth:100},{field:"checkNo",headerName:"Check No",minWidth:80},{field:"checkDate",headerName:"Check Date",minWidth:100},{field:"TC_Code",headerName:"TC",minWidth:100},{field:"remarks",headerName:"Remarks",flex:1,minWidth:300},{field:"Payto",headerName:"Payto",minWidth:300},{field:"vatType",headerName:"Vat Type",minWidth:100},{field:"invoice",headerName:"Invoice",flex:1,minWidth:200},{field:"TempID",headerName:"TempId",hide:!0},{field:"IDNo",headerName:"I.D.",flex:1,minWidth:300,hide:!0},{field:"BranchCode",headerName:"BranchCode",flex:1,minWidth:300,hide:!0},{field:"addres",headerName:"addres",hide:!0}];function H(){var e,t,n,l,I,H,X=(0,d.useState)(!1),$=(0,r.Z)(X,2),ee=$[0],te=$[1],ne=(0,d.useState)({x:0,y:0}),ie=(0,r.Z)(ne,2),oe=ie[0],ae=ie[1],re=(0,d.useState)(null),le=(0,r.Z)(re,2),ce=le[0],de=le[1],se=((0,d.useRef)(null),(0,d.useContext)(E.V)),ue=se.myAxios,fe=se.user,pe=(0,d.useReducer)(J,Y),he=(0,r.Z)(pe,2),me=he[0],xe=he[1],ge=(0,d.useState)(!1),ve=(0,r.Z)(ge,2),be=ve[0],ye=ve[1],De=(0,d.useState)(!1),Ne=(0,r.Z)(De,2),Ce=Ne[0],we=Ne[1],Se=(0,d.useState)(!1),Ze=(0,r.Z)(Se,2),je=Ze[0],Ie=Ze[1],ke=(0,d.useState)({edit:!1,updateId:""}),Ee=(0,r.Z)(ke,2),Te=Ee[0],Fe=Ee[1],Ae=(0,d.useState)([]),Le=(0,r.Z)(Ae,2),ze=(Le[0],Le[1],(0,d.useState)([])),Pe=(0,r.Z)(ze,2),Me=(Pe[0],Pe[1],(0,d.useState)([])),Re=(0,r.Z)(Me,2),_e=Re[0],Ue=Re[1],Ke=(0,F.useQueryClient)(),Be=(0,d.useRef)(null),We=(0,d.useRef)(null),Oe=(0,d.useRef)(null),Ve=(0,d.useRef)(null),qe=(0,d.useRef)(null),Ye=(0,d.useRef)(null),Je=(0,d.useRef)(null),Ge=(0,d.useRef)(null),He=(0,d.useRef)(null),Qe=(0,d.useRef)(null),Xe=(0,d.useRef)(null),$e=(0,d.useRef)(null),et=(0,d.useRef)(null),tt=(0,d.useRef)(null),nt=(0,d.useRef)(null),it=(0,d.useRef)(null),ot=(0,d.useRef)(null),at=(0,d.useRef)(null),rt=(0,d.useRef)(null),lt=(0,d.useRef)(null),ct=(0,d.useRef)(null),dt=(0,d.useRef)(null),st=(0,d.useRef)(null),ut=(0,F.useMutation)({mutationKey:"get-selected-search-general-journal",mutationFn:function(t){return(e=e||(0,a.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.post("/task/accounting/cash-disbursement/print",t,{headers:{Authorization:"Bearer ".concat(null===fe||void 0===fe?void 0:fe.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;console.log(t),(0,W.flushSync)((function(){localStorage.removeItem("printString"),localStorage.setItem("dataString",JSON.stringify(t.data.print.PrintTable)),localStorage.setItem("paper-width","8.5in"),localStorage.setItem("paper-height","11in"),localStorage.setItem("module","cash-disbursement"),localStorage.setItem("state",JSON.stringify(t.data.print.PrintPayeeDetails)),localStorage.setItem("column",JSON.stringify([{datakey:"Account",header:"ACCOUNT",width:"200px"},{datakey:"Identity",header:"IDENTITY",width:"277px"},{datakey:"Debit",header:"DEBIT",width:"100px"},{datakey:"Credit",header:"CREDIT",width:"100px"}])),localStorage.setItem("title","UMIS"===(null===fe||void 0===fe?void 0:fe.department)?"UPWARD MANAGEMENT INSURANCE SERVICES\n":"UPWARD CONSULTANCY SERVICES AND MANAGEMENT INC.\n")})),window.open("/dashboard/print","_blank")}}),ft=ut.mutate,pt=ut.isLoading,ht=(0,F.useQuery)({queryKey:"general-journal-id-generator",queryFn:function(){return(t=t||(0,a.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.get("/task/accounting/cash-disbursement/generate-id",{headers:{Authorization:"Bearer ".concat(null===fe||void 0===fe?void 0:fe.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},refetchOnWindowFocus:!1,onSuccess:function(e){var t=e;xe({type:"UPDATE_FIELD",field:"refNo",value:t.data.generatedId[0].id}),xe({type:"UPDATE_FIELD",field:"sub_refNo",value:t.data.generatedId[0].id})}}),mt=ht.isLoading,xt=ht.refetch,gt=(0,F.useMutation)({mutationKey:"add-cash-disbursement",mutationFn:function(e){return(n=n||(0,a.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.post("/task/accounting/cash-disbursement/add-cash-disbursement",t,{headers:{Authorization:"Bearer ".concat(null===fe||void 0===fe?void 0:fe.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;return t.data.success?(Ke.invalidateQueries("search-general-journal"),Ie(!1),Q(xe,Y),xt(),Ue([]),Fe({edit:!1,updateId:""}),k().fire({position:"center",icon:"success",title:t.data.message,timer:1500})):k().fire({position:"center",icon:"warning",title:t.data.message,timer:1500})}}),vt=gt.mutate,bt=gt.isLoading,yt=(0,F.useMutation)({mutationKey:"jobs",mutationFn:function(e){return(l=l||(0,a.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.post("/task/accounting/general-journal/jobs",t,{headers:{Authorization:"Bearer ".concat(null===fe||void 0===fe?void 0:fe.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;Ue([]),Ue(t.data.jobs),ye(!1)}}),Dt=yt.mutate,Nt=yt.isLoading,Ct=(0,F.useMutation)({mutationKey:"void-cash-disbursement",mutationFn:function(e){return(I=I||(0,a.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.post("/task/accounting/cash-disbursement/void-cash-disbursement",t,{headers:{Authorization:"Bearer ".concat(null===fe||void 0===fe?void 0:fe.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;return t.data.success?(Ke.invalidateQueries("search-general-journal"),Ie(!1),Q(xe,Y),xt(),Ue([]),Fe({edit:!1,updateId:""}),k().fire({position:"center",icon:"success",title:t.data.message,timer:1500})):k().fire({position:"center",icon:"warning",title:t.data.message,timer:1500})}}),wt=Ct.mutate,St=Ct.isLoading,Zt=(0,F.useMutation)({mutationKey:"get-selected-search-general-journal",mutationFn:function(e){return(H=H||(0,a.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.post("/task/accounting/cash-disbursement/get-selected-search-cash-disbursement",t,{headers:{Authorization:"Bearer ".concat(null===fe||void 0===fe?void 0:fe.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e.data.selectedCashDisbursement,n=t[0],i=n.explanation,o=n.dateEntry,a=n.refNo,r=n.particulars;xe({type:"UPDATE_FIELD",field:"sub_refNo",value:a}),xe({type:"UPDATE_FIELD",field:"refNo",value:a}),xe({type:"UPDATE_FIELD",field:"dateEntry",value:o}),xe({type:"UPDATE_FIELD",field:"explanation",value:i}),xe({type:"UPDATE_FIELD",field:"particulars",value:r}),Ue(t),Ie(!0)}}),jt=Zt.mutate,It=Zt.isLoading,kt=(0,L.Z)({link:{url:"/task/accounting/cash-disbursement/search-cash-disbursement",queryUrlName:"searchCashDisbursement"},columns:[{field:"Date_Entry",headerName:"Date",width:130},{field:"Source_No",headerName:"Ref No.",width:250},{field:"Explanation",headerName:"Explanation",flex:1}],queryKey:"search-cash-disbursement",uniqueId:"Source_No",responseDataKey:"search",onSelected:function(e,t){jt({Source_No:e[0].Source_No}),Gt({target:{value:"edit",name:"cashMode"}}),Ue([]),Fe({edit:!1,updateId:""}),At()},onCloseFunction:function(e){xe({type:"UPDATE_FIELD",field:"search",value:e})},searchRef:Xe}),Et=kt.ModalComponent,Tt=kt.openModal,Ft=kt.isLoading,At=kt.closeModal,Lt=(0,L.Z)({link:{url:"/task/accounting/general-journal/get-chart-account",queryUrlName:"chartAccountSearch"},columns:[{field:"Acct_Code",headerName:"Account Code",width:130},{field:"Acct_Title",headerName:"Account Title.",width:250},{field:"Short",headerName:"Short",flex:1}],queryKey:"get-chart-account",uniqueId:"Acct_Code",responseDataKey:"getChartOfAccount",onSelected:function(e,t){xe({type:"UPDATE_FIELD",field:"code",value:e[0].Acct_Code}),xe({type:"UPDATE_FIELD",field:"acctName",value:e[0].Acct_Title}),Rt(),setTimeout((function(){var e;null===(e=Ye.current)||void 0===e||e.focus()}),250)},searchRef:Xe}),zt=Lt.ModalComponent,Pt=Lt.openModal,Mt=Lt.isLoading,Rt=Lt.closeModal,_t=(0,L.Z)({link:{url:"/task/accounting/search-pdc-policy-id",queryUrlName:"searchPdcPolicyIds"},columns:[{field:"Type",headerName:"Type",width:130},{field:"IDNo",headerName:"ID No.",width:200},{field:"Name",headerName:"Name",flex:1},{field:"ID",headerName:"ID",hide:!0}],queryKey:"get-policyId-ClientId-RefId",uniqueId:"IDNo",responseDataKey:"clientsId",onSelected:function(e){Ce?(xe({type:"UPDATE_FIELD",field:"Payto",value:e[0].Name}),Wt(),setTimeout((function(){var e;null===(e=Ge.current)||void 0===e||e.focus()}),200)):(xe({type:"UPDATE_FIELD",field:"ClientName",value:e[0].Name}),xe({type:"UPDATE_FIELD",field:"IDNo",value:e[0].IDNo}),xe({type:"UPDATE_FIELD",field:"subAcct",value:e[0].sub_account}),xe({type:"UPDATE_FIELD",field:"subAcctName",value:e[0].ShortName}),xe({type:"UPDATE_FIELD",field:"address",value:e[0].address}),Wt(),setTimeout((function(){var e;null===(e=He.current)||void 0===e||e.focus()}),200))},searchRef:$e}),Ut=_t.ModalComponent,Kt=_t.openModal,Bt=_t.isLoading,Wt=_t.closeModal,Ot=(0,L.Z)({link:{url:"/task/accounting/general-journal/get-transaction-account",queryUrlName:"transactionCodeSearch"},columns:[{field:"Code",headerName:"Code",width:130},{field:"Description",headerName:"Description",flex:1}],queryKey:"get-transaction-account",uniqueId:"Code",responseDataKey:"getTransactionAccount",onSelected:function(e){xe({type:"UPDATE_FIELD",field:"TC_Code",value:e[0].Code}),xe({type:"UPDATE_FIELD",field:"TC_Desc",value:e[0].Description}),Jt(),setTimeout((function(){var e;null===(e=Qe.current)||void 0===e||e.focus()}),250)},searchRef:$e}),Vt=Ot.ModalComponent,qt=Ot.openModal,Yt=Ot.isLoading,Jt=Ot.closeModal;(0,d.useEffect)((function(){var e=_e.reduce((function(e,t){return e+parseFloat(t.debit.replace(/,/g,""))}),0),t=_e.reduce((function(e,t){return e+parseFloat(t.credit.replace(/,/g,""))}),0);xe({type:"UPDATE_FIELD",field:"totalDebit",value:e.toFixed(2)}),xe({type:"UPDATE_FIELD",field:"totalCredit",value:t.toFixed(2)}),xe({type:"UPDATE_FIELD",field:"totalBalance",value:(e-t).toFixed(2)})}),[_e]);var Gt=function(e){var t=e.target,n=t.name,i=t.value;xe({type:"UPDATE_FIELD",field:n,value:i})};function Ht(){if(isNaN(parseFloat(me.credit))&&(me.credit="0.00"),isNaN(parseFloat(me.debit))&&(me.debit="0.00"),""===me.code||""===me.acctName)return Pt(me.code);if(""===me.subAcctName||""===me.ClientName)return Kt(me.ClientName);if(me.credit===me.debit)return k().fire({position:"center",icon:"warning",title:"The values for credit and debit must be different",timer:1500});if("1.01.10"===me.code&&""===me.checkNo)return k().fire({position:"center",icon:"warning",title:"Check No. is Required!",timer:1500});if(""===me.TC_Code)return qt(me.TC_Code);if(""===me.Payto&&"1.01.10"===me.code)return we(!0),Kt(me.Payto);if(me.code.length>=200)return k().fire({position:"center",icon:"warning",title:"Code is too long!",timer:1500});if(me.ClientName.length>=200)return k().fire({position:"center",icon:"warning",title:"Client Name is too long!",timer:1500});if(me.debit.length>=200)return k().fire({position:"center",icon:"warning",title:"Debit is too long!",timer:1500});if(me.credit.length>=200)return k().fire({position:"center",icon:"warning",title:"Credit is too long!",timer:1500});if(me.checkNo.length>=200)return k().fire({position:"center",icon:"warning",title:"Check No is too long!",timer:1500});if(me.TC_Code.length>=200)return k().fire({position:"center",icon:"warning",title:"TC is too long!",timer:1500});if(me.Payto.length>=200)return k().fire({position:"center",icon:"warning",title:"Pay to is too long!",timer:1500});if(me.invoice.length>=200)return k().fire({position:"center",icon:"warning",title:"Invoice is too long!",timer:1500});function e(e){var t=e.length?e[e.length-1].TempID:"000";return(parseInt(t.toString().match(/\d+/)[0])+1).toString().padStart(3,"0")}k().fire({title:Te.edit?"Are you sure you want to update row?":"Are you sure you want to add new row?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:Te.edit?"Yes, update it!":"Yes Add it"}).then((function(t){if(t.isConfirmed){Ue((function(t){if("1.01.10"===me.code?me.checkDate=function(e){var t=new Date(e),n=("0"+t.getDate()).slice(-2);return("0"+(t.getMonth()+1)).slice(-2)+"/"+n+"/"+t.getFullYear()}(me.checkDate):me.checkDate="","VAT"===me.vatType&&"1.06.02"!==me.code){var n;0!==parseFloat(me.debit.replace(/,/g,""))?(n=parseFloat(me.debit.replace(/,/g,""))/1.12,me.debit=n.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})):(n=parseFloat(me.credit.replace(/,/g,""))/1.12,me.credit=n.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),t=Te.edit?t.map((function(e){return Te.updateId===e.TempID&&(e=(0,c.Z)((0,c.Z)({},e),me)),e})):[].concat((0,i.Z)(t),[(0,c.Z)((0,c.Z)({},me),{},{TempID:e(t)})]);var o=.12*n;0!==parseFloat(me.debit.replace(/,/g,""))?me.debit=o.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):me.credit=o.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),t=[].concat((0,i.Z)(t),[(0,c.Z)((0,c.Z)({},me),{},{code:"1.06.02",acctName:"Input Tax",TempID:e(t)})])}else{var a=parseFloat(me.credit.replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),r=parseFloat(me.debit.replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});if(me.credit=a,me.debit=r,Te.edit)return t.map((function(e){return Te.updateId===e.TempID&&(e=(0,c.Z)((0,c.Z)({},e),me)),e}));t=[].concat((0,i.Z)(t),[(0,c.Z)((0,c.Z)({},me),{},{TempID:e(t)})])}return t}));var n={code:"",acctName:"",subAcct:"",subAcctName:"",IDNo:"",ClientName:"",credit:"",debit:"",TC_Code:"",TC_Desc:"",remarks:"",vatType:"NON-VAT",invoice:"",address:"",checkNo:"",checkDate:new Date};Q(xe,(0,c.Z)((0,c.Z)({},me),n)),Fe({edit:!1,updateId:""}),(0,z.D)(300).then((function(){var e;null===(e=et.current)||void 0===e||e.focus()}))}}))}var Qt,Xt=""===me.cashMode,$t=window.innerWidth-50,en=window.innerHeight-145;return(0,q.jsxs)("div",{onClick:function(){te(!1),ce&&de(null)},style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",flex:1},children:[(0,q.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"5px"},children:[(0,q.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"5px"},children:[Ft?(0,q.jsx)(S.Z,{loading:Ft}):(0,q.jsx)(s.Z,{label:"Search",size:"small",name:"search",value:me.search,onChange:Gt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),Tt(e.target.value)},InputProps:{style:{height:"27px",fontSize:"14px"}},sx:{width:"300px",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),""===me.cashMode&&(0,q.jsx)(u.Z,{sx:{height:"30px",fontSize:"11px"},variant:"contained",startIcon:(0,q.jsx)(Z.Z,{sx:{width:15,height:15}}),id:"entry-header-save-button",onClick:function(){Gt({target:{value:"add",name:"cashMode"}})},color:"primary",children:"New"}),(0,q.jsx)(S.Z,{sx:{height:"30px",fontSize:"11px"},loading:bt,disabled:""===me.cashMode,onClick:function(){return""===me.refNo?k().fire({position:"center",icon:"warning",title:"Please provide reference number!",timer:1500}):""===me.explanation?k().fire({position:"center",icon:"warning",title:"Please provide explanation!",timer:1500}).then((function(){(0,z.D)(300).then((function(){var e;null===(e=Ve.current)||void 0===e||e.focus()}))})):""===me.totalDebit&&""===me.totalCredit||"0.00"===me.totalDebit&&"0.00"===me.totalCredit?k().fire({position:"center",icon:"warning",title:"Total Debit and Credit amount must not be zero(0), please double check the entries",timer:1500}).then((function(){(0,z.D)(300).then((function(){}))})):me.totalDebit!==me.totalCredit?k().fire({position:"center",icon:"warning",title:"Total Debit and Credit amount must be balance, please double check the entries",timer:1500}).then((function(){(0,z.D)(300).then((function(){}))})):void("edit"===me.cashMode?(0,B.s)({isUpdate:!0,cb:function(e){vt({hasSelected:je,refNo:me.refNo,dateEntry:me.dateEntry,explanation:me.explanation,particulars:me.particulars,cashDisbursement:_e,userCodeConfirmation:e})}}):(0,B.L)({isConfirm:function(){vt({hasSelected:je,refNo:me.refNo,dateEntry:me.dateEntry,explanation:me.explanation,particulars:me.particulars,cashDisbursement:_e})}}))},color:"success",variant:"contained",children:"Save"}),""!==me.cashMode&&(0,q.jsx)(S.Z,{sx:{height:"30px",fontSize:"11px"},variant:"contained",startIcon:(0,q.jsx)(j.Z,{sx:{width:15,height:15}}),color:"error",onClick:function(){k().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&(xt(),Gt({target:{value:"",name:"cashMode"}}),Q(xe,Y),Ue([]),Fe({edit:!1,updateId:""}))}))},disabled:""===me.cashMode,children:"Cancel"}),(0,q.jsx)(S.Z,{sx:{height:"30px",fontSize:"11px",background:U.Z[500],":hover":{background:U.Z[600]}},onClick:function(){(0,B.s)({isUpdate:!1,text:"Are you sure you want to void ".concat(me.refNo),cb:function(e){wt({refNo:me.refNo,dateEntry:me.dateEntry,userCodeConfirmation:e})}})},loading:St,disabled:"edit"!==me.cashMode,variant:"contained",startIcon:(0,q.jsx)(P.Z,{sx:{width:20,height:20}}),children:"Void"}),(0,q.jsx)(S.Z,{loading:pt,disabled:"edit"!==me.cashMode,id:"basic-button","aria-haspopup":"true",onClick:function(){ft({Source_No:me.refNo})},sx:{height:"30px",fontSize:"11px",color:"white",backgroundColor:K.Z[600],"&:hover":{backgroundColor:K.Z[700]}},children:"Print"})]}),(0,q.jsxs)("div",{style:{fontSize:"13px",border:"1px solid #d4d4d8",width:"100%",display:"flex",columnGap:"50px",height:"30px",alignItems:"center",justifyContent:"center"},children:[(0,q.jsxs)("p",{style:{margin:0,padding:0,color:"black"},children:[(0,q.jsx)("span",{style:{fontSize:"12px"},children:"Total Rows:"})," ",(0,q.jsx)("strong",{children:_e.length})]}),(0,q.jsxs)("p",{style:{margin:0,padding:0,color:"black"},children:[(0,q.jsx)("span",{style:{fontSize:"12px"},children:"Total Debit:"})," ",(0,q.jsx)("strong",{children:me.totalDebit})]}),(0,q.jsxs)("p",{style:{margin:0,padding:0,color:"black"},children:[(0,q.jsx)("span",{style:{fontSize:"12px"},children:"Total Credit:"})," ",(0,q.jsx)("strong",{children:me.totalCredit})]}),(0,q.jsxs)("p",{style:{margin:0,padding:0,color:"black"},children:[(0,q.jsx)("span",{style:{fontSize:"12px"},children:"Balance:"})," ",(0,q.jsx)("strong",{style:{color:parseFloat(me.totalBalance.replace(/,/g,""))>0?"red":"black"},children:me.totalBalance})]})]})]}),(0,q.jsxs)("fieldset",{style:{border:"1px solid #cbd5e1",borderRadius:"5px",position:"relative",width:"100%",height:"auto",display:"flex",marginTop:"10px",gap:"10px",padding:"15px"},children:[mt?(0,q.jsx)(S.Z,{loading:mt}):(0,q.jsxs)(f.Z,{variant:"outlined",size:"small",disabled:Xt,sx:{width:"140px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,q.jsx)(p.Z,{htmlFor:"return-check-id-field",children:"Reference CV-"}),(0,q.jsx)(h.Z,{sx:{height:"27px",fontSize:"14px"},disabled:Xt,fullWidth:!0,label:"Reference CV-",name:"refNo",value:me.refNo,onChange:Gt,onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),null===(t=nt.current)||void 0===t||t.focus())},readOnly:"UCSMI"!==(null===fe||void 0===fe?void 0:fe.department),id:"return-check-id-field",endAdornment:(0,q.jsx)(m.Z,{position:"end",children:(0,q.jsx)(x.Z,{ref:Oe,disabled:Xt,"aria-label":"search-client",color:"secondary",edge:"end",onClick:function(){xt()},children:(0,q.jsx)(T.Z,{})})})})]}),(0,q.jsx)(w.Z,{fullWidth:!1,disabled:Xt,label:"Date",onChange:function(e){xe({type:"UPDATE_FIELD",field:"dateEntry",value:e})},value:new Date(me.dateEntry),inputRef:nt,onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(null===(t=Ve.current)||void 0===t||t.focus())},datePickerRef:Be,textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px",width:"150px"}}}}),(0,q.jsx)(s.Z,{disabled:Xt,label:"Explanation",size:"small",name:"explanation",value:me.explanation,onChange:Gt,onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),null===(t=qe.current)||void 0===t||t.focus())},InputProps:{style:{height:"27px",fontSize:"14px"},inputRef:Ve},sx:{flex:1,height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,q.jsx)(s.Z,{disabled:Xt,label:"Particulars",size:"small",name:"particulars",value:me.particulars,onChange:Gt,onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),null===(t=et.current)||void 0===t||t.focus())},InputProps:{inputRef:qe,style:{height:"27px",fontSize:"14px"}},sx:{flex:1,height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}})]}),(0,q.jsxs)("fieldset",{style:{border:"1px solid #cbd5e1",borderRadius:"5px",position:"relative",width:"100%",height:"auto",marginTop:"10px",padding:"15px"},children:[(0,q.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[Mt?(0,q.jsx)(S.Z,{loading:Mt}):(0,q.jsxs)(f.Z,{variant:"outlined",size:"small",disabled:Xt,sx:{width:"130px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,q.jsx)(p.Z,{htmlFor:"chart-account-id",children:"Code"}),(0,q.jsx)(h.Z,{sx:{height:"27px",fontSize:"14px"},readOnly:!0,disabled:Xt,fullWidth:!0,label:"Code",name:"code",inputRef:et,value:me.code,onChange:Gt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),Pt(me.code)},id:"chart-account-id",endAdornment:(0,q.jsx)(m.Z,{position:"end",children:(0,q.jsx)(x.Z,{ref:Oe,disabled:Xt,"aria-label":"search-client",color:"secondary",edge:"end",onClick:function(){Pt(me.code)},children:(0,q.jsx)(T.Z,{})})})})]}),(0,q.jsx)(s.Z,{disabled:Xt,label:"Account Name",size:"small",name:"acctName",value:me.acctName,onChange:Gt,onKeyDown:function(e){var t;("Enter"===e.code||"NumpadEnter"===e.code&&""!==me.acctName)&&(e.preventDefault(),null===(t=ot.current)||void 0===t||t.focus())},InputProps:{style:{height:"27px",fontSize:"14px"},inputRef:it},sx:{flex:1,".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,q.jsx)(s.Z,{disabled:Xt,label:"Sub Account",size:"small",name:"subAcctName",value:me.subAcctName,onChange:Gt,onKeyDown:function(e){var t;("Enter"===e.code||"NumpadEnter"===e.code&&""!==me.subAcctName)&&(e.preventDefault(),null===(t=Ye.current)||void 0===t||t.focus())},InputProps:{style:{height:"27px",fontSize:"14px"},inputRef:ot},sx:{width:"150px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),Bt?(0,q.jsx)(S.Z,{loading:Bt}):(0,q.jsxs)(f.Z,{variant:"outlined",size:"small",disabled:Xt,sx:{width:"300px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,q.jsx)(p.Z,{htmlFor:"policy-client-ref-id",children:"I.D"}),(0,q.jsx)(h.Z,{readOnly:!0,sx:{height:"27px",fontSize:"14px"},inputRef:Ye,disabled:Xt,fullWidth:!0,label:"I.D",name:"ClientName",value:me.ClientName,onChange:Gt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),we(!1),Kt(me.ClientName)},id:"policy-client-ref-id",endAdornment:(0,q.jsx)(m.Z,{position:"end",children:(0,q.jsx)(x.Z,{ref:Oe,disabled:Xt,"aria-label":"search-client",color:"secondary",edge:"end",onClick:function(){Kt(me.ClientName)},children:(0,q.jsx)(T.Z,{})})})})]}),(0,q.jsx)(s.Z,{disabled:Xt,label:"Debit",size:"small",name:"debit",value:me.debit,onChange:Gt,onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),null===(t=at.current)||void 0===t||t.focus())},onBlur:function(e){e.preventDefault();var t="0";isNaN(parseFloat(me.debit))||(t=me.debit),xe({type:"UPDATE_FIELD",field:"debit",value:parseFloat(t.toString().replace(/,/g,"")).toFixed(2)})},InputProps:{inputComponent:A.a,inputRef:He,style:{height:"27px",fontSize:"14px"}},sx:{width:"160px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,q.jsx)(s.Z,{disabled:Xt,label:"Credit",size:"small",name:"credit",value:me.credit,onChange:Gt,onKeyDown:function(e){var t,n;"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),"1.01.10"===me.code?null===(t=rt.current)||void 0===t||t.focus():null===(n=ct.current)||void 0===n||n.focus())},onFocus:function(e){e.preventDefault(),"1.01.10"===me.code&&xe({type:"UPDATE_FIELD",field:"credit",value:me.totalBalance})},onBlur:function(e){e.preventDefault();var t="0";isNaN(parseFloat(me.credit))||(t=me.credit),xe({type:"UPDATE_FIELD",field:"credit",value:parseFloat(t.toString().replace(/,/g,"")).toFixed(2)})},InputProps:{inputComponent:A.a,style:{height:"27px",fontSize:"14px"},inputRef:at},sx:{width:"160px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,q.jsx)(s.Z,{disabled:Xt||"1.01.10"!==me.code,label:"Check No",size:"small",name:"checkNo",value:me.checkNo,onChange:Gt,onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),null===(t=lt.current)||void 0===t||t.focus())},InputProps:{inputRef:rt,style:{height:"27px",fontSize:"14px"}},sx:{width:"160px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}})]}),(0,q.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:["1.01.10"===me.code?(0,q.jsx)(w.Z,{fullWidth:!1,disabled:Xt||"1.01.10"!==me.code,label:"Check Date",onChange:function(e){xe({type:"UPDATE_FIELD",field:"checkDate",value:e})},value:me.checkDate,onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(null===(t=ct.current)||void 0===t||t.focus())},datePickerRef:We,inputRef:lt,textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px",width:"150px"}}}}):(0,q.jsx)(s.Z,{disabled:Xt||"1.01.10"!==me.code,label:"Check Date",size:"small",name:"checkDate",InputProps:{style:{height:"27px",fontSize:"14px"}},sx:{width:"160px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),Yt?(0,q.jsx)(S.Z,{loading:Yt}):(0,q.jsxs)(f.Z,{variant:"outlined",size:"small",disabled:Xt,sx:{width:"130px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,q.jsx)(p.Z,{htmlFor:"tc",children:"TC"}),(0,q.jsx)(h.Z,{inputRef:ct,sx:{height:"27px",fontSize:"14px"},readOnly:!0,fullWidth:!0,label:"TC",name:"TC_Code",value:me.TC_Code,onChange:Gt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),qt(me.TC_Code)},id:"tc",endAdornment:(0,q.jsx)(m.Z,{position:"end",children:(0,q.jsx)(x.Z,{ref:Oe,disabled:Xt,"aria-label":"search-client",color:"secondary",edge:"end",onClick:function(){qt(me.TC_Code)},children:(0,q.jsx)(T.Z,{})})})})]}),(0,q.jsx)(s.Z,{disabled:Xt,label:"Remarks",size:"small",name:"remarks",value:me.remarks,onChange:Gt,onKeyDown:function(e){var t,n;"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),"1.01.10"===me.code?null===(t=Je.current)||void 0===t||t.focus():null===(n=Ge.current)||void 0===n||n.focus())},InputProps:{style:{height:"27px",fontSize:"14px"},inputRef:Qe},sx:{flex:1,".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),"1.01.10"!==me.code&&(0,q.jsx)(s.Z,{disabled:Xt,label:"Payto",size:"small",name:"Payto",value:me.Payto,onChange:Gt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),Ht()},InputProps:{readOnly:!0,inputRef:dt,style:{height:"27px",fontSize:"14px"}},sx:{width:"160px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),"1.01.10"===me.code&&(0,q.jsx)(q.Fragment,{children:Bt?(0,q.jsx)(S.Z,{loading:Bt}):(0,q.jsxs)(f.Z,{variant:"outlined",size:"small",disabled:Xt,sx:{width:"300px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,q.jsx)(p.Z,{htmlFor:"policy-client-Payto",children:"Payto"}),(0,q.jsx)(h.Z,{readOnly:!0,sx:{height:"27px",fontSize:"14px"},inputRef:Je,disabled:Xt,fullWidth:!0,label:"Payto",name:"Payto",value:me.Payto,onChange:Gt,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),we(!0),Kt(me.Payto)},id:"policy-client-Payto",endAdornment:(0,q.jsx)(m.Z,{position:"end",children:(0,q.jsx)(x.Z,{ref:Oe,disabled:Xt,color:"secondary",edge:"end",onClick:function(){Kt(me.Payto)},children:(0,q.jsx)(T.Z,{})})})})]})}),(0,q.jsxs)(f.Z,{size:"small",variant:"outlined",sx:{width:"120px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,q.jsx)(p.Z,{id:"label-selection-reason",children:"Vat Type"}),(0,q.jsxs)(g.Z,{labelId:"label-selection-reason",value:me.vatType,name:"vatType",onChange:Gt,autoWidth:!0,sx:{height:"27px",fontSize:"14px"},inputRef:Ge,disabled:Xt,children:[(0,q.jsx)(v.Z,{value:"VAT",onKeyDown:function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),(0,z.D)(300).then((function(){var e;null===(e=st.current)||void 0===e||e.focus()})))},children:"VAT"}),(0,q.jsx)(v.Z,{value:"NON-VAT",onKeyDown:function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),(0,z.D)(300).then((function(){var e;null===(e=st.current)||void 0===e||e.focus()})))},children:"NON-VAT"})]})]}),(0,q.jsx)(s.Z,{disabled:Xt,label:"OR/Invoice No.",size:"small",name:"invoice",value:me.invoice,onChange:Gt,onKeyDown:function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),Ht())},InputProps:{style:{height:"27px",fontSize:"14px"},inputRef:st},sx:{width:"200px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,q.jsx)(u.Z,{disabled:Xt,sx:{height:"27px",fontSize:"11px"},variant:"contained",startIcon:(0,q.jsx)(O.Z,{sx:{fontSize:"18px"}}),onClick:function(){Ht()},color:"primary",children:"Save Row"})]})]}),(0,q.jsx)(V.r,{isLoading:bt||It||Nt,ref:tt,rows:(Qt=_e,Qt.map((function(e){return e.debit=parseFloat(e.debit.toString().replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),e.credit=parseFloat(e.credit.toString().replace(/,/g,"")).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),e}))),column:G,width:$t,height:en,dataReadOnly:!0,onSelectionChange:function(e){var t=e[0];if(!(e.length>0)){var n={code:"",acctName:"",subAcct:"",subAcctName:"",IDNo:"",ClientName:"",credit:"",debit:"",TC_Code:"",TC_Desc:"",remarks:"",vatType:"NON-VAT",invoice:"",checkNo:"",checkDate:new Date};return Q(xe,(0,c.Z)((0,c.Z)({},me),n)),void Fe({edit:!1,updateId:""})}Q(xe,(0,c.Z)((0,c.Z)({},t),{},{checkDate:new Date(t.checkDate),sub_refNo:me.sub_refNo,refNo:me.refNo,dateEntry:me.dateEntry,explanation:me.explanation,particulars:me.particulars,totalDebit:me.totalDebit,totalCredit:me.totalCredit,totalBalance:me.totalBalance})),Fe({edit:!0,updateId:t.TempID})},onKeyDown:function(e,t){if("Delete"!==t&&"Backspace"!==t);else{var n=e[0];k().fire({title:"Are you sure you want to delete?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){if(e.isConfirmed)return Ue((function(e){return e.filter((function(e){return e.TempID!==n.TempID}))}))}))}},onRightClick:function(e,t){console.log(e),t.stopPropagation(),ae({x:t.pageX,y:t.pageY}),te(!0),de(e)},inputsearchselector:".manok"}),(0,q.jsx)(b.Z,{open:be,onClose:function(){return ye(!1)},children:(0,q.jsxs)(y.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:470,bgcolor:"background.paper",p:4},children:[(0,q.jsx)(x.Z,{style:{position:"absolute",top:"10px",right:"10px"},"aria-label":"search-client",onClick:function(){return ye(!1)},children:(0,q.jsx)(j.Z,{})}),(0,q.jsx)(D.Z,{id:"modal-modal-title",variant:"h6",component:"h2",sx:{marginBottom:"20px"},children:"Jobs"}),(0,q.jsxs)("div",{style:{width:"400px"},children:[(0,q.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"10px",justifyContent:"space-between",alignItems:"center"},children:[(0,q.jsx)(M._,{dateAdapter:R.H,children:(0,q.jsx)(_.M,{sx:{width:"200px",".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},slotProps:{textField:{size:"small",name:"",InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}}},label:"Transaction Date: ",views:["month","year"],value:me.jobTransactionDate,onChange:function(e){xe({type:"UPDATE_FIELD",field:"jobTransactionDate",value:e})}})}),(0,q.jsx)(N.Z,{sx:{height:"30px","& .MuiTypography-root":{fontSize:"14px"}},control:(0,q.jsx)(C.Z,{size:"small",checked:me.jobAutoExp,onChange:function(e){xe({type:"UPDATE_FIELD",field:"jobAutoExp",value:!me.jobAutoExp})}}),label:"Auto Explanation"})]}),(0,q.jsxs)(f.Z,{fullWidth:!0,size:"small",variant:"outlined",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,q.jsx)(p.Z,{id:"label-selection-job-type",children:"Type of Job"}),(0,q.jsxs)(g.Z,{labelId:"label-selection-job-type",value:me.jobType,name:"jobType",onChange:Gt,autoWidth:!0,sx:{height:"27px",fontSize:"14px"},children:[(0,q.jsx)(v.Z,{value:"",children:" "}),(0,q.jsx)(v.Z,{value:"0",children:"Reversal of Accrued Interest "}),(0,q.jsxs)(v.Z,{value:"1",children:[" ","Income Recognition & Accrual of Interest"]}),(0,q.jsx)(v.Z,{value:"2",children:"Penalty Charges"}),(0,q.jsx)(v.Z,{value:"3",children:"Penalty Income"}),(0,q.jsx)(v.Z,{value:"4",children:"RPT Transaction (NIL-HN)"}),(0,q.jsx)(v.Z,{value:"5",children:"RPT Transaction (AMIFIN)"}),(0,q.jsx)(v.Z,{value:"6",children:"RPT Income"}),(0,q.jsx)(v.Z,{value:"7",children:"Monthly Accrual Expenses"}),(0,q.jsx)(v.Z,{value:"8",children:"Monthly Accrual Income"}),(0,q.jsx)(v.Z,{value:"9",children:"Production (Milestone Guarantee)"}),(0,q.jsx)(v.Z,{value:"10",children:"Production (Liberty Insurance Co.)"}),(0,q.jsx)(v.Z,{value:"11",children:"Production (Federal Phoenix)"})]})]})]}),(0,q.jsxs)("div",{style:{display:"flex",columnGap:"30px",alignItems:"flex-end",marginTop:"20px"},children:[(0,q.jsx)(S.Z,{loading:Nt,color:"success",variant:"contained",onClick:function(){return Dt(me)},children:"Create Job"}),(0,q.jsx)(u.Z,{color:"error",variant:"contained",onClick:function(){return ye(!1)},children:"Cancel"})]})]})}),zt,Ut,Vt,Et,ee&&(0,q.jsxs)("div",{style:{position:"absolute",top:oe.y,left:oe.x,backgroundColor:"white",padding:"10px",border:"1px solid black",borderRadius:"4px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",zIndex:1e3,display:"flex",flexDirection:"column",rowGap:"5px"},children:[(0,q.jsx)(u.Z,{sx:{height:"22px",fontSize:"11px"},variant:"contained",onClick:function(){ce&&k().fire({title:"Are you sure you want to delete?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&(Ue((function(e){return e.filter((function(e){return e.TempID!==ce.TempID}))})),de(null))}))},children:"Delete Row"}),ce&&"1.01.10"===ce.code&&(0,q.jsx)(u.Z,{variant:"contained",sx:{height:"22px",fontSize:"11px"},onClick:function(){de(null),ce&&(localStorage.removeItem("printString"),localStorage.setItem("paper-width","8.27in"),localStorage.setItem("paper-height","11.69in"),localStorage.setItem("module","cash-disbursement-check"),localStorage.setItem("state",JSON.stringify(ce)),localStorage.setItem("dataString",JSON.stringify([])),localStorage.setItem("column",JSON.stringify([])),localStorage.setItem("title","")),window.open("/dashboard/print","_blank")},children:"Print"})]})]})}function Q(e,t){Object.entries(t).forEach((function(t){var n=(0,r.Z)(t,2),i=n[0],o=n[1];e({type:"UPDATE_FIELD",field:i,value:o})}))}},86753:function(e,t,n){var i=n(64836);t.Z=void 0;var o=i(n(45649)),a=n(80184),r=(0,o.default)((0,a.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8zm-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91z"}),"RestartAlt");t.Z=r},95643:function(e,t){t.Z={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"}}}]);
//# sourceMappingURL=1861.b4ce0074.chunk.js.map