"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[1622],{32038:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var o=n(1413),i=n(74165),a=n(15861),l=n(29439),r=n(72791),u=n(37209),s=n(11690),c=n(91933),d=n(3380),p=n(65413),f=n(21830),x=n.n(f),h=n(39709),v=n(79018),y=n(36151),m=n(29823),g=n(5519),b=n(80184),w=[{key:"ln",label:"#",width:40},{key:"CheckNo",label:"Check No",width:120},{key:"Bank",label:"Bank",width:200},{key:"Amount",label:"Amount",width:120},{key:"OldDepositDate",label:"Old Deposit Date",width:200},{key:"NewDate",label:"New Deposit Date",width:200},{key:"Penalty",label:"Penalty",width:120},{key:"Datediff",label:"Datediff",width:120},{key:"Reason",label:"Reason",width:200}];function k(){var e,t,n,f,m=(0,r.useContext)(d.V),k=m.myAxios,R=m.user,j=(0,r.useRef)(null),D=(0,r.useState)(!0),C=(0,l.Z)(D,2),z=C[0],Z=C[1],N=(0,r.useRef)(null),A=(0,r.useRef)(null),F=(0,r.useRef)(null),T=(0,r.useRef)(null),B=(0,r.useRef)(null),P=(0,r.useRef)(null),M=(0,r.useRef)(null),W=(0,r.useRef)(null),K=(0,r.useRef)(null),O=(0,r.useRef)(null),I=(0,r.useRef)(null),V=(0,r.useRef)(null),E=(0,r.useRef)(null),L=(0,c.useQuery)({queryKey:"saving",queryFn:function(t){return(e=e||(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/task/accounting/check-postponement/approve/load-rpcdno",{headers:{Authorization:"Bearer ".concat(null===R||void 0===R?void 0:R.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){if(!e.data.success)return alert(e.data.message);(0,v.D)(100).then((function(){F.current.setDataSource(e.data.data)}))}}),G=L.isLoading,q=L.refetch,H=(0,c.useMutation)({mutationKey:"load-details",mutationFn:function(e){return(t=t||(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/task/accounting/check-postponement/approve/load-details",t,{headers:{Authorization:"Bearer ".concat(null===R||void 0===R?void 0:R.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){if(!e.data.success)return alert(e.data.message);var t=e.data.data;(0,v.D)(100).then((function(){T.current&&(T.current.value=t[0].Branch),B.current&&(B.current.value=t[0].PNNO),P.current&&(P.current.value=t[0].Name),K.current&&(K.current.value=t[0].Surplus),O.current&&(O.current.value=t[0].Deducted_to),V.current&&(V.current.value=t[0].PaidVia),E.current&&(E.current.value=t[0].PaidInfo),I.current&&(I.current.value="0.00"),M.current&&(M.current.value="0.00"),W.current&&(W.current.value="0.00"),j.current.setDataFormated(t)}))}}),_=H.isLoading,J=H.mutate,Q=(0,c.useMutation)({mutationKey:"con-confirmation",mutationFn:function(e){return(n=n||(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/task/accounting/check-postponement/approve/con-confirmation",t,{headers:{Authorization:"Bearer ".concat(null===R||void 0===R?void 0:R.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){return e.data.success?((0,v.D)(100).then((function(){Z(!0),te(),ne(),j.current.resetTable(),N.current.closeDelay(),q()})),x().fire({position:"center",icon:"success",title:e.data.message,timer:1500})):alert(e.data.message)}}),U=Q.isLoading,X=Q.mutate,Y=(0,c.useMutation)({mutationKey:"confirmation",mutationFn:function(e){return(f=f||(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("/task/accounting/check-postponement/approve/confirmation",t,{headers:{Authorization:"Bearer ".concat(null===R||void 0===R?void 0:R.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){if(!e.data.success)return alert(e.data.message);if(window.confirm(e.data.message)){var t,n,i,a,l,r,u,s,c,d,p,f=j.current.getData();X((0,o.Z)((0,o.Z)({},e.data.data[0]),{},{RPCDNoRef:null===(t=A.current)||void 0===t?void 0:t.value,BranchRef:null===(n=T.current)||void 0===n?void 0:n.value,PNNoRef:null===(i=B.current)||void 0===i?void 0:i.value,NameRef:null===(a=P.current)||void 0===a?void 0:a.value,HoldingFeesRef:null===(l=M.current)||void 0===l?void 0:l.value,PenaltyChargeRef:null===(r=W.current)||void 0===r?void 0:r.value,SurplusRef:null===(u=K.current)||void 0===u?void 0:u.value,DeductedToRef:null===(s=O.current)||void 0===s?void 0:s.value,TotalRef:null===(c=I.current)||void 0===c?void 0:c.value,HowToBePaidRef:null===(d=V.current)||void 0===d?void 0:d.value,RemarksRef:null===(p=E.current)||void 0===p?void 0:p.value,data:JSON.stringify(f)}))}}}),$=Y.isLoading,ee=Y.mutate;function te(){A.current&&(A.current.value=""),B.current&&(B.current.value=""),P.current&&(P.current.value=""),T.current&&(T.current.value="")}function ne(){M.current&&(M.current.value=""),W.current&&(W.current.value=""),K.current&&(K.current.value=""),O.current&&(O.current.value=""),I.current&&(I.current.value=""),V.current&&(V.current.value=""),E.current&&(E.current.value="")}return(0,b.jsxs)("div",{style:{padding:"10px",background:"#F1F1F1",height:"100%"},children:[(_||$||U)&&(0,b.jsx)(p.g,{}),(0,b.jsx)(S,{ref:N,handleOnSave:function(e,t){ee({code:t,mode:e})},handleOnClose:function(){}}),(0,b.jsxs)("div",{style:{position:"relative",padding:"12px",border:"1px solid #d1d5db",marginBottom:"10px"},children:[(0,b.jsx)("span",{style:{fontSize:"12px",position:"absolute",top:"-10px",left:"20px",background:"#F1F1F1",padding:"0 5px"},children:"Account Informations"}),(0,b.jsxs)("div",{style:{display:"flex",columnGap:"50px"},children:[G?(0,b.jsx)(h.Z,{loading:G}):(0,b.jsx)(u.lq,{ref:F,label:{title:"RPCD no. :",style:{fontSize:"12px",fontWeight:"bold",width:"80px"}},selectRef:A,select:{style:{flex:1,height:"22px"},defaultValue:"",onChange:function(e){""!==e.target.value?(J({RPCDNo:e.target.value}),Z(!1)):(Z(!0),te(),ne(),j.current.resetTable())}},containerStyle:{width:"50%",marginBottom:"12px"},datasource:[],values:"RPCDNo",display:"RPCDNo"}),(0,b.jsx)(u.oi,{containerStyle:{width:"50%",marginBottom:"8px"},label:{title:"Branch :",style:{fontSize:"12px",fontWeight:"bold",width:"110px"}},input:{disabled:!0,type:"text",style:{width:"calc(100% - 100px)"},onKeyDown:function(e){"NumpadEnter"===e.code||e.code}},inputRef:T})]}),(0,b.jsxs)("div",{style:{display:"flex",columnGap:"50px"},children:[(0,b.jsx)(u.oi,{containerStyle:{width:"50%",marginBottom:"8px"},label:{title:"PN NO :",style:{fontSize:"12px",fontWeight:"bold",width:"80px"}},input:{disabled:!0,type:"text",style:{width:"calc(100% - 80px)"},onKeyDown:function(e){"NumpadEnter"===e.code||e.code}},inputRef:B}),(0,b.jsx)(u.oi,{containerStyle:{width:"50%",marginBottom:"8px"},label:{title:"Account Name :",style:{fontSize:"12px",fontWeight:"bold",width:"110px"}},input:{disabled:!0,type:"text",style:{width:"calc(100% - 100px)"},onKeyDown:function(e){"NumpadEnter"===e.code||e.code}},inputRef:P})]})]}),(0,b.jsx)(s.BW,{ref:j,columns:w,rows:[],containerStyle:{height:"180px"},getSelectedItem:function(e,t,n){if(e){if(window.confirm("Are you sure you want to delete?")){var o=j.current.getData();o.splice(n,1),j.current.setDataFormated(o)}j.current.setSelectedRow(null)}},onKeyDown:function(e,t,n){"Delete"===n.code||n.code}}),(0,b.jsxs)("div",{style:{position:"relative",padding:"12px",border:"1px solid #d1d5db",marginTop:"10px"},children:[(0,b.jsx)("span",{style:{fontSize:"12px",position:"absolute",top:"-10px",left:"20px",background:"#F1F1F1",padding:"0 5px"},children:"Fees and Charges"}),(0,b.jsxs)("div",{style:{display:"flex",columnGap:"50px"},children:[(0,b.jsxs)("div",{style:{flex:1,display:"flex",rowGap:"10px",flexDirection:"column"},children:[(0,b.jsx)(u.iA,{label:{title:"Holding Fees :",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},containerStyle:{width:"100%"},input:{defaultValue:"0.00",disabled:!0,type:"text",style:{width:"calc(100% - 100px)"},onKeyDown:function(e){"NumpadEnter"===e.code||e.code}},inputRef:M}),(0,b.jsx)(u.iA,{label:{title:"Penalty Charge :",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},containerStyle:{width:"100%"},input:{defaultValue:"0.00",disabled:!0,type:"text",style:{width:"calc(100% - 100px)"},onKeyDown:function(e){"NumpadEnter"===e.code||e.code}},inputRef:W}),(0,b.jsx)(u.iA,{label:{title:"Surplus:",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},containerStyle:{width:"100%"},input:{defaultValue:"0.00",disabled:!0,type:"text",style:{width:"calc(100% - 100px)"},onKeyDown:function(e){"NumpadEnter"===e.code||e.code}},inputRef:K}),(0,b.jsx)(u.lq,{label:{title:"Deducted to:",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},selectRef:O,select:{disabled:!0,style:{flex:1,height:"22px"},defaultValue:"Non-VAT"},containerStyle:{width:"100%",marginBottom:"12px"},datasource:[{key:"",value:""},{key:"Penalties",value:"Penalties"},{key:"Loan Amortization",value:"Loan Amortization"},{key:"Loan Amort.-Other Charges",value:"Loan Amort.-Other Charges"},{key:"Miscellaneous Income",value:"Miscellaneous Income"}],values:"value",display:"key"}),(0,b.jsx)(u.iA,{label:{title:"Total :",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},containerStyle:{width:"100%"},input:{defaultValue:"0.00",disabled:!0,type:"text",style:{width:"calc(100% - 100px)"},onKeyDown:function(e){"NumpadEnter"===e.code||e.code}},inputRef:I})]}),(0,b.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[(0,b.jsx)(u.lq,{label:{title:"How to be paid :",style:{fontSize:"12px",fontWeight:"bold",width:"120px"}},selectRef:V,select:{disabled:!0,style:{flex:1,height:"22px"},defaultValue:""},containerStyle:{width:"50%",marginBottom:"12px"},datasource:[{key:"",value:""},{key:"Over-The-Counter",value:"Over-The-Counter"},{key:"Direct Deposit",value:"Direct Deposit"}],values:"value",display:"key"}),(0,b.jsx)("label",{htmlFor:"remarks",style:{fontSize:"12px",fontWeight:"bold"},children:"Name of Bank && Branch / Date && Time of deposit :"}),(0,b.jsx)(u.Fz,{label:{title:"",style:{display:"none"}},textarea:{disabled:!0,rows:4,style:{flex:1},id:"remarks",defaultValue:"",onChange:function(e){}},_inputRef:E})]})]})]}),(0,b.jsx)("div",{style:{marginTop:"10px",flex:1,display:"flex",justifyContent:"flex-end",alignItems:"center"},children:(0,b.jsxs)("div",{style:{border:"1px solid #cbd5e1",display:"flex",alignItems:"center",justifyContent:"center",padding:"5px",columnGap:"10px"},children:[(0,b.jsx)(y.Z,{disabled:z,sx:{height:"22px",fontSize:"11px"},variant:"contained",onClick:function(){N.current.showModal(),N.current.setMode("Approve")},color:"success",children:"Approve"}),(0,b.jsx)(y.Z,{disabled:z,sx:{height:"22px",fontSize:"11px"},variant:"contained",onClick:function(){N.current.showModal(),N.current.setMode("Disapprove")},color:"error",children:"Disapprove"}),(0,b.jsx)(y.Z,{sx:{height:"22px",fontSize:"11px",backgroundColor:g.Z[700],"&:hover":{backgroundColor:g.Z[800]}},variant:"contained",onClick:function(){Z(!0),te(),ne(),j.current.resetTable()},children:"Clear"})]})})]})}var S=(0,r.forwardRef)((function(e,t){var n=e.handleOnSave,o=e.handleOnClose,i=(e.getSelectedItem,(0,r.useContext)(d.V)),a=(i.user,i.myAxios,(0,r.useState)(!1)),s=(0,l.Z)(a,2),c=s[0],p=s[1],f=(0,r.useState)(""),x=(0,l.Z)(f,2),h=x[0],v=x[1],g=(0,r.useState)(!1),w=(0,l.Z)(g,2),k=w[0],S=w[1],R=(0,r.useState)(!1),j=(0,l.Z)(R,2),D=j[0],C=j[1],z=(0,r.useRef)(null),Z=function(){S(!0),setTimeout((function(){p(!1),S(!1),o()}),100)};return(0,r.useImperativeHandle)(t,(function(){return{showModal:function(){p(!0)},setMode:function(e){v(e)},clsoeModal:function(){p(!1)},getRefs:function(){},mutate:function(){},closeDelay:Z,mode:h}})),c?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0,background:"transparent",zIndex:"88"},onClick:function(){C(!0),setTimeout((function(){C(!1)}),250)}}),!1,(0,b.jsxs)("div",{style:{height:D?"103px":"100px",width:D?"403px":"400px",border:"1px solid #64748b",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -75%)",display:"flex",flexDirection:"column",zIndex:k?-100:100,opacity:k?0:1,transition:"all 150ms",boxShadow:"3px 6px 32px -7px rgba(0,0,0,0.75)"},children:[(0,b.jsxs)("div",{style:{height:"22px",background:"white",display:"flex",justifyContent:"space-between",padding:"5px",position:"relative",alignItems:"center"},children:[(0,b.jsx)("span",{style:{fontSize:"13px",fontWeight:"bold"},children:"Enter Authentication Code:"}),(0,b.jsx)("button",{className:"btn-check-exit-modal",style:{padding:"0 5px",borderRadius:"0px",background:"white",color:"black",height:"22px",position:"absolute",top:0,right:0},onClick:function(){Z()},children:(0,b.jsx)(m.Z,{sx:{fontSize:"22px"}})})]}),(0,b.jsx)("div",{style:{flex:1,background:"#F1F1F1",padding:"5px",display:"flex"},children:(0,b.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",rowGap:"5px",padding:"5px"},children:(0,b.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[(0,b.jsx)(u.oi,{containerStyle:{width:"100%"},label:{title:"Authentication Code:",style:{fontSize:"12px",fontWeight:"bold",width:"140px",display:"none"}},input:{autoFocus:!0,type:"text",style:{width:"100%"},onKeyDown:function(e){"NumpadEnter"!==e.code&&"Enter"!==e.code||n(h,e.currentTarget.value)}},inputRef:z}),(0,b.jsxs)(y.Z,{sx:{height:"22px",fontSize:"11px",marginTop:"10px"},variant:"contained",onClick:function(){var e;return n(h,null===(e=z.current)||void 0===e?void 0:e.value)},color:"Approve"===h?"success":"error",children:["Confirm ",h]})]})})}),(0,b.jsx)("style",{children:"\n              .btn-check-exit-modal:hover{\n                background:red !important;\n                color:white !important;\n              }\n            "})]})]}):null}))},29823:function(e,t,n){var o=n(64836);t.Z=void 0;var i=o(n(45649)),a=n(80184),l=(0,i.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=l},5403:function(e,t,n){var o=n(64836);t.Z=void 0;var i=o(n(45649)),a=n(80184),l=(0,i.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=l}}]);
//# sourceMappingURL=1622.3f4c41c6.chunk.js.map