"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[6884],{13784:function(t,e,n){n.d(e,{Z:function(){return c}});var i=n(1413),l=n(45987),r=n(71652),o=n(48193),a=n(93777),d=n(80184),s=["label","name","onChange","value","onKeyDown","inputRef","datePickerRef","fullWidth","textField","minWidth"];function c(t){var e=t.label,n=t.name,c=t.onChange,h=t.value,x=t.onKeyDown,p=t.inputRef,u=t.datePickerRef,g=t.fullWidth,f=t.textField,m=t.minWidth,y=void 0===m?"200px":m,j=(0,l.Z)(t,s);return(0,d.jsx)(r._,{dateAdapter:o.H,children:(0,d.jsx)(a.M,(0,i.Z)({floatingLabelStyle:{color:"black"},value:h,onChange:c,ref:u,slotProps:{textField:(0,i.Z)({size:"small",label:e,name:n,onKeyDown:x,inputRef:p,fullWidth:g},f)},InputLabelProps:{sx:{color:"black"}},sx:{minWidth:y,fieldset:{borderColor:"black"},".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}},j))})}},23508:function(t,e,n){n.d(e,{bq:function(){return a}});var i,l=n(74165),r=n(15861);function o(t){var e=t.data,n=t.column,i=t.beforeArrangeData,l=t.adjustMaxHeight,r=t.fontSize,o=void 0===r?"11px":r,a=t.summaryHeight,d=void 0===a?0:a,s=[],c=0,h=[],x=document.querySelector(".content").getBoundingClientRect().height-l;return e.forEach((function(t,l){t=i(t);var r=document.querySelector(".content"),a=document.createElement("table"),p=a.insertRow();t.summaryReport&&x-c<=d+20&&(c+=x-c),n.forEach((function(e){var n=p.insertCell();a.style.visibility="hidden",a.style.width="100%",a.style.fontSize=o,function(t,e,n,i,l){t.style.width=n,t.textContent=e,i.appendChild(l)}(n,t[e.datakey],e.width,r,a)})),c+=p.getBoundingClientRect().height,r.removeChild(a),h.push(t),(c>=x||l===e.length-1&&c<x)&&(s.push(h),c=0,h=[])})),s}var a=function(t){return(i=i||(0,r.Z)((0,l.Z)().mark((function t(e){var n,i,r,a,d,s,c,h;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.data,i=e.column,r=e.beforeArrangeData,a=e.adjustMaxHeight,d=e.cb,s=e.fontSize,c=void 0===s?"11px":s,h=e.summaryHeight,void 0!==n){t.next=3;break}return t.abrupt("return",[]);case 3:if(!d){t.next=5;break}return t.abrupt("return",d({data:n,column:i,beforeArrangeData:r,adjustMaxHeight:a}));case 5:return t.abrupt("return",o({data:n,column:i,beforeArrangeData:r,adjustMaxHeight:a,fontSize:c,summaryHeight:h}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},35487:function(t,e,n){n.r(e),n.d(e,{default:function(){return W},reducer:function(){return k}});var i=n(74165),l=n(15861),r=n(4942),o=n(1413),a=n(72791),d=n(27391),s=n(64554),c=n(68096),h=n(94925),x=n(58406),p=n(23786),u=n(91933),g=n(3380),f=n(13784),m=n(39709),y=n(48193),j=n(71652),b=n(93777),S=n(71012),A=n(23508),v=n(58340),z=n(16386),D=n(80184),C={format:"Default",dateFormat:"Monthly",date:new Date,sub_acct:"All",title:""},k=function(t,e){return"UPDATE_FIELD"===e.type?(0,o.Z)((0,o.Z)({},t),{},(0,r.Z)({},e.field,e.value)):t},T=[{groupId:"",datakey:"Acct_Code",header:"ACCT.",width:"100px"},{groupId:"",datakey:"Acct_Title",header:"ACCOUNT NAME",width:"180px"},{groupId:"",datakey:"subAcct",header:"SUB-ACCOUNT",width:"150px"},{groupId:"",datakey:"IDNo",header:"ID NO.",width:"140px"},{groupId:"",datakey:"Name",header:"ID NAME",width:"180px"},{groupId:"",datakey:"Debit",header:"DEBIT",type:"number",width:"100px"},{groupId:"",datakey:"Credit",header:"CREDIT",type:"number",width:"100px"},{groupId:"",datakey:"TC",header:"",width:"70px"}];function E(t,e){return"".concat("UMIS"===e?"UPWARD MANAGEMENT INSURANCE SERVICES":"UPWARD CONSULTANCY SERVICES AND MANAGEMENT INC.","\n").concat(t.dateFormat," General Journal Book - GJB\n").concat(function(t){var e="";"Daily"===t.dateFormat?e=t.date.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Monthly"===t.dateFormat&&(e=t.date.toLocaleDateString("en-US",{year:"numeric",month:"long"}));return e.toString()}(t))}function F(t){var e,n=t.state,o=t.dispatch,S=(0,a.useRef)(null),A=(0,a.useContext)(g.V),v=A.myAxios,z=A.user,C=(0,u.useQuery)({queryKey:"sub-accounts",queryFn:function(){return(e=e||(0,l.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.get("/reports/accounting/get-sub-account-acronym",{headers:{Authorization:"Bearer ".concat(null===z||void 0===z?void 0:z.accessToken)}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}),k=C.data,T=C.isLoading,F=function(t){var e=t.target,n=e.name,i=e.value;o({type:"UPDATE_FIELD",field:n,value:i})};return(0,D.jsxs)("div",{style:{padding:"10px"},children:[(0,D.jsx)(d.Z,{label:"Title",fullWidth:!0,name:"title",value:n.title,onChange:F,rows:6,multiline:!0,InputProps:{style:{height:"140px",fontSize:"12px"}},sx:{flex:1,".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,D.jsxs)(s.Z,{sx:function(t){return(0,r.Z)({height:"100%",display:"grid",gridTemplateColumns:"repeat(1,1fr)",gap:"10px",margin:"10px 0"},t.breakpoints.down("sm"),{gridTemplateColumns:"repeat(1,1fr)"})},children:[(0,D.jsxs)(c.Z,{fullWidth:!0,variant:"outlined",size:"small",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,D.jsx)(h.Z,{id:"format",children:"Format"}),(0,D.jsxs)(x.Z,{labelId:"format",value:n.format,label:"Report",name:"format",onChange:F,sx:{height:"27px",fontSize:"14px"},children:[(0,D.jsx)(p.Z,{value:"Default",children:"Default"}),(0,D.jsx)(p.Z,{value:"Summary",children:"Summary"})]})]}),(0,D.jsxs)(c.Z,{fullWidth:!0,variant:"outlined",size:"small",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,D.jsx)(h.Z,{id:"date_format",children:"Report"}),(0,D.jsxs)(x.Z,{labelId:"date_format",value:n.dateFormat,label:"Report",name:"dateFormat",onChange:function(t){F(t),n.dateFormat=t.target.value,o({type:"UPDATE_FIELD",field:"title",value:E(n,null===z||void 0===z?void 0:z.department)})},sx:{height:"27px",fontSize:"14px"},children:[(0,D.jsx)(p.Z,{value:"Daily",children:"Daily"}),(0,D.jsx)(p.Z,{value:"Monthly",children:"Monthly"})]})]}),T?(0,D.jsx)(m.Z,{loading:T}):(0,D.jsxs)(c.Z,{fullWidth:!0,variant:"outlined",size:"small",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,D.jsx)(h.Z,{id:"sub_account_id",children:"Sub Account"}),(0,D.jsxs)(x.Z,{labelId:"sub_account_id",value:n.sub_acct,label:"Sub Account",name:"sub_acct",onChange:F,sx:{height:"27px",fontSize:"14px"},children:[(0,D.jsx)(p.Z,{value:"All",children:"All"}),null===k||void 0===k?void 0:k.data.sub_account.map((function(t,e){return(0,D.jsx)(p.Z,{value:t.Acronym,children:t.Acronym},e)}))]})]}),"Monthly"===n.dateFormat&&(0,D.jsx)(j._,{dateAdapter:y.H,children:(0,D.jsx)(b.M,{sx:{width:"100%",".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},slotProps:{textField:{size:"small",name:"",InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}}},label:"Date",views:["month","year"],value:n.date,onChange:function(t){o({type:"UPDATE_FIELD",field:"date",value:t}),n.date=t,o({type:"UPDATE_FIELD",field:"title",value:E(n,null===z||void 0===z?void 0:z.department)})}})}),"Daily"===n.dateFormat&&(0,D.jsx)(f.Z,{fullWidth:!0,label:"Date From",onChange:function(t){o({type:"UPDATE_FIELD",field:"date",value:t}),n.date=t,o({type:"UPDATE_FIELD",field:"title",value:E(n,null===z||void 0===z?void 0:z.department)})},value:new Date(n.date),onKeyDown:function(t){if("Enter"===t.code||"NumpadEnter"===t.code)var e=setTimeout((function(){var t,n;null===(t=S.current)||void 0===t||null===(n=t.querySelector("button"))||void 0===n||n.click(),clearTimeout(e)}),150)},datePickerRef:S,textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}}})]})]})}function W(){var t,e=(0,a.useContext)(g.V),n=e.user,r=e.myAxios;return C.title=E(C,null===n||void 0===n?void 0:n.department),(0,D.jsx)(S.ZP,{column:T,initialState:C,Setting:function(t,e){return(0,D.jsx)(F,{state:t,dispatch:e})},onReportSubmit:function(e,o,d){return(t=t||(0,l.Z)((0,i.Z)().mark((function t(e,l,o){var d,s,c,h,x,p;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.post("/reports/accounting/general-journal-book-gjb",o,{headers:{Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.accessToken)}});case 2:return d=t.sent,t.next=5,d.data;case 5:s=t.sent,c=function(){return(0,D.jsx)("table",{children:(0,D.jsx)("tbody",{children:s.summary.map((function(t,e){return t.summary?(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)("tr",{style:{height:"20px"}}),(0,D.jsx)("tr",{children:(0,D.jsx)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"bold",textAlign:"right"},children:t.Acct_Title})})]},e):t.summaryHeader?(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)("tr",{style:{height:"50px"}}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{colSpan:2}),(0,D.jsx)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},children:"ACCOUNT TITLE"}),(0,D.jsx)("td",{style:{fontSize:"11px",fontWeight:"bold"},children:"DEBIT"}),(0,D.jsx)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"bold"},children:"CREDIT"})]}),(0,D.jsx)("tr",{style:{height:"10px"}})]},e):t.summaryData?(0,D.jsx)(a.Fragment,{children:(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{colSpan:2}),(0,D.jsxs)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"bold",textAlign:"left"},children:[t.Acct_Code,"\xa0\xa0\xa0\xa0\xa0",t.Acct_Title]}),(0,D.jsx)("td",{style:{fontSize:"11px",fontWeight:"bold",textAlign:"right",paddingRight:"100px"},children:t.Debit}),(0,D.jsx)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"bold",textAlign:"right",paddingRight:"120px"},children:t.Credit})]})},e):t.summaryFooter?(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)("tr",{style:{height:"10px"}}),(0,D.jsxs)("tr",{style:{height:"5px"},children:[(0,D.jsx)("td",{colSpan:2}),(0,D.jsx)("td",{colSpan:2}),(0,D.jsx)("td",{style:{borderTop:"1px solid black"}}),(0,D.jsx)("td",{style:{borderTop:"1px solid black"}})]}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{colSpan:2}),(0,D.jsx)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"bold",textAlign:"right",paddingRight:"20px"},children:t.Acct_Title}),(0,D.jsx)("td",{style:{fontSize:"11px",fontWeight:"bold",textAlign:"right",paddingRight:"100px"},children:t.Debit}),(0,D.jsx)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"bold",textAlign:"right",paddingRight:"120px"},children:t.Credit})]}),(0,D.jsxs)("tr",{style:{height:"5px"},children:[(0,D.jsx)("td",{colSpan:2}),(0,D.jsx)("td",{colSpan:2}),(0,D.jsx)("td",{style:{borderBottom:"2px solid black"}}),(0,D.jsx)("td",{style:{borderBottom:"2px solid black"}})]})]},e):(0,D.jsx)(D.Fragment,{})}))})})},h=v.renderToString((0,D.jsx)(c,{})),(x=document.createElement("div")).innerHTML=h,document.body.appendChild(x),p=x.getBoundingClientRect().height,document.body.removeChild(x),(0,A.bq)({data:s.report,column:T,beforeArrangeData:function(t){return t},adjustMaxHeight:600,summaryHeight:p}).then((function(t){e(t),l(!1)}));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)},scaleDefaultValue:100,drawTable:function(t,e){return t.map((function(n,i){return(0,D.jsxs)("div",{className:"page out-page",children:[(0,D.jsx)("div",{className:"header",style:{height:"50px"}}),(0,D.jsx)("div",{className:"content",children:(0,D.jsxs)("table",{children:[(0,D.jsxs)("thead",{children:[e.title.split("\n").map((function(t,e){return(0,D.jsx)("tr",{children:(0,D.jsx)("th",{style:{fontSize:"14px",fontWeight:"bold",textAlign:"left"},colSpan:T.length,children:t})},e)})),(0,D.jsx)("tr",{style:{height:"40px"}}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("th",{style:{fontSize:"12px",fontWeight:"bold",textAlign:"left"},children:"DATE"}),(0,D.jsx)("th",{style:{fontSize:"12px",fontWeight:"bold",textAlign:"left"},children:"REFERENCE #"}),(0,D.jsx)("th",{style:{fontSize:"12px",fontWeight:"bold",textAlign:"left"},colSpan:6,children:"EXPLANATION"})]}),(0,D.jsx)("tr",{children:T.map((function(e,n){return(0,D.jsx)("th",{onDoubleClick:function(n){return(0,S.PE)(n,e.datakey,t)},style:{width:e.width,fontSize:"12px",fontWeight:"bold",textAlign:"left"},children:e.header},n)}))}),(0,D.jsx)("tr",{style:{height:"10px"}})]}),(0,D.jsx)("tbody",{children:n.map((function(t,e){return"1"===t.nHeader?(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)("tr",{style:{height:"5px"}}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{style:{fontSize:"10.5px",fontWeight:"bold"},children:t.nDate_Entry}),(0,D.jsxs)("td",{style:{fontSize:"11px",fontWeight:"bold"},children:[t.nSource_Type,"\xa0\xa0\xa0\xa0\xa0",t.nSource_No]}),(0,D.jsx)("td",{style:{fontSize:"11px",fontWeight:"bold"},colSpan:6,children:t.Explanation})]}),(0,D.jsx)("tr",{children:T.map((function(n,l){return(0,D.jsx)("td",{onClick:S.mp,className:"editable not-looking page-".concat(i,"  row-").concat(e,"_col-").concat(l),style:{fontSize:"11px",fontWeight:"500",width:"".concat(n.width," !important"),textAlign:"number"===n.type?"right":"left"},children:t[n.datakey]},l)}))},e)]},e):t.mainTotal?(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)("tr",{style:{height:"10px"}}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{style:{fontSize:"11px",fontWeight:"bold",textAlign:"right"},colSpan:5,children:t.Name}),(0,D.jsx)("td",{style:{fontSize:"11px",fontWeight:"bold",textAlign:"right"},children:t.Debit}),(0,D.jsx)("td",{style:{fontSize:"11px",fontWeight:"bold",textAlign:"right"},children:t.Credit})]}),(0,D.jsxs)("tr",{style:{height:"5px"},children:[(0,D.jsx)("td",{colSpan:5}),(0,D.jsx)("td",{style:{borderBottom:"2px solid black"}}),(0,D.jsx)("td",{style:{borderBottom:"2px solid black"}})]})]},e):t.summary?(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)("tr",{style:{height:"20px"}}),(0,D.jsx)("tr",{children:(0,D.jsx)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"bold",textAlign:"right"},children:t.Acct_Title})})]},e):t.summaryHeader?(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)("tr",{style:{height:"50px"}}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{colSpan:2}),(0,D.jsx)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},children:"ACCOUNT TITLE"}),(0,D.jsx)("td",{style:{fontSize:"11px",fontWeight:"bold"},children:"DEBIT"}),(0,D.jsx)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"bold"},children:"CREDIT"})]}),(0,D.jsx)("tr",{style:{height:"10px"}})]},e):t.summaryData?(0,D.jsx)(a.Fragment,{children:(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{colSpan:2}),(0,D.jsxs)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"bold",textAlign:"left"},children:[t.Acct_Code,"\xa0\xa0\xa0\xa0\xa0",t.Acct_Title]}),(0,D.jsx)("td",{style:{fontSize:"11px",fontWeight:"bold",textAlign:"right",paddingRight:"100px"},children:t.Debit}),(0,D.jsx)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"bold",textAlign:"right",paddingRight:"120px"},children:t.Credit})]})},e):t.summaryFooter?(0,D.jsxs)(a.Fragment,{children:[(0,D.jsx)("tr",{style:{height:"10px"}}),(0,D.jsxs)("tr",{style:{height:"5px"},children:[(0,D.jsx)("td",{colSpan:2}),(0,D.jsx)("td",{colSpan:2}),(0,D.jsx)("td",{style:{borderTop:"1px solid black"}}),(0,D.jsx)("td",{style:{borderTop:"1px solid black"}})]}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{colSpan:2}),(0,D.jsx)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"bold",textAlign:"right",paddingRight:"20px"},children:t.Acct_Title}),(0,D.jsx)("td",{style:{fontSize:"11px",fontWeight:"bold",textAlign:"right",paddingRight:"100px"},children:t.Debit}),(0,D.jsx)("td",{colSpan:2,style:{fontSize:"11px",fontWeight:"bold",textAlign:"right",paddingRight:"120px"},children:t.Credit})]}),(0,D.jsxs)("tr",{style:{height:"5px"},children:[(0,D.jsx)("td",{colSpan:2}),(0,D.jsx)("td",{colSpan:2}),(0,D.jsx)("td",{style:{borderBottom:"2px solid black"}}),(0,D.jsx)("td",{style:{borderBottom:"2px solid black"}})]})]},e):(0,D.jsx)("tr",{children:T.map((function(n,l){return(0,D.jsx)("td",{onClick:S.mp,className:"editable not-looking page-".concat(i,"  row-").concat(e,"_col-").concat(l),style:{fontSize:"11px",fontWeight:"500",width:"".concat(n.width," !important"),textAlign:"number"===n.type?"right":"left"},children:t[n.datakey]},l)}))},e)}))})]})}),(0,D.jsxs)("div",{className:"footer",style:{height:"50px",display:"flex",justifyContent:"space-between"},children:[(0,D.jsx)("p",{style:{fontSize:"10px",fontWeight:"bold"},children:(0,z.Z)(new Date,"dd/MM/yyyy")}),(0,D.jsxs)("p",{style:{fontSize:"10px",fontWeight:"bold"},children:["Page ",i+1," of ",t.length]})]})]},i)}))},pageHeight:"13in",pageWidth:"8.5in"})}},45987:function(t,e,n){n.d(e,{Z:function(){return l}});var i=n(63366);function l(t,e){if(null==t)return{};var n,l,r=(0,i.Z)(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(l=0;l<o.length;l++)n=o[l],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}}}]);
//# sourceMappingURL=6884.ca0b54de.chunk.js.map