"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[7303,6086],{13784:function(e,n,t){t.d(n,{Z:function(){return d}});var o=t(1413),i=t(45987),r=t(71652),a=t(93862),l=t(93777),s=t(80184),c=["label","name","onChange","value","onKeyDown","inputRef","datePickerRef","fullWidth","textField","minWidth"];function d(e){var n=e.label,t=e.name,d=e.onChange,u=e.value,p=e.onKeyDown,f=e.inputRef,x=e.datePickerRef,h=e.fullWidth,m=e.textField,v=e.minWidth,g=void 0===v?"200px":v,y=(0,i.Z)(e,c);return(0,s.jsx)(r._,{dateAdapter:a.H,children:(0,s.jsx)(l.M,(0,o.Z)({floatingLabelStyle:{color:"black"},value:u,onChange:d,ref:x,slotProps:{textField:(0,o.Z)({size:"small",label:n,name:t,onKeyDown:p,inputRef:f,fullWidth:h},m)},InputLabelProps:{sx:{color:"black"}},sx:{minWidth:g,fieldset:{borderColor:"black"},".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}},y))})}},81582:function(e,n,t){t.d(n,{XT:function(){return h},ZP:function(){return x},rO:function(){return m}});t(72791);var o=t(88447),i=t(64554),r=t(20890),a=t(27391),l=t(63466),s=t(13400),c=t(29823),d=t(89767),u=t(5403),p=t(80184),f={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",bgcolor:"background.paper",boxShadow:24,p:4,heigth:"auto"};function x(e){var n=e.height,t=e.isLoading,x=(e.queryKey,e.columns),v=e.onSelectionChange,g=(e.setRows,e.rows),y=e.id,b=e.onCloseModal,w=e.showModal,C=e.onClickCloseIcon,S=e.searchOnChange,Z=e.title,D=void 0===Z?"":Z,k=e.searchRef,P=(e.onCellKeyDown,e.onSearchKeyEnter),j=void 0===P?function(){}:P,M=e.isRowSelectable,F=e.getCellClassName,z=h();return(0,p.jsx)(o.Z,{open:w,onClose:b,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,p.jsxs)(i.Z,{sx:f,children:[(0,p.jsx)(r.Z,{id:"modal-modal-title",variant:"h6",component:"h2",mb:2,children:D}),(0,p.jsx)(a.Z,{size:"small",label:"Search",fullWidth:!0,onChange:S,InputProps:{inputRef:k,style:{height:"27px",fontSize:"14px"},endAdornment:(0,p.jsx)(l.Z,{position:"end",children:(0,p.jsx)(s.Z,{onClick:function(){var e;j(null===k||void 0===k||null===(e=k.current)||void 0===e?void 0:e.value)},edge:"end",children:(0,p.jsx)(u.Z,{})})})},type:"search",onKeyDown:function(e){var n;"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),j(null===k||void 0===k||null===(n=k.current)||void 0===n?void 0:n.value));m(e,z,null===k||void 0===k?void 0:k.current)},sx:{marginBottom:"10px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,p.jsx)("div",{className:"".concat(z," main-table-selection-container"),style:{position:"relative",height:"".concat(n+20,"px")},children:(0,p.jsx)(d.Z,{isSingleSelection:!0,isRowFreeze:!1,columns:x,isLoading:t,dataSelection:function(e,n,t){v(e,n)},table_id:y,rows:g,isRowSelectable:M,getCellClassName:F})}),(0,p.jsx)("div",{style:{position:"absolute",top:"10px",right:"10px"},children:(0,p.jsx)(s.Z,{"aria-label":"search-client",color:"secondary",onClick:C,children:(0,p.jsx)(c.Z,{})})})]})})}function h(){return"main-"+Math.floor(1e4*Math.random())}function m(e,n,t){var o=n;if("ArrowDown"===e.code){var i,r=document.querySelectorAll(".".concat(o," .MuiDataGrid-row"));e.preventDefault(),null===(i=r[0])||void 0===i||i.classList.add("hover-keyboard"),function(e,n){var t=document.querySelector(".".concat(e," .MuiDataGrid-row")),o=null===t||void 0===t?void 0:t.querySelector("input");null===o||void 0===o||o.focus();var i=new MouseEvent("mouseenter",{bubbles:!0,cancelable:!0,view:window});null===t||void 0===t||t.dispatchEvent(i),null===o||void 0===o||o.addEventListener("keydown",(function(e){"ArrowUp"===e.key&&(e.preventDefault(),n.focus()),"ArrowUp"===e.key&&(null===t||void 0===t||t.classList.remove("hover-keyboard"))}))}(n,t),r.forEach((function(e,n){e.addEventListener("keydown",(function(e){if("ArrowUp"===e.key){var t,o;if(n<=0)return;return e.preventDefault(),null===(t=r[n])||void 0===t||t.classList.remove("hover-keyboard"),void(null===(o=r[n-1])||void 0===o||o.classList.add("hover-keyboard"))}if("ArrowDown"===e.key){var i,a;if(e.preventDefault(),n>=r.length-1)return;null===(i=r[n])||void 0===i||i.classList.remove("hover-keyboard"),null===(a=r[n+1])||void 0===a||a.classList.add("hover-keyboard")}}))}))}}},56580:function(e,n,t){t.d(n,{a:function(){return c}});var o=t(1413),i=t(45987),r=t(72791),a=t(30948),l=t(80184),s=["onChange"],c=r.forwardRef((function(e,n){var t=e.onChange,r=(0,i.Z)(e,s);return(0,l.jsx)(a.h3,(0,o.Z)((0,o.Z)({},r),{},{getInputRef:n,onValueChange:function(n){t({target:{name:e.name,value:n.value}})},allowNegative:!1,thousandSeparator:!0,valueIsNumericString:!0}))}))},89767:function(e,n,t){var o=t(93433),i=t(1413),r=t(29439),a=t(72791),l=t(57482),s=t(64554),c=t(56214),d=t(29961),u=t(54277),p=t(70169),f=t(6484),x=t(16088),h=t(80184),m=(0,a.createContext)({rows:[],rowSelectionModel:[],footerChildren:function(){return(0,h.jsx)("div",{})},footerPaginationPosition:"right-left",showFooterSelectedCount:!0}),v=(0,a.forwardRef)((function(e,n){var t=e.isLoading,s=e.columns,d=e.rows,u=e.table_id,p=e.isSingleSelection,f=e.isRowFreeze,x=e.dataSelection,v=e.CustomFooterComponent,g=void 0===v?b:v,y=e.isRowSelectable,w=e.getCellClassName,C=e.checkboxSelection,S=void 0===C||C,Z=e.footerChildren,D=void 0===Z?function(e,n){return(0,h.jsx)("div",{})}:Z,k=e.footerPaginationPosition,P=void 0===k?"right-left":k,j=e.showFooterSelectedCount,M=void 0===j||j,F=(0,a.useState)([]),z=(0,r.Z)(F,2),I=z[0],A=z[1];function _(e,n,t){x&&x(e,n,t)}(0,a.useImperativeHandle)(n,(function(){return{removeSelection:function(){A([])},getSelectedRows:function(){return d.filter((function(e){return null===I||void 0===I?void 0:I.includes(e[u])}))},setSelectedRows:function(e){A(e)}}}));var L=[];return(0,h.jsx)(m.Provider,{value:{showFooterSelectedCount:M,footerPaginationPosition:P,rowSelectionModel:I,rows:d,footerChildren:D},children:(0,h.jsx)(c._$,{slots:{loadingOverlay:l.Z,footer:g},initialState:{pagination:{paginationModel:{pageSize:35}}},loading:t,getRowId:function(e){return e[u]},columns:s.filter((function(e){return!e.hide})),rows:d,showCellVerticalBorder:!0,showColumnVerticalBorder:!0,checkboxSelection:S,rowSelectionModel:I,rowHeight:25,columnHeaderHeight:35,pageSizeOptions:[10,20,35,50,75,100],sx:(0,i.Z)((0,i.Z)({"& .cash":{color:"#ec4899"},"& .check":{color:"#0891b2"},"& .approved":{color:"green"},"& .pending":{color:"orange"},"& .disapproved":{color:"red"},"& .normal":{color:"red"},"& .MuiDataGrid-row.Mui-selected:hover":{color:"black","& .MuiSvgIcon-root ":{fill:"#3b82f6"}},"& .hover-keyboard":{background:"#2563eb",color:"white","& .MuiSvgIcon-root ":{fill:"white"}},"& .MuiDataGrid-row:hover":{background:"#2563eb",color:"white","& .MuiSvgIcon-root ":{fill:"white"}},"& .MuiDataGrid-row.hover":{background:"#2563eb",color:"white","& .MuiSvgIcon-root ":{fill:"white"}},"& .MuiTablePagination-root p ":{padding:"0 !important"}},{"& .MuiDataGrid-columnHeaders":{background:"#64748b",color:"white",fontSize:"14px"},"& .MuiDataGrid-columnHeaderCheckbox .MuiDataGrid-columnHeaderTitleContainer .MuiSvgIcon-root ":{display:p||f?"none":"block",fill:"white"},"& .MuiDataGrid-columnHeaderCheckbox .MuiDataGrid-columnHeaderTitleContainer input ":{display:p||f?"none":"block"}}),{fontSize:13,fontWeight:500,"& .MuiDataGrid-checkboxInput":{height:"27px",width:"27px"},"& .MuiDataGrid-checkboxInput svg":{height:"20px",width:"20px"}}),onRowSelectionModelChange:function(e){if(f){if(e.length<=0)return;if(L=e,I.includes(L[L.length-1]))return;return A(e),void _([e[e.length-1]],d,null)}if(!f&&p)if(I&&(null===I||void 0===I?void 0:I.length)>0){var n=new Set(I);A(e.filter((function(e){return!n.has(e)})))}else A(e);else A(e);_([e[e.length-1]],d,null)},onCellKeyDown:function(e,n){if(["NumpadEnter","Enter","Delete","Backspace"].includes(n.code))return n.preventDefault(),"Enter"===n.code||"NumpadEnter"===n.code?p&&!f?A((function(t){return t&&t.length>0&&t[0]===e.rowNode.id?(_([],d,n.code),[]):(_([e.rowNode.id],d,n.code),[e.rowNode.id])})):void A((function(t){return t&&!f&&t.length>0&&t.includes(e.rowNode.id)?(t=t.filter((function(n){return n!==e.rowNode.id})),_([],d,n.code),t):t&&f&&t.length>0&&t.includes(e.rowNode.id)?t:(_([e.rowNode.id],d,n.code),[].concat((0,o.Z)(t),[e.rowNode.id]))})):"Delete"===n.code||"Backspace"===n.code?(A([e.rowNode.id]),_([e.rowNode.id],d,n.code)):void 0},disableVirtualization:!0,isRowSelectable:y,getCellClassName:w})})}));function g(e){var n=e.page,t=e.onPageChange,o=e.className,i=(0,d.l)(),r=(0,u.P)(i,p.UB);return(0,h.jsx)(x.Z,{variant:"outlined",color:"primary",className:o,count:r,page:n+1,onChange:function(e,n){t(e,n-1)}})}function y(e){return(0,h.jsx)(f.x,(0,i.Z)({ActionsComponent:g},e))}function b(e){var n=(0,a.useContext)(m),t=n.rowSelectionModel,o=n.showFooterSelectedCount,r=n.footerPaginationPosition,l=n.footerChildren,c=n.rows;return(0,h.jsxs)(s.Z,{sx:{columnGap:"50px",display:"flex",width:"100%",justifyContent:"space-between",px:3,alignItems:"center",flexDirection:"right-left"===r?"row-reverse":"row"},children:[(0,h.jsx)(y,(0,i.Z)({},e)),(0,h.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"right-left"===r?"flex-start":"flex-end",flex:1,alignItems:"center"},children:[o&&(0,h.jsxs)("div",{children:["Selected:",null===t||void 0===t?void 0:t.length]}),(0,h.jsx)("div",{children:l(t,c)})]})]})}n.Z=v},17303:function(e,n,t){t.r(n),t.d(n,{CGLContext:function(){return B},default:function(){return Q}});var o=t(74165),i=t(15861),r=t(29439),a=t(4942),l=t(1413),s=t(72791),c=t(64554),d=t(36151),u=t(27391),p=t(63466),f=t(13400),x=t(4378),h=t(42419),m=t(3380),v=t(91933),g=t(29823),y=t(53329),b=t(21830),w=t.n(b),C=t(27247),S=t(68096),Z=t(94925),D=t(58406),k=t(23786),P=t(93433),j=t(77196),M=t(94721),F=t(91421),z=t(13784),I=t(56580),A=t(39709),_=t(93263),L=t(75105),N=t(80184);function E(){var e,n=(0,s.useContext)(B),t=n.state,r=n.handleInputChange,a=n.customInputchange,l=n.myAxios,c=n.user,x=n.isAddOrEditMode,h=n.computation,m=n.dispatch,g=n.keySave,y=(0,s.useRef)(null),b=(0,s.useRef)(null),w=(0,s.useRef)(null),C=(0,s.useRef)(null),E=(0,s.useRef)(null),T=(0,_.Z)({link:{url:"/task/production/get-clients",queryUrlName:"clientSearch"},columns:[{field:"entry_client_id",headerName:"ID",width:130},{field:"fullname",headerName:"First Name",flex:1},{field:"entry_type",headerName:"ID Type",width:150}],queryKey:"get-clients",uniqueId:"entry_client_id",responseDataKey:"clients",onSelected:function(e){a(e[0].entry_client_id,"client_id"),a(e[0].fullname,"client_name"),a(e[0].address,"client_address"),a(e[0].sale_officer,"sale_officer"),q()},onCellKeyDown:function(e,n){"Enter"!==n.code&&"NumpadEnter"!==n.code||(a(e.row.entry_client_id,"client_id"),a(e.row.fullname,"client_name"),a(e.row.address,"client_address"),a(e.row.sale_officer,"sale_officer"),q())},searchRef:C}),R=T.ModalComponent,G=T.openModal,K=T.isLoading,q=T.closeModal,U=(0,_.Z)({link:{url:"/task/production/get-agents",queryUrlName:"agentSearch"},columns:[{field:"entry_agent_id",headerName:"ID",width:130},{field:"fullname",headerName:"First Name",flex:1},{field:"entry_type",headerName:"ID Type",width:150}],queryKey:"get-agents",uniqueId:"entry_agent_id",responseDataKey:"agents",onSelected:function(e){a(e[0].entry_agent_id,"agent_id"),a(e[0].fullname,"agent_name"),V()},onCellKeyDown:function(e,n){"Enter"!==n.code&&"NumpadEnter"!==n.code||(a(e.row.entry_agent_id,"agent_id"),a(e.row.fullname,"agent_name"),V())},searchRef:E}),O=U.ModalComponent,H=U.openModal,W=U.isLoading,V=U.closeModal,Q=(0,v.useQuery)({queryKey:"bond-policy-account-ss",queryFn:function(){return(e=e||(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.get("/task/production/policy-accounts-by-line?Line=PA",{headers:{Authorization:"Bearer ".concat(null===c||void 0===c?void 0:c.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),Y=Q.data,X=Q.isLoading;function $(e){"NumpadEnter"!==e.code&&"Enter"!==e.code||h()}return(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{style:{display:"flex",gap:"20px",flexDirection:"column"},children:[(0,N.jsxs)("div",{style:{display:"flex",columnGap:"10px",flex:1,boxSizing:"border-box"},children:[(0,N.jsx)("div",{style:{flexGrow:0,flexShrink:0,flexBasis:"50%"},children:(0,N.jsxs)("fieldset",{style:{flex:1,display:"flex",flexDirection:"column",gap:"10px",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px",boxSizing:"border-box"},children:[(0,N.jsx)("legend",{style:{color:"#065f46"},children:"Insurer Information"}),(0,N.jsxs)("div",{style:{display:"flex",gap:"10px",flexGrow:1,flexDirection:"column"},children:[K?(0,N.jsx)(A.Z,{loading:K}):(0,N.jsxs)(S.Z,{variant:"outlined",size:"small",disabled:x,sx:{width:"170px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,N.jsx)(Z.Z,{htmlFor:"client-id-field",children:"Client ID"}),(0,N.jsx)(j.Z,{sx:{height:"27px",fontSize:"14px"},disabled:x,fullWidth:!0,label:"Client ID",name:"client_id",value:t.client_id,onChange:r,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),G(t.client_id)},id:"client-id-field",endAdornment:(0,N.jsx)(p.Z,{position:"end",children:(0,N.jsx)(f.Z,{disabled:x,"aria-label":"search-client",color:"secondary",edge:"end",onClick:function(){G(t.client_id)},children:(0,N.jsx)(F.Z,{})})})})]}),(0,N.jsx)(u.Z,{fullWidth:!0,disabled:x,variant:"outlined",size:"small",label:"Client Name",name:"client_name",value:t.client_name,onChange:r,onKeyDown:g,InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0},sx:{flex:1,height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}})]}),(0,N.jsx)(u.Z,{rows:5,disabled:x,variant:"outlined",size:"small",label:"Client Address",multiline:!0,name:"client_address",value:t.client_address,onChange:r,onKeyDown:g,InputProps:{style:{height:"100px",fontSize:"14px"},readOnly:!0},sx:{flex:1,height:"100px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}})]})}),(0,N.jsx)("div",{style:{flexGrow:0,flexShrink:0,flexBasis:"50%"},children:(0,N.jsxs)("fieldset",{style:{flexDirection:"row",gap:"10px",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px",height:"100%",flex:1,flexWrap:"wrap"},children:[(0,N.jsx)("legend",{style:{color:"#065f46"},children:"Agent Information"}),W?(0,N.jsx)(A.Z,{loading:W}):(0,N.jsxs)(S.Z,{variant:"outlined",size:"small",disabled:x,sx:{width:"170px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,N.jsx)(Z.Z,{htmlFor:"AGENT-id-field",children:"Agent ID"}),(0,N.jsx)(j.Z,{sx:{height:"27px",fontSize:"14px"},disabled:x,label:"Agent ID",name:"agent_id",value:t.agent_id,onChange:r,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),H(t.agent_id)},id:"AGENT-id-field",endAdornment:(0,N.jsx)(p.Z,{position:"end",children:(0,N.jsx)(f.Z,{disabled:x,"aria-label":"search-client",color:"secondary",edge:"end",onClick:function(){H(t.agent_id)},children:(0,N.jsx)(F.Z,{})})})})]}),(0,N.jsx)(u.Z,{fullWidth:!0,disabled:x,variant:"outlined",size:"small",label:"Agent Name",name:"agent_name",value:t.agent_name,onChange:r,onKeyDown:g,InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0},sx:{flex:1,height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"},marginTop:"10px"}}),(0,N.jsx)(u.Z,{onKeyDown:g,disabled:x,fullWidth:!0,variant:"outlined",size:"small",label:"Sale Officer",multiline:!0,name:"sale_officer",value:t.sale_officer,onChange:r,InputProps:{style:{height:"27px",fontSize:"14px"},readOnly:!0},sx:{width:"100%",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"},marginTop:"10px"}})]})})]}),(0,N.jsxs)("div",{style:{display:"flex",columnGap:"10px",flex:1,boxSizing:"border-box"},children:[(0,N.jsx)("div",{style:{flexGrow:0,flexShrink:0,flexBasis:"50%"},children:(0,N.jsxs)("fieldset",{style:{gap:"10px",display:"flex",flexDirection:"row",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px",marginBottom:"10px"},children:[(0,N.jsx)("legend",{style:{color:"#065f46"},children:"PA Policy"}),X?(0,N.jsx)(A.Z,{loading:X}):(0,N.jsxs)(S.Z,{size:"small",fullWidth:!0,disabled:x,sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,N.jsx)(Z.Z,{id:"PolicyAccount",children:"Account"}),(0,N.jsx)(D.Z,{labelId:"PolicyAccount",value:t.PolicyAccount,label:"Account",name:"PolicyAccount",onChange:r,sx:{height:"27px",fontSize:"14px"},children:[{Account:""}].concat((0,P.Z)(null===Y||void 0===Y?void 0:Y.data.policyAccounts)).map((function(e,n){return(0,N.jsx)(k.Z,{value:e.Account,children:e.Account},n)}))})]}),(0,N.jsx)(u.Z,{disabled:x||"delete"===t.cglActioMode,fullWidth:!0,variant:"outlined",size:"small",label:"Policy No",name:"PolicyNo",value:t.PolicyNo,onChange:r,onKeyDown:g,InputProps:{style:{height:"27px",fontSize:"14px"}},sx:{width:"100%",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}})]})}),(0,N.jsx)("div",{style:{flexGrow:0,flexShrink:0,flexBasis:"50%"},children:(0,N.jsxs)("fieldset",{style:{flexGrow:1,display:"flex",flexDirection:"row",gap:"10px",gridArea:"content4",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,N.jsx)("legend",{style:{color:"#065f46"},children:"Period of Insurance"}),(0,N.jsx)(z.Z,{disabled:x,label:"Date From",onChange:function(e){a(e,"DateFrom");var n=new Date(e),t=(0,L.Z)(n,1);a(t,"DateTo")},value:new Date(t.DateFrom),textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}},onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)var n=setTimeout((function(){var e,t;null===(e=y.current)||void 0===e||null===(t=e.querySelector("button"))||void 0===t||t.click(),clearTimeout(n)}),150)},datePickerRef:y}),(0,N.jsx)(z.Z,{disabled:x,label:"Date To",onChange:function(e){a(e,"DateTo")},value:new Date(t.DateTo),textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}},onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)var n=setTimeout((function(){var e,t;null===(e=b.current)||void 0===e||null===(t=e.querySelector("button"))||void 0===t||t.click(),clearTimeout(n)}),150)},datePickerRef:b}),(0,N.jsx)(z.Z,{label:"Date Issued",name:"DateIssued",onChange:function(e){a(e,"DateIssued")},value:new Date(t.DateIssued),disabled:x,textField:{InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}},onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)var n=setTimeout((function(){var e,t;null===(e=w.current)||void 0===e||null===(t=e.querySelector("button"))||void 0===t||t.click(),clearTimeout(n)}),150)},datePickerRef:w})]})})]}),(0,N.jsxs)("div",{style:{display:"flex",columnGap:"10px",flex:1,boxSizing:"border-box"},children:[(0,N.jsx)("div",{style:{flex:1,flexGrow:1,flexShrink:1,flexBasis:"50%"},children:(0,N.jsxs)("fieldset",{style:{flex:1,display:"flex",flexDirection:"column",gap:"10px",gridArea:"content4",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px",height:"100%"},children:[(0,N.jsx)("legend",{style:{color:"#065f46",height:"20px"}}),(0,N.jsx)(u.Z,{disabled:x,required:!0,variant:"outlined",size:"small",label:"Sum Insured",name:"sumInsured",value:t.sumInsured,onKeyDown:g,onChange:r,placeholder:"0.00",onBlur:function(){m({type:"UPDATE_FIELD",field:"sumInsured",value:parseFloat(t.sumInsured).toFixed(2)})},InputProps:{style:{height:"27px",fontSize:"14px"},inputComponent:I.a},sx:{width:"100%",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,N.jsx)(u.Z,{onKeyDown:g,disabled:x,variant:"outlined",size:"small",label:"Premises Operations",name:"premisisOperation",value:t.premisisOperation,onChange:r,InputProps:{style:{height:"27px",fontSize:"14px"}},sx:{width:"100%",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,N.jsx)(u.Z,{onKeyDown:g,disabled:x,variant:"outlined",size:"small",label:"Address",name:"address",value:t.address,onChange:r,InputProps:{style:{height:"27px",fontSize:"14px"}},sx:{width:"100%",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,N.jsx)(u.Z,{onKeyDown:g,disabled:x,variant:"outlined",size:"small",label:"BL Premium",name:"blPremium",value:t.blPremium,onChange:r,InputProps:{style:{height:"27px",fontSize:"14px"}},sx:{width:"100%",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,N.jsx)(u.Z,{onKeyDown:g,disabled:x,variant:"outlined",size:"small",label:"PD Premium",name:"pdPremium",value:t.pdPremium,onChange:r,InputProps:{style:{height:"27px",fontSize:"14px"}},sx:{width:"100%",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}})]})}),(0,N.jsx)("div",{style:{flexGrow:0,flexShrink:0,flexBasis:"50%"},children:(0,N.jsxs)("fieldset",{style:{display:"flex",flexDirection:"column",rowGap:"10px",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,N.jsx)("legend",{children:"Premiums"}),(0,N.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",padding:"5px"},children:(0,N.jsx)(d.Z,{disabled:x,size:"small",variant:"contained",color:"primary",onClick:function(){h()},children:"Compute"})}),(0,N.jsx)(u.Z,{disabled:x,required:!0,variant:"outlined",size:"small",label:"Net Premium",name:"netPremium",value:t.netPremium,onChange:r,onKeyDown:$,placeholder:"0.00",onBlur:function(){m({type:"UPDATE_FIELD",field:"netPremium",value:parseFloat(t.netPremium).toFixed(2)})},InputProps:{style:{height:"27px",fontSize:"14px"},inputComponent:I.a},sx:{width:"100%",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),(0,N.jsx)(u.Z,{disabled:x,required:!0,variant:"outlined",size:"small",label:"Vat",name:"vat",value:t.vat,onChange:r,onKeyDown:$,placeholder:"0.00",InputProps:{style:{height:"27px",fontSize:"14px"},inputComponent:I.a},sx:{width:"100%",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},onBlur:function(){m({type:"UPDATE_FIELD",field:"vat",value:parseFloat(t.vat).toFixed(2)})}}),(0,N.jsx)(u.Z,{disabled:x,required:!0,variant:"outlined",size:"small",label:"Doc Stamp",name:"docStamp",value:t.docStamp,onChange:r,onKeyDown:$,placeholder:"0.00",InputProps:{style:{height:"27px",fontSize:"14px"},inputComponent:I.a},sx:{width:"100%",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},onBlur:function(){m({type:"UPDATE_FIELD",field:"docStamp",value:parseFloat(t.docStamp).toFixed(2)})}}),(0,N.jsxs)("div",{style:{display:"flex",gap:"5px",position:"relative"},children:[(0,N.jsx)(u.Z,{disabled:x,required:!0,variant:"outlined",size:"small",name:"localGovTaxPercent",value:t.localGovTaxPercent,onChange:r,onKeyDown:$,placeholder:"0.00",InputProps:{style:{height:"27px",fontSize:"14px"},inputComponent:I.a},sx:{width:"80px",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},onBlur:function(){m({type:"UPDATE_FIELD",field:"localGovTaxPercent",value:parseFloat(t.localGovTaxPercent).toFixed(2)})}}),(0,N.jsx)(u.Z,{disabled:x,required:!0,variant:"outlined",size:"small",label:"Local Gov Tax",name:"localGovTax",value:t.localGovTax,onChange:r,onKeyDown:$,placeholder:"0.00",InputProps:{style:{height:"27px",fontSize:"14px"},inputComponent:I.a},sx:{width:"100%",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},onBlur:function(){m({type:"UPDATE_FIELD",field:"localGovTax",value:parseFloat(t.localGovTax).toFixed(2)})}})]}),(0,N.jsx)(M.Z,{color:"secondary"}),(0,N.jsx)(u.Z,{disabled:x,required:!0,variant:"outlined",size:"small",label:"Total Due",name:"totalDue",value:t.totalDue,onChange:r,placeholder:"0.00",InputProps:{style:{height:"27px",fontSize:"14px"},inputComponent:I.a},sx:{width:"100%",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},onBlur:function(){m({type:"UPDATE_FIELD",field:"totalDue",value:parseFloat(t.totalDue).toFixed(2)})}})]})})]})]}),R,O]})}var T=t(64230),R=t(5403),G={sub_account:"HO",client_id:"",client_name:"",client_address:"",agent_id:"",agent_name:"",agent_com:"0.00",sale_officer:"",PolicyAccount:"",PolicyNo:"",DateFrom:new Date,DateTo:(0,L.Z)(new Date,1),DateIssued:new Date,sumInsured:"",premisisOperation:"",address:"",blPremium:"0.00",pdPremium:"0.00",netPremium:"0.00",vat:"0.00",docStamp:"0.00",localGovTaxPercent:"0.75",localGovTax:"0.00",totalDue:"0.00",cglActioMode:""},K=function(e,n){return"UPDATE_FIELD"===n.type?(0,l.Z)((0,l.Z)({},e),{},(0,a.Z)({},n.field,n.value)):e},B=(0,s.createContext)({}),q="cgl-search",U="clients",O="agents",H="cgl-policy",W="cgl-policy",V="cgl-policy";function Q(){var e,n,t,b,P,j,M=(0,s.useReducer)(K,G),F=(0,r.Z)(M,2),z=F[0],I=F[1],L=(0,s.useContext)(m.V),Q=L.myAxios,Y=L.user,X=(0,s.useState)([]),$=(0,r.Z)(X,2),J=$[0],ee=$[1],ne=(0,s.useState)([]),te=(0,r.Z)(ne,2),oe=te[0],ie=te[1],re=(0,s.useState)(""),ae=(0,r.Z)(re,2),le=ae[0],se=ae[1],ce=(0,s.useState)(!1),de=(0,r.Z)(ce,2),ue=de[0],pe=de[1],fe=(0,s.useRef)(null),xe=(0,v.useQueryClient)(),he=""===z.cglActioMode,me=(0,s.useRef)(null),ve=(0,s.useRef)(null),ge=(0,s.useRef)(null),ye=(0,v.useQuery)({queryKey:"get-sub_account",queryFn:function(){return(e=e||(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.get("/task/production/get-sub_account",{headers:{Authorization:"Bearer ".concat(null===Y||void 0===Y?void 0:Y.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),be=ye.data,we=ye.isLoading,Ce=(0,_.Z)({link:{url:"/task/production/search-cgl-policy",queryUrlName:"searchCglPolicy"},columns:[{field:"DateIssued",headerName:"Date",width:200},{field:"PolicyNo",headerName:"Policy No",width:250},{field:"Account",headerName:"Account",width:170},{field:"client_fullname",headerName:"Full Name",flex:1}],queryKey:"search-cgl-policy",uniqueId:"PolicyNo",responseDataKey:"cglPolicy",onSelected:function(e){Ge(e),ke()},onCellKeyDown:function(e,n){"Enter"!==n.code&&"NumpadEnter"!==n.code||(Ge([e.row]),ke())},onSuccess:console.log,searchRef:fe}),Se=Ce.ModalComponent,Ze=Ce.openModal,De=Ce.isLoading,ke=Ce.closeModal,Pe=(0,v.useMutation)({mutationKey:W,mutationFn:function(e){return(n=n||(0,i.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("delete"!==z.cglActioMode){e.next=4;break}return e.next=3,Q.post("/task/production/update-cgl-policy",n,{headers:{Authorization:"Bearer ".concat(null===Y||void 0===Y?void 0:Y.accessToken)}});case 3:case 6:return e.abrupt("return",e.sent);case 4:return e.next=6,Q.post("/task/production/add-cgl-policy",n,{headers:{Authorization:"Bearer ".concat(null===Y||void 0===Y?void 0:Y.accessToken)}});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){return(t=t||(0,i.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.data.success){e.next=5;break}return e.next=3,Re();case 3:return Te(G,!0),e.abrupt("return",w().fire({position:"center",icon:"success",title:n.data.message,showConfirmButton:!1,timer:1500}));case 5:w().fire({position:"center",icon:"error",title:n.data.message,showConfirmButton:!1,timer:1500});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),je=Pe.mutate,Me=Pe.isLoading,Fe=(0,v.useMutation)({mutationKey:V,mutationFn:function(e){return(b=b||(0,i.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.post("/task/production/delete-cgl-policy",n,{headers:{Authorization:"Bearer ".concat(null===Y||void 0===Y?void 0:Y.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){return(P=P||(0,i.Z)((0,o.Z)().mark((function e(n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.data.success){e.next=5;break}return e.next=3,Re();case 3:return Te(G,!0),e.abrupt("return",w().fire({position:"center",icon:"success",title:n.data.message,showConfirmButton:!1,timer:1500}));case 5:w().fire({position:"center",icon:"error",title:n.data.message,showConfirmButton:!1,timer:1500});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),ze=Fe.mutate,Ie=Fe.isLoading,Ae=(0,s.useCallback)((function(){z.blPremium=""===z.blPremium?"0":z.blPremium,z.pdPremium=""===z.pdPremium?"0":z.pdPremium,z.netPremium=""===z.netPremium?"0":z.netPremium,z.vat=""===z.vat?"0":z.vat,z.docStamp=""===z.docStamp?"0":z.docStamp,z.localGovTaxPercent=""===z.localGovTaxPercent?"0":z.localGovTaxPercent,z.localGovTax=""===z.localGovTax?"0":z.localGovTax,z.totalDue=""===z.totalDue?"0":z.totalDue}),[z]),_e=(0,s.useCallback)((function(){return""===z.client_name||null===z.client_name||void 0===z.client_name?w().fire("Unable to save! Invalid Client ID","you missed the Client Id Field?","error"):""===z.client_id||null===z.client_id?w().fire("Unable to save! Invalid IDNo.","you missed the Client Id Field?","error"):""===z.PolicyAccount||null===z.PolicyAccount?w().fire("Unable to save! Please select Account.","you missed the Account Field?","error"):""===z.PolicyNo||null===z.PolicyNo?w().fire("Unable to save! Invalid Policy No.","you missed the Policy No Field?","error"):void("delete"===z.cglActioMode?(0,T.s)({isUpdate:!0,cb:function(e){Ae(),je((0,l.Z)((0,l.Z)({},z),{},{userCodeConfirmation:e}))}}):(0,T.L)({isConfirm:function(){Ae(),je(z)}}))}),[Ae,z,je]);(0,s.useEffect)((function(){var e=function(e){var n,t,o;""!==z.cglActioMode||"KeyN"!==e.code&&"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),null===(n=me.current)||void 0===n||n.click());""!==z.cglActioMode&&"Escape"===e.code&&(e.preventDefault(),null===(t=ve.current)||void 0===t||t.click());"delete"===z.cglActioMode&&"Delete"===e.code&&(e.preventDefault(),null===(o=ge.current)||void 0===o||o.click())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[_e,z.cglActioMode]);var Le=function(e){var n=e.target,t=n.name,o=n.value;I({type:"UPDATE_FIELD",field:t,value:o})},Ne=function(e,n){I({type:"UPDATE_FIELD",field:n,value:e})};function Ee(){Ae();var e=parseFloat(z.localGovTaxPercent)/100,n=parseFloat(z.netPremium);Ne((.12*n).toFixed(2),"vat"),Ne((.125*n).toFixed(2),"docStamp"),Ne((e*n).toFixed(2),"localGovTax"),Ne(n.toFixed(2),"netPremium"),Ne((parseFloat(n.toFixed(2))+parseFloat((.12*n).toFixed(2))+parseFloat((.125*n).toFixed(2))+parseFloat((e*n).toFixed(2))).toFixed(2),"totalDue")}function Te(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.form_type=z.form_type,e.form_action=z.form_action,e.prem_text_one=z.prem_text_one,e.prem_text_two=z.prem_text_two,n||(e.cglActioMode=z.cglActioMode),Object.entries(e).forEach((function(e){var n=(0,r.Z)(e,2),t=n[0],o=n[1];Ne(o,t)}))}function Re(){return(j=j||(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([xe.invalidateQueries(q),xe.invalidateQueries(U),xe.invalidateQueries(O),xe.invalidateQueries(H),xe.invalidateQueries(W),xe.invalidateQueries(V)]));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e){var n=e[0],t=n.PolicyNo,o=n.Account,i=n.PeriodFrom,r=n.PeriodTo,a=n.Location,l=n.IDNo,s=n.SubAcct,c=n.DateIssued,d=n.TotalPremium,u=n.AgentID,p=n.AgentCom,f=n.client_fullname,x=n.agent_fullname,h=n.address,m=n.LimitA,v=n.LimitB,g=n.sumInsured,y=n.cgl_address,b=n.sale_officer;Ne(s,"sub_account"),Ne(l,"client_id"),Ne(f,"client_name"),Ne(h,"client_address"),Ne(u,"agent_id"),Ne(x,"agent_name"),Ne(p,"agent_com"),Ne(b,"sale_officer"),Ne(o,"PolicyAccount"),Ne(t,"PolicyNo"),Ne(i,"DateFrom"),Ne(r,"DateTo"),Ne(c,"DateIssued"),Ne(a,"premisisOperation"),Ne(a,"premisisOperation"),Ne(g,"sumInsured"),Ne(y,"address"),Ne(m,"blPremium"),Ne(v,"pdPremium"),z.netPremium=d,Ee(),Ne("delete","cglActioMode")}return(0,N.jsxs)(B.Provider,{value:{state:z,handleInputChange:Le,customInputchange:Ne,Mortgagee:ue,setMortgagee:pe,clientRows:J,setClientRows:ee,myAxios:Q,user:Y,agentRows:oe,setAgentRows:ie,computation:Ee,isAddOrEditMode:he,dispatch:I,keySave:function(e){""===z.mode||"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),_e())}},children:[(0,N.jsx)(c.Z,{sx:function(e){return(0,a.Z)({display:"flex",alignItems:"center",columnGap:"20px",marginBottom:"10px"},e.breakpoints.down("sm"),{flexDirection:"column",alignItems:"flex-start",flex:1})},children:(0,N.jsx)("div",{style:{display:"flex",alignItems:"center",columnGap:"20px"},children:(0,N.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"5px"},children:[""===z.cglActioMode&&(0,N.jsx)(d.Z,{sx:{height:"30px",fontSize:"11px"},ref:me,variant:"contained",startIcon:(0,N.jsx)(h.Z,{}),onClick:function(){Ne("add","cglActioMode")},children:"New"}),(0,N.jsx)(A.Z,{loading:Me,sx:{height:"30px",fontSize:"11px"},color:"primary",variant:"contained",type:"submit",onClick:_e,disabled:""===z.cglActioMode,startIcon:(0,N.jsx)(y.Z,{}),children:"Save"}),""!==z.cglActioMode&&(0,N.jsx)(d.Z,{sx:{height:"30px",fontSize:"11px"},ref:ve,variant:"contained",startIcon:(0,N.jsx)(g.Z,{}),color:"error",onClick:function(){w().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&(Ne("","cglActioMode"),Te(G,!0))}))},children:"Cancel"}),(0,N.jsx)(A.Z,{loading:Ie,ref:ge,id:"save-entry-header",variant:"contained",sx:{height:"30px",fontSize:"11px",backgroundColor:x.Z[500],"&:hover":{backgroundColor:x.Z[600]}},disabled:"delete"!==z.cglActioMode,startIcon:(0,N.jsx)(C.Z,{}),onClick:function(){(0,T.s)({isUpdate:!1,cb:function(e){ze({PolicyAccount:z.PolicyAccount,PolicyNo:z.PolicyNo,policyType:z.policyType,userCodeConfirmation:e})}})},children:"Delete"})]})})}),(0,N.jsxs)("div",{style:{marginBottom:"5px",display:"flex",gap:"10px"},children:[De?(0,N.jsx)(A.Z,{loading:De}):(0,N.jsx)(u.Z,{label:"Search",size:"small",name:"search",value:le,onChange:function(e){se(e.target.value)},onKeyDown:function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),Ze(le))},InputProps:{style:{height:"27px",fontSize:"14px"},endAdornment:(0,N.jsx)(p.Z,{position:"end",children:(0,N.jsx)(f.Z,{onClick:function(){Ze(le)},edge:"end",children:(0,N.jsx)(R.Z,{})})})},type:"search",sx:{width:"300px",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),we?(0,N.jsx)(A.Z,{loading:we}):(0,N.jsxs)(S.Z,{size:"small",sx:function(e){return{width:"150px",".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}},children:[(0,N.jsx)(Z.Z,{id:"subAccount",children:"Sub Account"}),(0,N.jsx)(D.Z,{sx:{height:"27px",fontSize:"14px"},size:"small",labelId:"subAccount",label:"subAccount",name:"sub_account",value:z.sub_account,onChange:function(e){Le(e)},children:(null===be||void 0===be?void 0:be.data.sub_account).map((function(e,n){return(0,N.jsx)(k.Z,{value:e.Acronym.trim(),children:e.Acronym},n)}))})]})]}),(0,N.jsx)(E,{}),Se]})}},93263:function(e,n,t){var o,i=t(29439),r=t(74165),a=t(15861),l=t(72791),s=t(91933),c=t(3380),d=t(81582),u=t(54164),p=t(80184);function f(e,n,t){return(o=o||(0,a.Z)((0,r.Z)().mark((function e(n,t,o){var i,a=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.length>3&&void 0!==a[3]?a[3]:"",e.abrupt("return",n.get("".concat(null===o||void 0===o?void 0:o.url,"?").concat(null===o||void 0===o?void 0:o.queryUrlName,"=").concat(i),{headers:{Authorization:"Bearer ".concat(null===t||void 0===t?void 0:t.accessToken)}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.Z=function(e){var n,t,o=e.link,x=e.uniqueId,h=e.queryKey,m=e.responseDataKey,v=e.columns,g=e.onSelected,y=void 0===g?function(){}:g,b=e.onRemoveSelected,w=void 0===b?function(){}:b,C=e.onSuccess,S=void 0===C?function(){}:C,Z=e.searchRef,D=e.onCellKeyDown,k=e.onCloseFunction,P=void 0===k?function(){}:k,j=e.CustomizeAxios,M=void 0===j?f:j,F=e.isRowSelectable,z=e.getCellClassName,I=(0,l.useContext)(c.V),A=I.myAxios,_=I.user,L=(0,l.useState)(!1),N=(0,i.Z)(L,2),E=N[0],T=N[1],R=(0,l.useState)([]),G=(0,i.Z)(R,2),K=G[0],B=G[1];function q(){return(n=n||(0,a.Z)((0,r.Z)().mark((function e(){var n,t=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:"",e.next=3,M(A,_,o,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=(0,s.useQuery)({queryKey:h,queryFn:function(){return(t=t||(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var n=e;B(n.data[m]),S(n)},refetchOnWindowFocus:!1}),O=U.isLoading,H=U.refetch;return{show:E,rows:K,isLoading:O,openModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,u.flushSync)((function(){T(!0)})),null!==Z&&void 0!==Z&&Z.current&&(Z.current.value=e,q(e).then((function(e){if(null===e||void 0===e||!e.data.success)return alert("Error : ".concat(null===e||void 0===e?void 0:e.data.message));B(e.data[m]),null!==Z&&void 0!==Z&&Z.current&&Z.current.focus()})))},closeModal:function(){var e;(T(!1),P)&&P(null===Z||void 0===Z||null===(e=Z.current)||void 0===e?void 0:e.value)},ModalComponent:(0,p.jsx)(d.ZP,{getCellClassName:z,searchRef:Z,showModal:E,onCloseModal:function(){var e;(T(!1),P)&&P(null===Z||void 0===Z||null===(e=Z.current)||void 0===e?void 0:e.value)},onClickCloseIcon:function(){var e;(T(!1),P)&&P(null===Z||void 0===Z||null===(e=Z.current)||void 0===e?void 0:e.value)},searchOnChange:function(e){},onSearchKeyEnter:function(e){q(e).then((function(e){if(null===e||void 0===e||!e.data.success)return alert("Error : ".concat(null===e||void 0===e?void 0:e.data.message));B(e.data[m])}))},onCellKeyDown:D,height:300,isLoading:O,queryKey:h,columns:v,onSelectionChange:function(e,n){if(e.length<=0)return w(n);var t=new Set(e),o=n.filter((function(e){return t.has(e[x].toString())}));o.length<=0||y(o,n)},id:x,rows:K,setRows:B,isRowSelectable:F}),refetch:H}}},64230:function(e,n,t){t.d(n,{L:function(){return s},s:function(){return l}});var o=t(74165),i=t(15861),r=t(21830),a=t.n(r);function l(e){var n;a().fire({title:"Are you sure!",html:null!==e&&void 0!==e&&e.text?null===e||void 0===e?void 0:e.text:e.isUpdate?"Are you sure you want to make this change?":"Are you sure you want to delete this?",icon:"warning",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Save",confirmButtonColor:"green",showLoaderOnConfirm:!0,preConfirm:function(t){return(n=n||(0,i.Z)((0,o.Z)().mark((function n(t){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{e.cb(t)}catch(o){a().showValidationMessage("\n            Request failed: ".concat(o,"\n          "))}case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)},allowOutsideClick:function(){return!a().isLoading()}}).then((function(n){if(n.isConfirmed&&e.isConfirm)return e.isConfirm();e.isDeclined&&e.isDeclined()}))}function s(e){a().fire({title:"Are you sure?",text:null!==e&&void 0!==e&&e.text?null===e||void 0===e?void 0:e.text:"Do you want to proceed with saving?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, save it!"}).then((function(n){if(n.isConfirmed&&e.isConfirm)return e.isConfirm();e.isDeclined&&e.isDeclined()}))}},42419:function(e,n,t){var o=t(64836);n.Z=void 0;var i=o(t(45649)),r=t(80184),a=(0,i.default)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");n.Z=a},27247:function(e,n,t){var o=t(64836);n.Z=void 0;var i=o(t(45649)),r=t(80184),a=(0,i.default)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=a},91421:function(e,n,t){var o=t(64836);n.Z=void 0;var i=o(t(45649)),r=t(80184),a=(0,i.default)([(0,r.jsx)("circle",{cx:"10",cy:"8",r:"4"},"0"),(0,r.jsx)("path",{d:"M10.35 14.01C7.62 13.91 2 15.27 2 18v2h9.54c-2.47-2.76-1.23-5.89-1.19-5.99zm9.08 4.01c.36-.59.57-1.28.57-2.02 0-2.21-1.79-4-4-4s-4 1.79-4 4 1.79 4 4 4c.74 0 1.43-.22 2.02-.57L20.59 22 22 20.59l-2.57-2.57zM16 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},"1")],"PersonSearch");n.Z=a},53329:function(e,n,t){var o=t(64836);n.Z=void 0;var i=o(t(45649)),r=t(80184),a=(0,i.default)((0,r.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");n.Z=a},5403:function(e,n,t){var o=t(64836);n.Z=void 0;var i=o(t(45649)),r=t(80184),a=(0,i.default)((0,r.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");n.Z=a},4378:function(e,n){n.Z={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"}}}]);
//# sourceMappingURL=7303.86508caa.chunk.js.map