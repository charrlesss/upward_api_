"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[3749,7899],{77935:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(74165),u=n(15861),a=n(39709),o=n(72791),i=n(91933),l=n(3380),c=n(637),s=n(37209),d=n(11690),p=n(36151),f=n(21830),x=n.n(f),h=n(65413),v=n(80184),m=[{key:"row_count",label:"#",width:30},{key:"Check_Date",label:"Date",width:80},{key:"Bank",label:"Bank",width:150},{key:"CheckNo",label:"Check No",width:150},{key:"Check_Amnt",label:"Amount",width:120,type:"number"}];function y(){var e,t,n,f,y,g=(0,o.useContext)(l.V),w=g.myAxios,b=g.user,k=((0,c.Z)().executeQueryToClient,(0,o.useRef)(null)),C=(0,o.useRef)(null),Z=(0,o.useRef)(null),R=(0,o.useRef)(null),S=(0,o.useRef)(null),j=(0,o.useRef)(null),N=(0,o.useRef)(null),B=(0,i.useQuery)({queryKey:"load-request-number",queryFn:function(){return(e=e||(0,u.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("/task/accounting/pullout/approved/load-request-number",{headers:{Authorization:"Bearer ".concat(null===b||void 0===b?void 0:b.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),z=B.isLoading,T=B.data,A=B.refetch,P=(0,i.useMutation)({mutationKey:"load-details",mutationFn:function(e){return(t=t||(0,u.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.post("/task/accounting/pullout/approved/load-details",t,{headers:{Authorization:"Bearer ".concat(null===b||void 0===b?void 0:b.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=null===e||void 0===e?void 0:e.data.details;Z.current&&(Z.current.value=t[0].PNNo),R.current&&(R.current.value=t[0].Name),S.current&&(S.current.value=t[0].Reason),k.current.setDataFormated(t)}}),L=P.isLoading,q=P.mutate,D=(0,i.useMutation)({mutationKey:"confirm-code",mutationFn:function(e){return(n=n||(0,u.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.post("/task/accounting/pullout/approved/confirm-code",t,{headers:{Authorization:"Bearer ".concat(null===b||void 0===b?void 0:b.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){k.current.resetTable(),C.current&&(C.current.value=""),Z.current&&(Z.current.value=""),R.current&&(R.current.value=""),S.current&&(S.current.value=""),j.current&&(j.current.value=""),x().fire({position:"center",icon:"warning",title:e.data.message,timer:1500}).then((function(){A()}))}}),F=D.isLoading,K=D.mutate,M=(0,i.useMutation)({mutationKey:"confirm",mutationFn:function(e){return(f=f||(0,u.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.post("/task/accounting/pullout/approved/confirm",t,{headers:{Authorization:"Bearer ".concat(null===b||void 0===b?void 0:b.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){if(e.data.success)return x().fire({title:"Are you sure?",text:e.data.message,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, confirm it!"}).then((function(e){var t,n;e.isConfirmed&&K({RCPNo:null===(t=C.current)||void 0===t?void 0:t.value,code:null===(n=j.current)||void 0===n?void 0:n.value})}));alert(e.data.message)}}),W=M.isLoading,I=M.mutate;return(0,v.jsxs)("div",{style:{flex:"1",display:"flex",justifyContent:"center",alignItems:"center"},children:[(L||W||F)&&(0,v.jsx)(h.g,{}),(0,v.jsxs)("div",{style:{padding:"10px",width:"62%",border:"1px sold black",height:"500px",boxShadow:"1px 1px 2px 2px black",display:"flex",flexDirection:"column"},children:[(0,v.jsxs)("div",{style:{height:"auto"},children:[z?(0,v.jsx)(a.Z,{loading:z}):(0,v.jsx)("div",{style:{width:"100%",marginBottom:"8px"},children:(0,v.jsx)(s.lq,{label:{title:"RCP No.  : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},selectRef:C,select:{style:{flex:1,height:"22px"},defaultValue:"Non-VAT",onChange:function(e){return(y=y||(0,u.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===t.currentTarget.selectedIndex&&(k.current.resetTable(),C.current&&(C.current.value=""),Z.current&&(Z.current.value=""),R.current&&(R.current.value=""),S.current&&(S.current.value=""),j.current&&(j.current.value="")),q({RCPNo:t.target.value});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},containerStyle:{width:"300px",marginBottom:"12px"},datasource:null===T||void 0===T?void 0:T.data.rcpn,values:"RCPNo",display:"RCPNo"})}),(0,v.jsx)(s.oi,{containerStyle:{width:"50%",marginBottom:"8px",marginLeft:"50px"},label:{title:"PN No. :",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:!0,type:"text",style:{width:"calc(100% - 100px)"}},inputRef:Z}),(0,v.jsx)(s.oi,{containerStyle:{width:"50%",marginBottom:"8px",marginLeft:"50px"},label:{title:"Client :",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:!0,type:"text",style:{width:"calc(100% - 100px)"}},inputRef:R}),(0,v.jsx)(s.oi,{containerStyle:{width:"50%",marginBottom:"8px",marginLeft:"50px"},label:{title:"Reason :",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:!0,type:"text",style:{width:"calc(100% - 100px)"}},inputRef:S})]}),(0,v.jsx)(d.O0,{isTableSelectable:!1,ref:k,columns:m,rows:[],containerStyle:{flex:1},getSelectedItem:function(e){}}),(0,v.jsxs)("div",{style:{height:"35px",display:"flex",justifyContent:"flex-end",alignItems:"center",columnGap:"5px"},children:[(0,v.jsx)(s.oi,{label:{title:"Authentication Code:",style:{fontSize:"12px",fontWeight:"bold",width:"140px"}},input:{type:"text",style:{width:"300px"},onKeyDown:function(e){var t;"Enter"!==e.key&&"NumEnter"!==e.key||I({RCPNo:null===(t=C.current)||void 0===t?void 0:t.value,code:e.currentTarget.value})}},inputRef:j}),(0,v.jsx)(p.Z,{ref:N,variant:"contained",color:"info",style:{height:"25px",fontSize:"12px"},onClick:function(e){var t,n;I({RCPNo:null===(t=C.current)||void 0===t?void 0:t.value,code:null===(n=j.current)||void 0===n?void 0:n.value})},children:"Confirm"})]})]})]})}},29823:function(e,t,n){var r=n(64836);t.Z=void 0;var u=r(n(45649)),a=n(80184),o=(0,u.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},5403:function(e,t,n){var r=n(64836);t.Z=void 0;var u=r(n(45649)),a=n(80184),o=(0,u.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o}}]);
//# sourceMappingURL=3749.770af5b9.chunk.js.map