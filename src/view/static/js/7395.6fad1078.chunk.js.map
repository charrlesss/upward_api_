{"version":3,"file":"static/js/7395.6fad1078.chunk.js","mappings":"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","sources":["components/DatePicker.tsx","feautures/Admin/Reports/Accounting/VATBook.tsx","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"],"sourcesContent":["import { LocalizationProvider } from \"@mui/x-date-pickers/LocalizationProvider\";\nimport { AdapterDateFns } from \"@mui/x-date-pickers/AdapterDateFns\";\nimport { DatePicker } from \"@mui/x-date-pickers\";\nexport default function CustomDatePicker({\n  label,\n  name,\n  onChange,\n  value,\n  onKeyDown,\n  inputRef,\n  datePickerRef,\n  fullWidth,\n  textField,\n  minWidth = \"200px\",\n  ...rest\n}: any) {\n  return (\n    <LocalizationProvider dateAdapter={AdapterDateFns}>\n      <DatePicker\n      floatingLabelStyle={{color: \"black\" }}\n        value={value}\n        onChange={onChange}\n        ref={datePickerRef}\n        slotProps={{\n          textField: {\n            size: \"small\",\n            label,\n            name,\n            onKeyDown,\n            inputRef: inputRef,\n            fullWidth,\n\n            ...textField,\n          },\n        }}\n        InputLabelProps={{\n          sx: {\n            color: \"black\",\n          },\n        }}\n        sx={{\n          minWidth,\n          fieldset: { borderColor: \"black\" },\n          \".MuiFormLabel-root\": { fontSize: \"14px\" },\n          \".MuiFormLabel-root[data-shrink=false]\": {\n            top: \"-5px\",\n          },\n        }}\n        {...rest}\n      />\n    </LocalizationProvider>\n  );\n}\n","import { useContext, useEffect, useRef, Fragment } from \"react\";\nimport {\n  FormControl,\n  MenuItem,\n  Select,\n  TextField,\n  InputLabel,\n  Box,\n} from \"@mui/material\";\nimport { useQuery } from \"react-query\";\nimport { AuthContext } from \"../../../../components/AuthContext\";\nimport CustomDatePicker from \"../../../../components/DatePicker\";\nimport { LoadingButton } from \"@mui/lab\";\nimport { AdapterDateFns } from \"@mui/x-date-pickers/AdapterDateFns\";\nimport { DatePicker, LocalizationProvider } from \"@mui/x-date-pickers\";\nimport PrintPreview, {\n  columnSelection,\n  copiedByHeaderOnDoubleClick,\n  formatNumberWithCommas,\n} from \"../../../../components/PrintPreview/PrintPreview\";\n\n// import { arrangeData } from \"../../../../components/PrintPreview/dataCore\";\nimport { format } from \"date-fns\";\n\nconst initialState = {\n  dateFormat: \"Monthly\",\n  date: new Date(),\n  sub_acct: \"All\",\n  title: \"\",\n};\n\nexport const reducer = (state: any, action: any) => {\n  switch (action.type) {\n    case \"UPDATE_FIELD\":\n      return {\n        ...state,\n        [action.field]: action.value,\n      };\n    default:\n      return state;\n  }\n};\nconst groubHeader = [\n  {\n    groupHeader: \"\",\n    groupId: \"code\",\n  },\n  {\n    groupHeader: \"\",\n    groupId: \"title\",\n  },\n  {\n    groupHeader: \"PREVIOUS BALANCE\",\n    groupId: \"prev-bal\",\n  },\n  {\n    groupHeader: \"TRANSACTION\",\n    groupId: \"transaction\",\n  },\n  {\n    groupHeader: \"ENDING\",\n    groupId: \"ending\",\n  },\n];\nconst column = [\n  {\n    groupId: \"code\",\n    datakey: \"Code\",\n    header: \"Acct No.\",\n    width: \"100px\",\n  },\n  {\n    groupId: \"title\",\n    datakey: \"Title\",\n    header: \"Account Name\",\n    width: \"250px\",\n  },\n  {\n    groupId: \"prev-bal\",\n    datakey: \"PrevDebit\",\n    header: \"Debit\",\n    total: true,\n    type: \"number\",\n    width: \"100px\",\n  },\n  {\n    groupId: \"prev-bal\",\n    datakey: \"PrevCredit\",\n    header: \"Credit\",\n    total: true,\n    type: \"number\",\n    width: \"100px\",\n  },\n  {\n    groupId: \"prev-bal\",\n    datakey: \"PrevBalance\",\n    header: \"Balance\",\n    total: true,\n    type: \"number\",\n    width: \"100px\",\n  },\n  {\n    groupId: \"transaction\",\n    datakey: \"CurrDebit\",\n    header: \"Debit\",\n    total: true,\n    type: \"number\",\n    width: \"100px\",\n  },\n  {\n    groupId: \"transaction\",\n    datakey: \"CurrCredit\",\n    header: \"Credit\",\n    total: true,\n    type: \"number\",\n    width: \"100px\",\n  },\n  {\n    groupId: \"ending\",\n    datakey: \"TotalBalance\",\n    header: \"Balance\",\n    total: true,\n    type: \"number\",\n    width: \"100px\",\n  },\n];\nfunction setupTitle(state: any) {\n  return `UPWARD MANAGEMENT INSURANCE SERVICES\\n${\n    state.dateFormat\n  } Trial Balance (${DateToStringFormat(state)})`;\n}\nfunction DateToStringFormat(state: any) {\n  let dateString = \"\";\n  if (state.dateFormat === \"Daily\") {\n    dateString = state.date.toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n    });\n  } else if (state.dateFormat === \"Monthly\") {\n    dateString = state.date.toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"long\",\n    });\n  }\n\n  return dateString.toString();\n}\nfunction Setting({ state, dispatch }: { state: any; dispatch: any }) {\n  const dateFromRef = useRef<HTMLElement>(null);\n  const { myAxios, user } = useContext(AuthContext);\n  const { data: dataSubAccounts, isLoading: isLoadingSubAccounts } = useQuery({\n    queryKey: \"sub-accounts\",\n    queryFn: async () =>\n      await myAxios.get(\"/reports/accounting/get-sub-account-acronym\", {\n        headers: {\n          Authorization: `Bearer ${user?.accessToken}`,\n        },\n      }),\n  });\n\n  useEffect(() => {\n    dispatch({\n      type: \"UPDATE_FIELD\",\n      field: \"title\",\n      value: setupTitle(state),\n    });\n  }, [state, dispatch]);\n\n  const handleInputChange = (e: any) => {\n    const { name, value } = e.target;\n    dispatch({ type: \"UPDATE_FIELD\", field: name, value });\n  };\n\n  return (\n    <div\n      style={{\n        padding: \"10px\",\n      }}\n    >\n      <TextField\n        label=\"Title\"\n        fullWidth\n        name=\"title\"\n        value={state.title}\n        onChange={handleInputChange}\n        rows={6}\n        multiline\n        InputProps={{\n          style: { height: \"140px\", fontSize: \"12px\" },\n        }}\n        sx={{\n          flex: 1,\n          \".MuiFormLabel-root\": { fontSize: \"14px\" },\n          \".MuiFormLabel-root[data-shrink=false]\": { top: \"-5px\" },\n        }}\n      />\n      <Box\n        sx={(theme) => ({\n          height: \"100%\",\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(1,1fr)\",\n          gap: \"10px\",\n          margin: \"10px 0\",\n          [theme.breakpoints.down(\"sm\")]: {\n            gridTemplateColumns: \"repeat(1,1fr)\",\n          },\n        })}\n      >\n        <FormControl\n          fullWidth\n          variant=\"outlined\"\n          size=\"small\"\n          sx={{\n            \".MuiFormLabel-root\": {\n              fontSize: \"14px\",\n              background: \"white\",\n              zIndex: 99,\n              padding: \"0 3px\",\n            },\n            \".MuiFormLabel-root[data-shrink=false]\": { top: \"-5px\" },\n          }}\n        >\n          <InputLabel id=\"date_format\">Report</InputLabel>\n          <Select\n            labelId=\"date_format\"\n            value={state.dateFormat}\n            label=\"Report\"\n            name=\"dateFormat\"\n            onChange={handleInputChange}\n            sx={{\n              height: \"27px\",\n              fontSize: \"14px\",\n            }}\n          >\n            <MenuItem value={\"Daily\"}>Daily</MenuItem>\n            <MenuItem value={\"Monthly\"}>Monthly</MenuItem>\n          </Select>\n        </FormControl>\n        {isLoadingSubAccounts ? (\n          <LoadingButton loading={isLoadingSubAccounts} />\n        ) : (\n          <FormControl\n            fullWidth\n            variant=\"outlined\"\n            size=\"small\"\n            sx={{\n              \".MuiFormLabel-root\": {\n                fontSize: \"14px\",\n                background: \"white\",\n                zIndex: 99,\n                padding: \"0 3px\",\n              },\n              \".MuiFormLabel-root[data-shrink=false]\": { top: \"-5px\" },\n            }}\n          >\n            <InputLabel id=\"sub_account_id\">Sub Account</InputLabel>\n            <Select\n              labelId=\"sub_account_id\"\n              value={state.sub_acct}\n              label=\"Sub Account\"\n              name=\"sub_acct\"\n              onChange={handleInputChange}\n              sx={{\n                height: \"27px\",\n                fontSize: \"14px\",\n              }}\n            >\n              <MenuItem value={\"All\"}>All</MenuItem>\n              {dataSubAccounts?.data.sub_account.map(\n                (itm: any, idx: number) => {\n                  return (\n                    <MenuItem key={idx} value={itm.Acronym}>\n                      {itm.Acronym}\n                    </MenuItem>\n                  );\n                }\n              )}\n            </Select>\n          </FormControl>\n        )}\n        {state.dateFormat === \"Monthly\" && (\n          <LocalizationProvider dateAdapter={AdapterDateFns}>\n            <DatePicker\n              sx={{\n                width: \"100%\",\n                \".MuiFormLabel-root[data-shrink=false]\": { top: \"-5px\" },\n              }}\n              slotProps={{\n                textField: {\n                  size: \"small\",\n                  name: \"\",\n                  InputLabelProps: {\n                    style: {\n                      fontSize: \"14px\",\n                    },\n                  },\n                  InputProps: {\n                    style: { height: \"27px\", fontSize: \"14px\" },\n                  },\n                },\n              }}\n              label={\"Date\"}\n              views={[\"month\", \"year\"]}\n              value={state.date}\n              onChange={(value) => {\n                dispatch({\n                  type: \"UPDATE_FIELD\",\n                  field: \"date\",\n                  value: value,\n                });\n              }}\n            />\n          </LocalizationProvider>\n        )}\n        {state.dateFormat === \"Daily\" && (\n          <CustomDatePicker\n            fullWidth={true}\n            label=\"Date From\"\n            onChange={(value: any) => {\n              dispatch({\n                type: \"UPDATE_FIELD\",\n                field: \"date\",\n                value: value,\n              });\n            }}\n            value={new Date(state.date)}\n            onKeyDown={(e: any) => {\n              if (e.code === \"Enter\" || e.code === \"NumpadEnter\") {\n                const timeout = setTimeout(() => {\n                  dateFromRef.current?.querySelector(\"button\")?.click();\n                  clearTimeout(timeout);\n                }, 150);\n              }\n            }}\n            datePickerRef={dateFromRef}\n            textField={{\n              InputLabelProps: {\n                style: {\n                  fontSize: \"14px\",\n                },\n              },\n              InputProps: {\n                style: { height: \"27px\", fontSize: \"14px\" },\n              },\n            }}\n          />\n        )}\n      </Box>\n    </div>\n  );\n}\n\nexport default function VATBook() {\n  initialState.title = setupTitle(initialState);\n  const { user, myAxios } = useContext(AuthContext);\n\n  async function onReportSubmit(setData: any, setLoading: any, state: any) {\n    const response = await myAxios.post(\n      \"/reports/accounting/vat-book-vb\",\n      state,\n      {\n        headers: {\n          Authorization: `Bearer ${user?.accessToken}`,\n        },\n      }\n    );\n    const jsonData = await response.data;\n    console.log(jsonData);\n\n    // arrangeData({\n    //   data: jsonData.report,\n    //   column: column,\n    //   beforeArrangeData: (itm) => {\n    //     const columnNumber = column\n    //       .filter((itm: any) => itm.type === \"number\")\n    //       .map((d: any) => d.datakey);\n    //     columnNumber.forEach((datakey: any) => {\n    //       if (itm.hasOwnProperty(datakey)) {\n    //         itm[datakey] = formatNumberWithCommas(\n    //           parseFloat(\n    //             Math.abs(parseFloat(itm[datakey].toString()))\n    //               .toString()\n    //               .replace(/,/g, \"\")\n    //           )\n    //         );\n    //       }\n    //     });\n    //     return itm;\n    //   },\n    //   adjustMaxHeight: 150,\n    // }).then((newData) => {\n    //   setData(newData);\n    //   setLoading(false);\n    // });\n  }\n\n  return (\n    <PrintPreview\n      column={column}\n      initialState={initialState}\n      Setting={(state, dispatch) => (\n        <Setting state={state} dispatch={dispatch} />\n      )}\n      onReportSubmit={onReportSubmit}\n      scaleDefaultValue={90}\n      drawTable={(data, state) => {\n        return data.map((pages: any, pageNumber: number) => {\n          return (\n            <div className=\"page out-page\" key={pageNumber}>\n              <div className=\"header\" style={{ height: \"50px\" }}></div>\n              <div className=\"content\">\n                <table>\n                  <thead>\n                    {state.title.split(\"\\n\").map((t: string, idx: number) => {\n                      return (\n                        <tr key={idx}>\n                          <th\n                            style={{\n                              fontSize: \"14px\",\n                              fontWeight: \"bold\",\n                              textAlign: \"left\",\n                            }}\n                            colSpan={column.length}\n                          >\n                            {t}\n                          </th>\n                        </tr>\n                      );\n                    })}\n                    <tr style={{ height: \"40px\" }}></tr>\n                    <tr>\n                      {groubHeader.map((itm, idx) => {\n                        const colSpan = column.filter(\n                          (itms) => itms.groupId === itm.groupId\n                        );\n                        return (\n                          <th\n                            key={idx}\n                            colSpan={colSpan.length}\n                            style={{\n                              fontSize: \"12.5px\",\n                              fontWeight: \"bold\",\n                              textAlign: \"center\",\n                            }}\n                          >\n                            {itm.groupHeader}\n                          </th>\n                        );\n                      })}\n                    </tr>\n                    <tr>\n                      {column.map((itm: any, rowIdx: number) => {\n                        return (\n                          <th\n                            onDoubleClick={(e) =>\n                              copiedByHeaderOnDoubleClick(e, itm.datakey, data)\n                            }\n                            style={{\n                              width: itm.width,\n                              fontSize: \"12px\",\n                              fontWeight: \"bold\",\n                              borderBottom: \"1px solid black\",\n                              textAlign:\n                                itm.datakey === \"Code\" ||\n                                itm.datakey === \"Title\"\n                                  ? \"left\"\n                                  : \"right\",\n                            }}\n                            key={rowIdx}\n                          >\n                            {itm.header}\n                          </th>\n                        );\n                      })}\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {pages.map((rowItem: any, rowIdx: number) => {\n                      return (\n                        <tr key={rowIdx}>\n                          {column.map((colItem: any, colIdx: number) => {\n                            return (\n                              <td\n                                onClick={columnSelection}\n                                className={`editable not-looking page-${pageNumber}  row-${rowIdx}_col-${colIdx}`}\n                                key={colIdx}\n                                style={{\n                                  fontSize: \"11px\",\n                                  fontWeight: \"500\",\n                                  width: `${colItem.width} !important`,\n                                  textAlign:\n                                    colItem.datakey === \"AssuredName\" ||\n                                    colItem.datakey === \"Mortgagee\"\n                                      ? \"center\"\n                                      : colItem.total ||\n                                        colItem.datakey === \"InsuredValue\"\n                                      ? \"right\"\n                                      : \"left\",\n                                }}\n                              >\n                                {rowItem[colItem.datakey]}\n                              </td>\n                            );\n                          })}\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                  <tfoot>\n                    {pageNumber === data.length - 1 && (\n                      <tr>\n                        <td\n                          style={{\n                            fontWeight: \"bold\",\n                            borderTop: \"1px solid black\",\n                            fontSize: \"11px\",\n                          }}\n                          colSpan={2}\n                        >\n                          No. of Records: {data.flat().length - 1}\n                        </td>\n                        {column.map((itm: any, idx: number) => {\n                          if (!itm.total) {\n                            if (idx < 2) {\n                              return <Fragment key={idx}></Fragment>;\n                            }\n                            return (\n                              <td\n                                key={idx}\n                                style={{\n                                  borderTop: \"1px solid black\",\n                                }}\n                              ></td>\n                            );\n                          }\n                          let flattenedArray = data.flat();\n                          const total = flattenedArray.reduce(\n                            (d: any, itms: any) => {\n                              return (\n                                d +\n                                parseFloat(itms[itm.datakey]?.replace(/,/g, \"\"))\n                              );\n                            },\n                            0\n                          );\n\n                          return (\n                            <td\n                              key={idx}\n                              style={{\n                                borderTop: \"1px solid black\",\n                                fontWeight: \"bold\",\n                                textAlign: \"right\",\n                                fontSize: \"11px\",\n                              }}\n                            >\n                              {isNaN(total)\n                                ? \"0\"\n                                : formatNumberWithCommas(total)}\n                            </td>\n                          );\n                        })}\n                      </tr>\n                    )}\n                  </tfoot>\n                </table>\n              </div>\n              <div\n                className=\"footer\"\n                style={{\n                  height: \"50px\",\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                }}\n              >\n                <p style={{ fontSize: \"10px\", fontWeight: \"bold\" }}>\n                  {format(new Date(), \"dd/MM/yyyy\")}\n                </p>\n                <p style={{ fontSize: \"10px\", fontWeight: \"bold\" }}>\n                  Page {pageNumber + 1} of {data.length}\n                </p>\n              </div>\n            </div>\n          );\n        });\n      }}\n      pageHeight={\"14in\"}\n      pageWidth={\"10.5in\"}\n      addHeaderGroup={\n        <tr>\n          {groubHeader.map((itm, idx) => {\n            const colSpan = column.filter(\n              (itms) => itms.groupId === itm.groupId\n            );\n            return (\n              <th\n                key={idx}\n                colSpan={colSpan.length}\n                style={{\n                  fontSize: \"12.5px\",\n                  fontWeight: \"bold\",\n                  textAlign: \"center\",\n                }}\n              >\n                {itm.groupHeader}\n              </th>\n            );\n          })}\n        </tr>\n      }\n    />\n  );\n}\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}"],"names":["CustomDatePicker","_ref","label","name","onChange","value","onKeyDown","inputRef","datePickerRef","fullWidth","textField","_ref$minWidth","minWidth","rest","_objectWithoutProperties","_excluded","_jsx","LocalizationProvider","dateAdapter","AdapterDateFns","children","DatePicker","_objectSpread","floatingLabelStyle","color","ref","slotProps","size","InputLabelProps","sx","fieldset","borderColor","fontSize","top","initialState","dateFormat","date","Date","sub_acct","title","reducer","state","action","type","_defineProperty","field","groubHeader","groupHeader","groupId","column","datakey","header","width","total","setupTitle","concat","dateString","toLocaleDateString","year","month","day","toString","DateToStringFormat","Setting","_queryFn","dispatch","dateFromRef","useRef","_useContext","useContext","AuthContext","myAxios","user","_useQuery","useQuery","queryKey","queryFn","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","get","headers","Authorization","accessToken","abrupt","sent","stop","apply","arguments","dataSubAccounts","data","isLoadingSubAccounts","isLoading","useEffect","handleInputChange","e","_e$target","target","_jsxs","style","padding","TextField","rows","multiline","InputProps","height","flex","Box","theme","display","gridTemplateColumns","gap","margin","breakpoints","down","FormControl","variant","background","zIndex","InputLabel","id","Select","labelId","MenuItem","LoadingButton","loading","sub_account","map","itm","idx","Acronym","views","code","timeout","setTimeout","_dateFromRef$current","_dateFromRef$current$","current","querySelector","click","clearTimeout","VATBook","_onReportSubmit","_useContext2","PrintPreview","_Setting","onReportSubmit","_x","_x2","_x3","_callee2","setData","setLoading","response","jsonData","_context2","post","console","log","scaleDefaultValue","drawTable","pages","pageNumber","className","split","t","fontWeight","textAlign","colSpan","length","filter","itms","rowIdx","onDoubleClick","copiedByHeaderOnDoubleClick","borderBottom","rowItem","colItem","colIdx","onClick","columnSelection","borderTop","flat","Fragment","reduce","d","_itms$itm$datakey","parseFloat","replace","isNaN","formatNumberWithCommas","justifyContent","format","pageHeight","pageWidth","addHeaderGroup","source","excluded","key","i","Object","getOwnPropertySymbols","sourceSymbolKeys","indexOf","prototype","propertyIsEnumerable","call"],"sourceRoot":""}