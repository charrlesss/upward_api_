"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[1070,2836],{84754:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var r=n(1413),i=n(74165),u=n(15861),o=n(29439),l=n(72791),a=n(36151),c=n(3380),s=n(91933),d=n(21830),f=n.n(d),p=n(39709),v=n(42419),h=n(27247),x=n(29823),y=n(53329),m=n(79018),b=n(4378),w=n(64230),g=n(70272),C=n(37209),S=n(5403),Z=n(11690),k=n(65413),j=n(1441),D=n(80184);function z(){(0,l.useRef)(null);var e,t,n,d,z,R,N=(0,l.useContext)(c.V),A=N.myAxios,E=N.user,K=(0,l.useState)("Individual"),I=(0,o.Z)(K,2),B=I[0],L=I[1],M=(0,l.useState)(""),F=(0,o.Z)(M,2),W=F[0],_=F[1],T=(0,l.useRef)(null),q=(0,l.useRef)(null),V=(0,l.useRef)(null),U=(0,l.useRef)(null),G=(0,l.useRef)(null),H=(0,l.useRef)(null),O=(0,l.useRef)(null),P=(0,l.useRef)(null),Q=(0,l.useRef)(null),Y=(0,l.useRef)(null),J=(0,l.useRef)(null),X=(0,l.useRef)(null),$=(0,l.useRef)(""),ee=(0,l.useRef)(null),te=(0,l.useRef)(null),ne=(0,l.useRef)(null),re=(0,l.useRef)(null),ie=(0,s.useQuery)({queryKey:"client-generate-id",queryFn:function(){return(e=e||(0,u.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("/reference/id-entry-generate-id",{sign:"C",type:"entry client"},{headers:{Authorization:"Bearer ".concat(null===E||void 0===E?void 0:E.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},refetchOnWindowFocus:!1,onSuccess:function(e){(0,m.D)(100).then((function(){V.current&&(V.current.value=e.data.generateID)}))}}),ue=ie.isLoading,oe=ie.refetch,le=(0,s.useMutation)({mutationKey:"add-client",mutationFn:function(e){return(t=t||(0,u.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("/reference/id-entry-client",t,{headers:{Authorization:"Bearer ".concat(null===E||void 0===E?void 0:E.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:Se}),ae=le.mutate,ce=le.isLoading,se=(0,s.useMutation)({mutationKey:"edit-client",mutationFn:function(e){return(n=n||(0,u.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("/reference/id-entry-client-update",t,{headers:{Authorization:"Bearer ".concat(null===E||void 0===E?void 0:E.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:Se}),de=se.mutate,fe=se.isLoading,pe=(0,s.useMutation)({mutationKey:"delete-client",mutationFn:function(e){return(d=d||(0,u.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("/reference/entry-delete?entry=Client",t,{headers:{Authorization:"Bearer ".concat(null===E||void 0===E?void 0:E.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:Se}),ve=pe.mutate,he=pe.isLoading,xe=(0,s.useMutation)({mutationKey:"search",mutationFn:function(e){return(z=z||(0,u.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("/reference/search-entry?entrySearch=".concat(null===(n=q.current)||void 0===n?void 0:n.value,"&entry=Client"),t,{headers:{Authorization:"Bearer ".concat(null===E||void 0===E?void 0:E.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){T.current.setDataFormated(null===e||void 0===e?void 0:e.data.entry)}}),ye=xe.isLoading,me=xe.mutate,be=(0,s.useQuery)({queryKey:"sub-accounts",queryFn:function(){return(R=R||(0,u.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/reference/sub-account",{headers:{Authorization:"Bearer ".concat(null===E||void 0===E?void 0:E.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){(0,m.D)(100).then((function(){var t;J.current.setDataSource(null===(t=e.data)||void 0===t?void 0:t.subAccount),(0,m.D)(100).then((function(){var t,n=null===(t=e.data)||void 0===t?void 0:t.subAccount.filter((function(e){return"HO"===e.Acronym}));X.current&&(X.current.value=n[0].ShortName),J.current=n[0].Sub_Acct}))}))}}),we=be.isLoading,ge=be.refetch,Ce=(0,l.useRef)(me);function Se(e){if(e.data.success)return Ze(),_(""),T.current.setSelectedRow(null),Ce.current({search:"",entry:"Client"}),f().fire({position:"center",icon:"success",title:e.data.message,showConfirmButton:!1,timer:1500});f().fire({position:"center",icon:"error",title:e.data.message,showConfirmButton:!1,timer:1500})}function Ze(){(0,m.D)(100).then((function(){oe(),ge(),L("Individual"),U.current&&(U.current.value="Individual"),G.current&&(G.current.value=""),H.current&&(H.current.value=""),O.current&&(O.current.value=""),P.current&&(P.current.value=""),Q.current&&(Q.current.value=""),Y.current&&(Y.current.value=""),ee.current&&(ee.current.value=""),te.current&&(te.current.value=""),ne.current&&(ne.current.value=""),re.current&&(re.current.value=""),$.current=""}))}return(0,l.useEffect)((function(){Ce.current({search:"",entry:"Client"})}),[]),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(g.Z,{title:"ID Entry - Client"}),ye&&(0,D.jsx)(k.g,{}),(0,D.jsxs)("div",{style:{display:"flex",columnGap:"10px",marginBottom:"10px"},children:[(0,D.jsx)(C.oi,{containerStyle:{width:"500px"},label:{title:"Search: ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{className:"search-input-up-on-key-down",type:"search",onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),me({search:e.currentTarget.value,entry:"Client"}))},style:{width:"100%"}},icon:(0,D.jsx)(S.Z,{sx:{fontSize:"18px"}}),onIconClick:function(e){e.preventDefault(),q.current&&me({search:q.current.value,entry:"Client"})},inputRef:q}),(0,D.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"5px",marginLeft:"10px"},children:[""===W&&(0,D.jsx)(a.Z,{variant:"contained",startIcon:(0,D.jsx)(v.Z,{}),id:"entry-header-save-button",sx:{height:"22px",fontSize:"11px"},onClick:function(){oe(),_("add")},children:"New"}),(0,D.jsx)(p.Z,{id:"save-entry-header",color:"primary",variant:"contained",type:"submit",sx:{height:"22px",fontSize:"11px"},onClick:function(e){var t,n,i,u,o,l,a,c,s,d,p,v,h,x;if("Individual"===(null===(t=U.current)||void 0===t?void 0:t.value)){var y,m;if(""===(null===(y=G.current)||void 0===y?void 0:y.value))return f().fire({position:"center",icon:"error",title:"Firstname is required!",showConfirmButton:!1,timer:1500});if(""===(null===(m=O.current)||void 0===m?void 0:m.value))return f().fire({position:"center",icon:"error",title:"Lastname is required!",showConfirmButton:!1,timer:1500})}else{var b;if(""===(null===(b=P.current)||void 0===b?void 0:b.value))return f().fire({position:"center",icon:"error",title:"Full Name is required!",showConfirmButton:!1,timer:1500})}if(""===(null===(n=X.current)||void 0===n?void 0:n.value))return f().fire({position:"center",icon:"error",title:"Sub Account is required!",showConfirmButton:!1,timer:1500});var g={entry_client_id:null===(i=V.current)||void 0===i?void 0:i.value,option:null===(u=U.current)||void 0===u?void 0:u.value,firstname:null===(o=G.current)||void 0===o?void 0:o.value.toLocaleUpperCase(),middlename:null===(l=H.current)||void 0===l?void 0:l.value.toLocaleUpperCase(),lastname:null===(a=O.current)||void 0===a?void 0:a.value.toLocaleUpperCase(),company:null===(c=P.current)||void 0===c?void 0:c.value.toLocaleUpperCase(),auth_representative:null===(s=Q.current)||void 0===s?void 0:s.value,suffix:null===(d=Y.current)||void 0===d?void 0:d.value,sub_account:$.current,mobile:null===(p=ee.current)||void 0===p?void 0:p.value,client_mortgagee:null===(v=te.current)||void 0===v?void 0:v.value,tin:null===(h=ne.current)||void 0===h?void 0:h.value,address:null===(x=re.current)||void 0===x?void 0:x.value,email:"",telephone:""};e.preventDefault(),"edit"===W?(0,w.s)({isUpdate:!0,cb:function(e){de((0,r.Z)((0,r.Z)({},g),{},{userCodeConfirmation:e}))}}):(0,w.L)({isConfirm:function(){ae(g)}})},startIcon:(0,D.jsx)(y.Z,{}),disabled:""===W,loading:ce||fe,children:"Save"}),(0,D.jsx)(p.Z,{disabled:""===W,id:"save-entry-header",variant:"contained",sx:{height:"22px",fontSize:"11px",backgroundColor:b.Z[500],"&:hover":{backgroundColor:b.Z[600]}},loading:he,startIcon:(0,D.jsx)(h.Z,{}),onClick:function(){(0,w.s)({isUpdate:!1,cb:function(e){var t;ve({id:null===(t=V.current)||void 0===t?void 0:t.value,userCodeConfirmation:e})}})},children:"Delete"}),""!==W&&(0,D.jsx)(a.Z,{sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,D.jsx)(x.Z,{}),color:"error",onClick:function(){f().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&(Ze(),_(""),T.current.setSelectedRow(null))}))},children:"Cancel"})]})]}),(0,D.jsxs)("div",{style:{display:"flex",columnGap:"20px"},children:[(0,D.jsxs)("div",{style:{display:"flex",flexDirection:"column",rowGap:"10px",flex:1},children:[ue?(0,D.jsx)(p.Z,{loading:ue}):(0,D.jsx)(C.oi,{label:{title:"Client ID : ",style:{fontSize:"12px",fontWeight:"bold",width:"130px"}},input:{disabled:""===W,readOnly:!0,type:"text",style:{width:"100%",height:"22px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=U.current)||void 0===t||t.focus())}},inputRef:V}),(0,D.jsx)(C.lq,{label:{title:"Option : ",style:{fontSize:"12px",fontWeight:"bold",width:"130px"}},selectRef:U,select:{disabled:""===W,value:B,style:{width:"100%",height:"22px"},onKeyDown:function(e){var t,n;"NumpadEnter"!==e.code&&"Enter"!==e.code||(e.preventDefault(),"Individual"===B?null===(t=G.current)||void 0===t||t.focus():null===(n=P.current)||void 0===n||n.focus())},onChange:function(e){L(e.currentTarget.value)}},datasource:[{key:"Individual",value:"Individual"},{key:"Company",value:"Company"}],values:"value",display:"key"}),"Individual"===B&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(C.oi,{label:{title:"First Name : ",style:{fontSize:"12px",fontWeight:"bold",width:"130px"}},input:{disabled:""===W,type:"text",style:{width:"100%",height:"22px",textTransform:"uppercase"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=H.current)||void 0===t||t.focus())}},inputRef:G}),(0,D.jsx)(C.oi,{label:{title:"Middle Name : ",style:{fontSize:"12px",fontWeight:"bold",width:"130px"}},input:{disabled:""===W,type:"text",style:{width:"100%",height:"22px",textTransform:"uppercase"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=O.current)||void 0===t||t.focus())}},inputRef:H}),(0,D.jsx)(C.oi,{label:{title:"Last Name : ",style:{fontSize:"12px",fontWeight:"bold",width:"130px"}},input:{disabled:""===W,type:"text",style:{width:"100%",height:"22px",textTransform:"uppercase"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=Y.current)||void 0===t||t.focus())}},inputRef:O})]}),"Company"===B&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(C.Fz,{label:{title:"Full Name : ",style:{fontSize:"12px",fontWeight:"bold",width:"130px"}},textarea:{disabled:""===W,style:{width:"100%",height:"50px"},onKeyDown:function(e){var t;(e.stopPropagation(),"NumpadEnter"===e.code&&!e.shiftKey||"Enter"===e.code&&!e.shiftKey)&&(null===(t=Q.current)||void 0===t||t.focus())}},_inputRef:P}),(0,D.jsx)(C.oi,{label:{title:"Authorize Representative: ",style:{fontSize:"12px",fontWeight:"bold",width:"130px"}},input:{disabled:""===W,type:"text",style:{width:"100%",height:"22px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=Y.current)||void 0===t||t.focus())}},inputRef:Q})]})]}),(0,D.jsxs)("div",{style:{display:"flex",flexDirection:"column",rowGap:"10px",marginBottom:"40px",flex:1},children:[(0,D.jsx)(C.oi,{label:{title:"Suffix : ",style:{fontSize:"12px",fontWeight:"bold",width:"110px"}},input:{disabled:""===W,type:"text",style:{width:"100%",height:"22px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=X.current)||void 0===t||t.focus())}},inputRef:Y}),we?(0,D.jsx)(p.Z,{loading:we}):(0,D.jsx)(j.Autocomplete,{disableInput:""===W,ref:J,containerStyle:{width:"100%"},label:{title:"Branch : ",style:{fontSize:"12px",fontWeight:"bold",width:"110px"}},DisplayMember:"ShortName",DataSource:[],inputRef:X,input:{style:{width:"100%"}},onChange:function(e,t){X.current&&(X.current.value=e.ShortName),console.log(e),$.current=e.Sub_Acct},onKeydown:function(e){var t;"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),null===(t=ee.current)||void 0===t||t.focus())}}),(0,D.jsx)(C.oi,{label:{title:"Mobile No. : ",style:{fontSize:"12px",fontWeight:"bold",width:"110px"}},input:{disabled:""===W,type:"text",style:{width:"100%",height:"22px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=te.current)||void 0===t||t.focus())}},inputRef:ee}),(0,D.jsx)(C.lq,{label:{title:"Mortgagee : ",style:{fontSize:"12px",fontWeight:"bold",width:"110px"}},selectRef:te,select:{disabled:""===W,style:{width:"100%",height:"22px"},defaultValue:"",onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(e.preventDefault(),null===(t=ne.current)||void 0===t||t.focus())}},datasource:[{value:""},{value:"Camfin Lending Inc."},{value:"Cash Management Fiannce Inc."},{value:"Credit Masters and Lending Investors COrp."}],values:"value",display:"value"}),(0,D.jsx)(C.oi,{label:{title:"TIN : ",style:{fontSize:"12px",fontWeight:"bold",width:"110px"}},input:{disabled:""===W,type:"text",style:{width:"100%",height:"22px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=re.current)||void 0===t||t.focus())}},inputRef:ne})]}),(0,D.jsx)("div",{style:{display:"flex",flexDirection:"column",rowGap:"10px",marginBottom:"40px",flex:1},children:(0,D.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,D.jsx)("label",{style:{fontSize:"12px",fontWeight:"bold"},children:"Address :"}),(0,D.jsx)(C.Fz,{label:{title:"Address : ",style:{fontSize:"12px",fontWeight:"bold",width:"110px",display:"none"}},textarea:{disabled:""===W,style:{width:"100%",height:"126px"},onKeyDown:function(e){e.stopPropagation(),"NumpadEnter"===e.code&&!e.shiftKey||"Enter"===e.code&&e.shiftKey}},_inputRef:re})]})})]}),(0,D.jsx)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",flex:1},children:(0,D.jsx)(Z.BW,{height:"350px",ref:T,rows:[],columns:[{key:"entry_client_id",label:"ID",width:130},{key:"company",label:"Company",width:200},{key:"firstname",label:"First Name",width:200},{key:"lastname",label:"Last Name",width:200},{key:"middlename",label:"Middle Name",width:200},{key:"suffix",label:"Suffix",width:130},{key:"mobile",label:"Mobile",width:200},{key:"auth_representative",label:"Authorize Representative",width:200},{key:"NewShortName",label:"Sub Account",width:130},{key:"option",label:"Option",width:130},{key:"tin",label:"TIN",width:130},{key:"createdAt",label:"Created At",width:130},{key:"address",label:"Address",width:500},{key:"client_mortgagee",label:"Mortgagee",width:300},{key:"sub_account",label:"sub_account",width:300,hidde:!0},{key:"ShortName",label:"ShortName",width:300,hidde:!0}],getSelectedItem:function(e,t,n){if(!e)return T.current.setSelectedRow(null),Ze(),void _("");_("edit"),L(e[9]),(0,m.D)(100).then((function(){V.current&&(V.current.value=e[0]),U.current&&(U.current.value=e[9]),G.current&&(G.current.value=e[2]),H.current&&(H.current.value=e[4]),O.current&&(O.current.value=e[3]),P.current&&(P.current.value=e[1]),Q.current&&(Q.current.value=e[7]),Y.current&&(Y.current.value=e[5]),X.current&&(X.current.value=e[15]),ee.current&&(ee.current.value=e[6]),te.current&&(te.current.value=e[13]),ne.current&&(ne.current.value=e[10]),re.current&&(re.current.value=e[12]),$.current=e[14]}))},onKeyDown:function(e,t,n){"Delete"!==n.code&&"Backspace"!==n.code||(0,m.D)(100).then((function(){(0,w.s)({isUpdate:!1,cb:function(t){ve({id:e[0],userCodeConfirmation:t})}})}))}})})]})}},42419:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),u=n(80184),o=(0,i.default)((0,u.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=o},27247:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),u=n(80184),o=(0,i.default)((0,u.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=o},85172:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),u=n(80184),o=(0,i.default)((0,u.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");t.Z=o},86753:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),u=n(80184),o=(0,i.default)((0,u.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8zm-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91z"}),"RestartAlt");t.Z=o},53329:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),u=n(80184),o=(0,i.default)((0,u.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=o},5403:function(e,t,n){var r=n(64836);t.Z=void 0;var i=r(n(45649)),u=n(80184),o=(0,i.default)((0,u.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},4378:function(e,t){t.Z={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"}}}]);
//# sourceMappingURL=1070.26f08d44.chunk.js.map