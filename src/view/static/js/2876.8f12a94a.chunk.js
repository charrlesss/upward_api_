"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[2876],{81582:function(e,t,n){n.d(t,{XT:function(){return h},ZP:function(){return f},rO:function(){return p}});n(72791);var r=n(88447),o=n(64554),i=n(20890),a=n(27391),l=n(13400),u=n(29823),c=n(89767),d=n(80184),s={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",bgcolor:"background.paper",boxShadow:24,p:4,heigth:"auto"};function f(e){var t=e.height,n=e.isLoading,f=(e.queryKey,e.columns),v=e.onSelectionChange,x=(e.setRows,e.rows),m=e.id,g=e.onCloseModal,y=e.showModal,w=e.onClickCloseIcon,b=e.searchOnChange,C=e.title,S=void 0===C?"":C,j=e.searchRef,D=(e.onCellKeyDown,e.onSearchKeyEnter),N=void 0===D?function(){}:D,Z=e.isRowSelectable,k=e.getCellClassName,I=h();return(0,d.jsx)(r.Z,{open:y,onClose:g,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,d.jsxs)(o.Z,{sx:s,children:[(0,d.jsx)(i.Z,{id:"modal-modal-title",variant:"h6",component:"h2",mb:2,children:S}),(0,d.jsx)(a.Z,{size:"small",label:"Search",sx:{marginBottom:"10px"},fullWidth:!0,onChange:b,InputProps:{inputRef:j},onKeyDown:function(e){var t;"Enter"!==e.code&&"NumpadEnter"!==e.code||(e.preventDefault(),N(null===j||void 0===j||null===(t=j.current)||void 0===t?void 0:t.value));p(e,I,null===j||void 0===j?void 0:j.current)}}),(0,d.jsx)("div",{className:"".concat(I," main-table-selection-container"),style:{position:"relative",height:"".concat(t+20,"px")},children:(0,d.jsx)(c.Z,{isSingleSelection:!0,isRowFreeze:!1,columns:f,isLoading:n,dataSelection:function(e,t,n){v(e,t)},table_id:m,rows:x,isRowSelectable:Z,getCellClassName:k})}),(0,d.jsx)("div",{style:{position:"absolute",top:"10px",right:"10px"},children:(0,d.jsx)(l.Z,{"aria-label":"search-client",color:"secondary",onClick:w,children:(0,d.jsx)(u.Z,{})})})]})})}function h(){return"main-"+Math.floor(1e4*Math.random())}function p(e,t,n){var r=t;if("ArrowDown"===e.code){var o,i=document.querySelectorAll(".".concat(r," .MuiDataGrid-row"));e.preventDefault(),null===(o=i[0])||void 0===o||o.classList.add("hover-keyboard"),function(e,t){var n=document.querySelector(".".concat(e," .MuiDataGrid-row")),r=null===n||void 0===n?void 0:n.querySelector("input");null===r||void 0===r||r.focus();var o=new MouseEvent("mouseenter",{bubbles:!0,cancelable:!0,view:window});null===n||void 0===n||n.dispatchEvent(o),null===r||void 0===r||r.addEventListener("keydown",(function(e){"ArrowUp"===e.key&&(e.preventDefault(),t.focus()),"ArrowUp"===e.key&&(null===n||void 0===n||n.classList.remove("hover-keyboard"))}))}(t,n),i.forEach((function(e,t){e.addEventListener("keydown",(function(e){if("ArrowUp"===e.key){var n,r;if(t<=0)return;return e.preventDefault(),null===(n=i[t])||void 0===n||n.classList.remove("hover-keyboard"),void(null===(r=i[t-1])||void 0===r||r.classList.add("hover-keyboard"))}if("ArrowDown"===e.key){var o,a;if(e.preventDefault(),t>=i.length-1)return;null===(o=i[t])||void 0===o||o.classList.remove("hover-keyboard"),null===(a=i[t+1])||void 0===a||a.classList.add("hover-keyboard")}}))}))}}},89767:function(e,t,n){var r=n(93433),o=n(1413),i=n(29439),a=n(72791),l=n(57482),u=n(64554),c=n(70561),d=n(29961),s=n(54277),f=n(70169),h=n(5794),p=n(16088),v=n(80184),x=(0,a.createContext)({rows:[],rowSelectionModel:[],footerChildren:function(){return(0,v.jsx)("div",{})},footerPaginationPosition:"right-left",showFooterSelectedCount:!0}),m=(0,a.forwardRef)((function(e,t){var n=e.isLoading,u=e.columns,d=e.rows,s=e.table_id,f=e.isSingleSelection,h=e.isRowFreeze,p=e.dataSelection,m=e.CustomFooterComponent,g=void 0===m?w:m,y=e.isRowSelectable,b=e.getCellClassName,C=e.checkboxSelection,S=void 0===C||C,j=e.footerChildren,D=void 0===j?function(e,t){return(0,v.jsx)("div",{})}:j,N=e.footerPaginationPosition,Z=void 0===N?"right-left":N,k=e.showFooterSelectedCount,I=void 0===k||k,T=(0,a.useState)([]),A=(0,i.Z)(T,2),E=A[0],R=A[1];function M(e,t,n){p&&p(e,t,n)}(0,a.useImperativeHandle)(t,(function(){return{removeSelection:function(){R([])},getSelectedRows:function(){return d.filter((function(e){return null===E||void 0===E?void 0:E.includes(e[s])}))},setSelectedRows:function(e){R(e)}}}));var z=[];return(0,v.jsx)(x.Provider,{value:{showFooterSelectedCount:I,footerPaginationPosition:Z,rowSelectionModel:E,rows:d,footerChildren:D},children:(0,v.jsx)(c._$,{slots:{loadingOverlay:l.Z,footer:g},initialState:{pagination:{paginationModel:{pageSize:35}}},loading:n,getRowId:function(e){return e[s]},columns:u.filter((function(e){return!e.hide})),rows:d,showCellVerticalBorder:!0,showColumnVerticalBorder:!0,checkboxSelection:S,rowSelectionModel:E,rowHeight:25,columnHeaderHeight:35,pageSizeOptions:[10,20,35,50,75,100],sx:(0,o.Z)((0,o.Z)({"& .cash":{color:"#ec4899"},"& .check":{color:"#0891b2"},"& .approved":{color:"green"},"& .pending":{color:"orange"},"& .disapproved":{color:"red"},"& .normal":{color:"red"},"& .MuiDataGrid-row.Mui-selected:hover":{color:"black","& .MuiSvgIcon-root ":{fill:"#3b82f6"}},"& .hover-keyboard":{background:"#2563eb",color:"white","& .MuiSvgIcon-root ":{fill:"white"}},"& .MuiDataGrid-row:hover":{background:"#2563eb",color:"white","& .MuiSvgIcon-root ":{fill:"white"}},"& .MuiDataGrid-row.hover":{background:"#2563eb",color:"white","& .MuiSvgIcon-root ":{fill:"white"}},"& .MuiTablePagination-root p ":{padding:"0 !important"}},{"& .MuiDataGrid-columnHeaders":{background:"#64748b",color:"white",fontSize:"14px"},"& .MuiDataGrid-columnHeaderCheckbox .MuiDataGrid-columnHeaderTitleContainer .MuiSvgIcon-root ":{display:f||h?"none":"block",fill:"white"},"& .MuiDataGrid-columnHeaderCheckbox .MuiDataGrid-columnHeaderTitleContainer input ":{display:f||h?"none":"block"}}),{fontSize:13,fontWeight:500,"& .MuiDataGrid-checkboxInput":{height:"27px",width:"27px"},"& .MuiDataGrid-checkboxInput svg":{height:"20px",width:"20px"}}),onRowSelectionModelChange:function(e){if(h){if(e.length<=0)return;if(z=e,E.includes(z[z.length-1]))return;return R(e),void M([e[e.length-1]],d,null)}if(!h&&f)if(E&&(null===E||void 0===E?void 0:E.length)>0){var t=new Set(E);R(e.filter((function(e){return!t.has(e)})))}else R(e);else R(e);M([e[e.length-1]],d,null)},onCellKeyDown:function(e,t){if(["NumpadEnter","Enter","Delete","Backspace"].includes(t.code))return t.preventDefault(),"Enter"===t.code||"NumpadEnter"===t.code?f&&!h?R((function(n){return n&&n.length>0&&n[0]===e.rowNode.id?(M([],d,t.code),[]):(M([e.rowNode.id],d,t.code),[e.rowNode.id])})):void R((function(n){return n&&!h&&n.length>0&&n.includes(e.rowNode.id)?(n=n.filter((function(t){return t!==e.rowNode.id})),M([],d,t.code),n):n&&h&&n.length>0&&n.includes(e.rowNode.id)?n:(M([e.rowNode.id],d,t.code),[].concat((0,r.Z)(n),[e.rowNode.id]))})):"Delete"===t.code||"Backspace"===t.code?(R([e.rowNode.id]),M([e.rowNode.id],d,t.code)):void 0},disableVirtualization:!0,isRowSelectable:y,getCellClassName:b})})}));function g(e){var t=e.page,n=e.onPageChange,r=e.className,o=(0,d.l)(),i=(0,s.P)(o,f.UB);return(0,v.jsx)(p.Z,{variant:"outlined",color:"primary",className:r,count:i,page:t+1,onChange:function(e,t){n(e,t-1)}})}function y(e){return(0,v.jsx)(h.x,(0,o.Z)({ActionsComponent:g},e))}function w(e){var t=(0,a.useContext)(x),n=t.rowSelectionModel,r=t.showFooterSelectedCount,i=t.footerPaginationPosition,l=t.footerChildren,c=t.rows;return(0,v.jsxs)(u.Z,{sx:{columnGap:"50px",display:"flex",width:"100%",justifyContent:"space-between",px:3,alignItems:"center",flexDirection:"right-left"===i?"row-reverse":"row"},children:[(0,v.jsx)(y,(0,o.Z)({},e)),(0,v.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"right-left"===i?"flex-start":"flex-end",flex:1,alignItems:"center"},children:[r&&(0,v.jsxs)("div",{children:["Selected:",null===n||void 0===n?void 0:n.length]}),(0,v.jsx)("div",{children:l(n,c)})]})]})}t.Z=m},89425:function(e,t,n){n.r(t),n.d(t,{default:function(){return $},reducer:function(){return Q}});var r=n(93433),o=n(74165),i=n(15861),a=n(29439),l=n(4942),u=n(1413),c=n(72791),d=n(27391),s=n(36151),f=n(88447),h=n(64554),p=n(13400),v=n(20890),x=n(85523),m=n(94454),g=n(68096),y=n(94925),w=n(58406),b=n(23786),C=n(67442),S=n(39709),j=n(42419),D=n(29823),N=n(21830),Z=n.n(N),k=n(3380),I=n(91933),T=n(93263),A=n(79018),E=n(84669),R=n(71652),M=n(93862),z=n(93777),F=n(95643),L=n(16656),B=n(5519),P=n(64230),K=n(81582),_=n(54164),q=n(53329),U=n(2548),V=n(37209),G=n(42249),W=n(85545),H=n(84072),O=n(16386),J=n(80184),Y={totalDebit:"",totalCredit:"",totalBalance:"",jobAutoExp:!1,jobTransactionDate:new Date,jobType:"",search:""},Q=function(e,t){return"UPDATE_FIELD"===t.type?(0,u.Z)((0,u.Z)({},e),{},(0,l.Z)({},t.field,t.value)):e},X=[{field:"code",headerName:"Code",width:150},{field:"acctName",headerName:"Account Name",width:300},{field:"subAcctName",headerName:"Sub Account",width:170},{field:"ClientName",headerName:"Name",width:300},{field:"debit",headerName:"Debit",width:120,type:"number"},{field:"credit",headerName:"Credit",width:120,type:"number"},{field:"TC_Code",headerName:"TC",width:120},{field:"remarks",headerName:"Remarks",flex:1,width:300},{field:"vatType",headerName:"Vat Type",width:120},{field:"invoice",headerName:"Invoice",width:200},{field:"TempID",headerName:"TempId",hide:!0},{field:"IDNo",headerName:"I.D.",width:300,hide:!0},{field:"BranchCode",headerName:"BranchCode",width:300,hide:!0}];function $(){var e,t,n,l,u,N=(0,c.useState)(null),$=(0,a.Z)(N,2),ee=$[0],te=$[1],ne=(0,c.useState)(""),re=(0,a.Z)(ne,2),oe=re[0],ie=re[1],ae=(0,c.useRef)(null),le=(0,c.useRef)(null),ue=(0,c.useRef)(null),ce=(0,c.useRef)(null),de=(0,c.useRef)(null),se=(0,c.useRef)(null),fe=(0,c.useRef)(null),he=(0,c.useRef)(null),pe=(0,c.useRef)(null),ve=(0,c.useRef)(null),xe=(0,c.useRef)(null),me=(0,c.useRef)(null),ge=(0,c.useRef)(null),ye=(0,c.useRef)(null),we=(0,c.useRef)(""),be=(0,c.useRef)(""),Ce=(0,c.useRef)(""),Se=(0,K.XT)(),je=(0,c.useContext)(k.V),De=je.myAxios,Ne=je.user,Ze=(0,c.useReducer)(Q,Y),ke=(0,a.Z)(Ze,2),Ie=ke[0],Te=ke[1],Ae=(0,c.useState)(!1),Ee=(0,a.Z)(Ae,2),Re=Ee[0],Me=Ee[1],ze=(0,c.useState)([]),Fe=(0,a.Z)(ze,2),Le=Fe[0],Be=Fe[1],Pe=(0,I.useQueryClient)(),Ke=(0,c.useRef)(null),_e=(0,c.useRef)(null),qe=(0,c.useRef)(null),Ue=(0,c.useRef)(null),Ve=(0,c.useRef)(null),Ge="add"===oe,We="update"===oe,He=""===oe,Oe=(0,I.useQuery)({queryKey:"general-journal-id-generator",queryFn:function(){return(e=e||(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.get("/task/accounting/general-journal/get-general-journal-id",{headers:{Authorization:"Bearer ".concat(null===Ne||void 0===Ne?void 0:Ne.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},refetchOnWindowFocus:!1,onSuccess:function(e){var t,n=e;We?Te({type:"UPDATE_FIELD",field:"refNo",value:null!==(t=Ie.sub_refNo)&&void 0!==t?t:""}):(0,A.D)(100).then((function(){ae.current&&(ae.current.value=n.data.generateGeneralJournalID[0].general_journal_id),le.current&&(le.current.value=n.data.generateGeneralJournalID[0].general_journal_id),ue.current&&(ue.current.value=(0,O.Z)(new Date,"yyyy-MM-dd")),ge.current&&(ge.current.value="Non-VAT")}))}}),Je=Oe.isLoading,Ye=Oe.refetch,Qe=(0,I.useMutation)({mutationKey:"add-journal-voucher",mutationFn:function(e){return(t=t||(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.post("/task/accounting/general-journal/add-general-journal",t,{headers:{Authorization:"Bearer ".concat(null===Ne||void 0===Ne?void 0:Ne.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;return t.data.success?(Pe.invalidateQueries("search-general-journal"),function(e,t){Object.entries(t).forEach((function(t){var n=(0,a.Z)(t,2),r=n[0],o=n[1];e({type:"UPDATE_FIELD",field:r,value:o})}))}(Te,Y),Ye(),Be([]),ie(""),Z().fire({position:"center",icon:"success",title:t.data.message,timer:1500})):Z().fire({position:"center",icon:"warning",title:t.data.message,timer:1500})}}),Xe=Qe.mutate,$e=Qe.isLoading,et=(0,I.useMutation)({mutationKey:"jobs",mutationFn:function(e){return(n=n||(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.post("/task/accounting/general-journal/jobs",t,{headers:{Authorization:"Bearer ".concat(null===Ne||void 0===Ne?void 0:Ne.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;Be([]),Be(t.data.jobs),Me(!1),ie("")}}),tt=et.mutate,nt=et.isLoading,rt=(0,I.useMutation)({mutationKey:"void-journal-voucher",mutationFn:function(e){return(l=l||(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.post("/task/accounting/general-journal/void-general-journal",t,{headers:{Authorization:"Bearer ".concat(null===Ne||void 0===Ne?void 0:Ne.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;return t.data.success?(Pe.invalidateQueries("search-general-journal"),Ye(),Be([]),ie(""),Z().fire({position:"center",icon:"success",title:t.data.message,timer:1500})):Z().fire({position:"center",icon:"warning",title:t.data.message,timer:1500})}}),ot=rt.mutate,it=rt.isLoading,at=(0,I.useMutation)({mutationKey:"get-selected-search-general-journal",mutationFn:function(e){return(u=u||(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.post("/task/accounting/general-journal/get-selected-search-general-journal",t,{headers:{Authorization:"Bearer ".concat(null===Ne||void 0===Ne?void 0:Ne.accessToken)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e.data.getSelectedSearchGeneralJournal,n=t[0],r=n.explanation,o=n.dateEntry,i=n.refNo;ae.current&&(ae.current.value=i),ue.current&&(ue.current.value=(0,O.Z)(new Date(o),"yyyy-MM-dd")),ce.current&&(ce.current.value=r),Be(t)}}),lt=at.mutate,ut=at.isLoading,ct=(0,T.Z)({link:{url:"/task/accounting/general-journal/search-general-journal",queryUrlName:"searchGeneralJournal"},columns:[{field:"Date_Entry",headerName:"Date",width:130},{field:"Source_No",headerName:"Ref No.",width:250},{field:"Explanation",headerName:"Explanation",flex:1}],queryKey:"search-general-journal",uniqueId:"Source_No",responseDataKey:"searchGeneralJournal",onSelected:function(e,t){lt({Source_No:e[0].Source_No}),ie("update"),Be([]),Ue.current.resetTableSelected(),ht(),Tt()},onCloseFunction:function(e){Te({type:"UPDATE_FIELD",field:"search",value:e})},searchRef:_e}),dt=ct.ModalComponent,st=ct.openModal,ft=ct.isLoading,ht=ct.closeModal,pt=(0,T.Z)({link:{url:"/task/accounting/general-journal/get-chart-account",queryUrlName:"chartAccountSearch"},columns:[{field:"Acct_Code",headerName:"Account Code",width:130},{field:"Acct_Title",headerName:"Account Title.",width:250},{field:"Short",headerName:"Short",flex:1}],queryKey:"get-chart-account",uniqueId:"Acct_Code",responseDataKey:"getChartOfAccount",onSelected:function(e,t){de.current&&(de.current.value=e[0].Acct_Code),se.current&&(se.current.value=e[0].Acct_Title),gt(),setTimeout((function(){var e;null===(e=he.current)||void 0===e||e.focus()}),250)},searchRef:_e}),vt=pt.ModalComponent,xt=pt.openModal,mt=pt.isLoading,gt=pt.closeModal,yt=(0,T.Z)({link:{url:"/task/accounting/search-pdc-policy-id",queryUrlName:"searchPdcPolicyIds"},columns:[{field:"Type",headerName:"Type",width:130},{field:"IDNo",headerName:"ID No.",width:200},{field:"Name",headerName:"Name",flex:1},{field:"ID",headerName:"ID",hide:!0}],queryKey:"get-policyId-ClientId-RefId",uniqueId:"IDNo",responseDataKey:"clientsId",onSelected:function(e){var t,n;he.current&&(he.current.value=null!==(t=e[0].Name)&&void 0!==t?t:"");fe.current&&(fe.current.value=null!==(n=e[0].ShortName)&&void 0!==n?n:"");we.current=e[0].IDNo,be.current=e[0].sub_account,St(),setTimeout((function(){var e;null===(e=pe.current)||void 0===e||e.focus()}),200)},searchRef:qe}),wt=yt.ModalComponent,bt=yt.openModal,Ct=yt.isLoading,St=yt.closeModal,jt=(0,T.Z)({link:{url:"/task/accounting/general-journal/get-transaction-account",queryUrlName:"transactionCodeSearch"},columns:[{field:"Code",headerName:"Code",width:130},{field:"Description",headerName:"Description",flex:1}],queryKey:"get-transaction-account",uniqueId:"Code",responseDataKey:"getTransactionAccount",onSelected:function(e){xe.current&&(xe.current.value=e[0].Code),Ce.current=e[0].Description,kt(),setTimeout((function(){var e;null===(e=me.current)||void 0===e||e.focus()}),200)},searchRef:qe}),Dt=jt.ModalComponent,Nt=jt.openModal,Zt=jt.isLoading,kt=jt.closeModal,It=function(e){var t=e.target,n=t.name,r=t.value;Te({type:"UPDATE_FIELD",field:n,value:r})};function Tt(){de.current&&(de.current.value=""),se.current&&(se.current.value=""),he.current&&(he.current.value=""),fe.current&&(fe.current.value=""),xe.current&&(xe.current.value=""),pe.current&&(pe.current.value=""),ve.current&&(ve.current.value=""),me.current&&(me.current.value=""),ge.current&&(ge.current.value=""),ye.current&&(ye.current.value=""),Ce.current="",we.current="",be.current=""}function At(){var e,t,n,o,i,a,l;if(de.current&&""===de.current.value)return Z().fire({position:"center",icon:"warning",title:"Code is required!",timer:1500}).then((function(){return xt(Ie.code)}));if(he.current&&""===he.current.value)return Z().fire({position:"center",icon:"warning",title:"ID is required!",timer:1500}).then((function(){var e;return bt(null===(e=he.current)||void 0===e?void 0:e.value)}));if(pe.current&&isNaN(parseFloat(null===(e=pe.current)||void 0===e?void 0:e.value.replace(/,/g,""))))return Z().fire({position:"center",icon:"warning",title:"Debit is required!",timer:1500});if(ve.current&&isNaN(parseFloat(null===(t=ve.current)||void 0===t?void 0:t.value.replace(/,/g,""))))return Z().fire({position:"center",icon:"warning",title:"Credit is required!",timer:1500});if(pe.current&&ve.current&&0===parseFloat(null===(n=ve.current)||void 0===n?void 0:n.value.replace(/,/g,""))&&0===parseFloat(null===(o=pe.current)||void 0===o?void 0:o.value.replace(/,/g,"")))return Z().fire({position:"center",icon:"warning",title:"Credit and Debit must be different!",timer:1500});if(xe.current&&""===(null===(i=xe.current)||void 0===i?void 0:i.value))return Z().fire({position:"center",icon:"warning",title:"TC is required!",timer:1500}).then((function(){return Nt(Ie.TC_Code)}));if(de.current&&(null===(a=de.current)||void 0===a?void 0:a.value.length)>=200)return Z().fire({position:"center",icon:"warning",title:"Code is too long!",timer:1500});if(he.current&&(null===(l=he.current)||void 0===l?void 0:l.value.length)>=200)return Z().fire({position:"center",icon:"warning",title:"Client name is too long!",timer:1500});if(xe.current&&xe.current.value.length>=200)return Z().fire({position:"center",icon:"warning",title:"TC is too long!",timer:1500});if(ye.current&&ye.current.value.length>=200)return Z().fire({position:"center",icon:"warning",title:"Invoice is too long!",timer:1500});function u(e){var t=e.length?e[e.length-1].TempID:"000";return(parseInt(t.toString().match(/\d+/)[0])+1).toString().padStart(3,"0")}var c=null!==ee&&ee>=0;Z().fire({title:c?"Are you sure you want to update row?":"Are you sure you want to add new row?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:c?"Yes, update it!":"Yes Add it"}).then((function(e){if(e.isConfirmed&&de.current&&se.current&&fe.current&&he.current&&pe.current&&ve.current&&xe.current&&me.current&&ge.current&&ye.current){var t,n,o,i,a,l,d={code:de.current.value,acctName:se.current.value,subAcctName:fe.current.value,ClientName:he.current.value,debit:pe.current.value,credit:ve.current.value,TC_Code:xe.current.value,remarks:me.current.value,vatType:ge.current.value,invoice:ye.current.value,TempID:u(Le),IDNo:we.current,BranchCode:be.current};if(c)"VAT"===(null===(o=ge.current)||void 0===o?void 0:o.value)&&"1.06.02"!==(null===(i=de.current)||void 0===i?void 0:i.value)?Be((function(e){return e=e.filter((function(e,t){return t!==ee}))})):Be((function(e){return e=e.map((function(e,t){return t===ee&&(e=d),e}))}));else"VAT"!==(null===(a=ge.current)||void 0===a?void 0:a.value)&&"1.06.02"!==(null===(l=de.current)||void 0===l?void 0:l.value)&&Be((function(e){return[].concat((0,r.Z)(e),[d])}));var s=parseFloat(pe.current.value.replace(/,/g,"")),f=parseFloat(ve.current.value.replace(/,/g,"")),h={code:de.current.value,acctName:se.current.value,subAcctName:fe.current.value,ClientName:he.current.value,debit:pe.current.value,credit:ve.current.value,TC_Code:xe.current.value,remarks:me.current.value,vatType:ge.current.value,invoice:ye.current.value,TempID:u(Le),IDNo:we.current,BranchCode:be.current};if("VAT"===(null===(t=ge.current)||void 0===t?void 0:t.value)&&"1.06.02"!==(null===(n=de.current)||void 0===n?void 0:n.value)){var p=function(e,t,n,r){var o=[],i=0,a=0;return 0!==r?(i=r/1.12,e.credit=i.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})):(i=n/1.12,e.debit=i.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})),o.push(e),a=.12*i,t.code="1.06.02",t.acctName="Input Tax",0!==parseFloat(e.credit.replace(/,/g,""))?t.credit=a.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):t.debit=a.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),o.push(t),o}(d,h,s,f);Be((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(p))}))}Tt(),Ue.current.resetTableSelected()}}))}var Et=window.innerWidth-50,Rt=window.innerHeight-200;return(0,c.useEffect)((function(){var e=Le.reduce((function(e,t){return e+parseFloat(t.debit.replace(/,/g,""))}),0),t=Le.reduce((function(e,t){return e+parseFloat(t.credit.replace(/,/g,""))}),0);Te({type:"UPDATE_FIELD",field:"totalDebit",value:e.toFixed(2)}),Te({type:"UPDATE_FIELD",field:"totalCredit",value:t.toFixed(2)}),Te({type:"UPDATE_FIELD",field:"totalBalance",value:(e-t).toFixed(2)})}),[Le]),(0,J.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",flex:1,padding:"10px"},children:[(0,J.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"5px"},children:[(0,J.jsxs)("div",{style:{display:"flex",alignItems:"center",columnGap:"5px"},children:[ft?(0,J.jsx)(S.Z,{loading:ft}):(0,J.jsx)(d.Z,{label:"Search",size:"small",name:"search",value:Ie.search,onChange:It,onKeyDown:function(e){if("Enter"===e.code||"NumpadEnter"===e.code)return e.preventDefault(),st(e.target.value);"ArrowDown"===e.key&&(e.preventDefault(),document.querySelector(".grid-container").focus())},InputProps:{style:{height:"27px",fontSize:"14px"},className:"manok"},sx:{width:"300px",height:"27px",".MuiFormLabel-root":{fontSize:"14px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}}}),He&&(0,J.jsx)(s.Z,{sx:{height:"30px",fontSize:"11px"},variant:"contained",startIcon:(0,J.jsx)(j.Z,{sx:{width:15,height:15}}),id:"entry-header-save-button",onClick:function(){ie("add")},color:"primary",children:"New"}),(0,J.jsx)(S.Z,{sx:{height:"30px",fontSize:"11px"},loading:$e,disabled:He,onClick:function(){var e,t;return""===(null===(e=ae.current)||void 0===e?void 0:e.value)?Z().fire({position:"center",icon:"warning",title:"Please provide reference number!",timer:1500}):""===(null===(t=ce.current)||void 0===t?void 0:t.value)?Z().fire({position:"center",icon:"warning",title:"Please provide explanation!",timer:1500}).then((function(){(0,A.D)(300).then((function(){var e;null===(e=Ke.current)||void 0===e||e.focus()}))})):""===Ie.totalDebit&&""===Ie.totalCredit||"0.00"===Ie.totalDebit&&"0.00"===Ie.totalCredit?Z().fire({position:"center",icon:"warning",title:"Total Debit and Credit amount must not be zero(0), please double check the entries",timer:1500}).then((function(){(0,A.D)(300).then((function(){}))})):Ie.totalDebit!==Ie.totalCredit?Z().fire({position:"center",icon:"warning",title:"Total Debit and Credit amount must be balance, please double check the entries",timer:1500}).then((function(){(0,A.D)(300).then((function(){}))})):void(We?(0,P.s)({isUpdate:!0,cb:function(e){var t,n,r;Xe({hasSelected:!0,refNo:null===(t=ae.current)||void 0===t?void 0:t.value,dateEntry:null===(n=ue.current)||void 0===n?void 0:n.value,explanation:null===(r=ce.current)||void 0===r?void 0:r.value,generalJournal:Le,userCodeConfirmation:e})}}):(0,P.L)({isConfirm:function(){var e,t,n;Xe({hasSelected:!1,refNo:null===(e=ae.current)||void 0===e?void 0:e.value,dateEntry:null===(t=ue.current)||void 0===t?void 0:t.value,explanation:null===(n=ce.current)||void 0===n?void 0:n.value,generalJournal:Le})}}))},color:"success",variant:"contained",children:"Save"}),(Ge||We)&&(0,J.jsx)(S.Z,{sx:{height:"30px",fontSize:"11px"},variant:"contained",startIcon:(0,J.jsx)(D.Z,{sx:{width:15,height:15}}),color:"error",onClick:function(){Z().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel it!"}).then((function(e){e.isConfirmed&&(ie(""),Ye(),Be([]))}))},disabled:He,children:"Cancel"}),(0,J.jsx)(S.Z,{sx:{height:"30px",fontSize:"11px",background:F.Z[500],":hover":{background:F.Z[600]}},onClick:function(){(0,P.s)({isUpdate:!1,text:"Are you sure you want to void ".concat(Ie.refNo),cb:function(e){ot({refNo:Ie.refNo,dateEntry:Ie.dateEntry,userCodeConfirmation:e})}})},loading:it,disabled:He,variant:"contained",startIcon:(0,J.jsx)(E.Z,{sx:{width:20,height:20}}),children:"Void"}),(0,J.jsx)(S.Z,{sx:{height:"30px",fontSize:"11px",background:L.Z[500],":hover":{background:L.Z[600]}},onClick:function(){Me((function(e){return!e}))},loading:nt,variant:"contained",startIcon:(0,J.jsx)(C.Z,{sx:{width:20,height:20}}),children:"Jobs"}),(0,J.jsx)(s.Z,{disabled:He,id:"basic-button","aria-haspopup":"true",onClick:function(){(0,_.flushSync)((function(){var e,t,n;localStorage.removeItem("printString"),localStorage.setItem("dataString",JSON.stringify(Le)),localStorage.setItem("paper-width","8.5in"),localStorage.setItem("paper-height","11in"),localStorage.setItem("module","general-journal"),localStorage.setItem("state",JSON.stringify({JVNo:null===(e=ae.current)||void 0===e?void 0:e.value,JVDate:null===(t=ue.current)||void 0===t?void 0:t.value,JVExp:null===(n=ce.current)||void 0===n?void 0:n.value})),localStorage.setItem("column",JSON.stringify([{datakey:"code",header:"ACCT #",width:"40px"},{datakey:"acctName",header:"ACCOUNT TITLE",width:"130px"},{datakey:"IDNo",header:"ID NO.",width:"120px"},{datakey:"ClientName",header:"IDENTITY",width:"200px"},{datakey:"debit",header:"DEBIT",width:"65px"},{datakey:"credit",header:"CREDIT",width:"65px"}])),localStorage.setItem("title","UMIS"===(null===Ne||void 0===Ne?void 0:Ne.department)?"UPWARD MANAGEMENT INSURANCE SERVICES\n":"UPWARD CONSULTANCY SERVICES AND MANAGEMENT INC.\n")})),window.open("/dashboard/print","_blank")},sx:{height:"30px",fontSize:"11px",color:"white",backgroundColor:B.Z[600],"&:hover":{backgroundColor:B.Z[700]}},children:"Print"})]}),(0,J.jsxs)("div",{style:{fontSize:"13px",border:"1px solid #d4d4d8",width:"100%",display:"flex",columnGap:"50px",height:"30px",alignItems:"center",justifyContent:"center"},children:[(0,J.jsxs)("p",{style:{margin:0,padding:0,color:"black"},children:[(0,J.jsx)("span",{style:{fontSize:"12px"},children:"Total Rows:"})," ",(0,J.jsx)("strong",{children:Le.length})]}),(0,J.jsxs)("p",{style:{margin:0,padding:0,color:"black"},children:[(0,J.jsx)("span",{style:{fontSize:"12px"},children:"Total Debit:"})," ",(0,J.jsx)("strong",{children:Ie.totalDebit})]}),(0,J.jsxs)("p",{style:{margin:0,padding:0,color:"black"},children:[(0,J.jsx)("span",{style:{fontSize:"12px"},children:"Total Credit:"})," ",(0,J.jsx)("strong",{children:Ie.totalCredit})]}),(0,J.jsxs)("p",{style:{margin:0,padding:0,color:"black"},children:[(0,J.jsx)("span",{style:{fontSize:"12px"},children:"Balance:"})," ",(0,J.jsx)("strong",{style:{color:parseFloat(Ie.totalBalance.replace(/,/g,""))>0?"red":"black"},children:Ie.totalBalance})]})]})]}),(0,J.jsxs)("div",{style:{position:"relative",width:"100%",height:"auto",display:"flex",marginTop:"10px",gap:"10px",padding:"5px"},children:[Je?(0,J.jsx)(S.Z,{loading:Je}):(0,J.jsx)(V.oi,{label:{title:"Ref. No. : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:He||We,type:"text",style:{width:"190px"},readOnly:!0,onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=ue.current)||void 0===t||t.focus())}},inputRef:ae}),(0,J.jsx)(V.oi,{label:{title:"Date : ",style:{fontSize:"12px",fontWeight:"bold",width:"50px"}},input:{disabled:He,type:"date",style:{width:"190px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=ce.current)||void 0===t||t.focus())}},inputRef:ue}),(0,J.jsx)(V.oi,{label:{title:"Explanation : ",style:{fontSize:"12px",fontWeight:"bold",width:"90px"}},input:{disabled:He,type:"text",style:{width:"600px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=de.current)||void 0===t||t.focus())}},inputRef:ce})]}),(0,J.jsxs)("fieldset",{style:{border:"1px solid #cbd5e1",borderRadius:"5px",position:"relative",width:"100%",height:"auto",marginTop:"10px",padding:"15px"},children:[(0,J.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[mt?(0,J.jsx)(S.Z,{loading:mt}):(0,J.jsx)(V.oi,{label:{title:"Code : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:He,type:"text",style:{width:"190px"},onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),de.current&&xt(de.current.value))}},inputRef:de,icon:(0,J.jsx)(G.Z,{sx:{fontSize:"18px",color:He?"gray":"black"}}),onIconClick:function(e){e.preventDefault(),de.current&&xt(de.current.value)},disableIcon:He}),(0,J.jsx)(V.oi,{label:{title:"Account Name : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:He,type:"text",style:{width:"190px"},readOnly:!0,onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=fe.current)||void 0===t||t.focus())}},inputRef:se}),(0,J.jsx)(V.oi,{label:{title:"Sub Account : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:He,type:"text",style:{width:"190px"},readOnly:!0,onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=he.current)||void 0===t||t.focus())}},inputRef:fe}),Ct?(0,J.jsx)(S.Z,{loading:Ct}):(0,J.jsx)(V.oi,{label:{title:"I.D : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:He,type:"text",style:{width:"300px"},onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),he.current&&bt(he.current.value))}},inputRef:he,icon:(0,J.jsx)(W.Z,{sx:{fontSize:"18px",color:He?"gray":"black"}}),onIconClick:function(e){e.preventDefault(),he.current&&bt(he.current.value)},disableIcon:He})]}),(0,J.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[(0,J.jsx)(V.iA,{label:{title:"Debit : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:He,type:"text",style:{width:"190px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=ve.current)||void 0===t||t.focus())}},inputRef:pe}),(0,J.jsx)(V.iA,{label:{title:"Credit : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:He,type:"text",style:{width:"190px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=xe.current)||void 0===t||t.focus())}},inputRef:ve}),Zt?(0,J.jsx)(S.Z,{loading:Zt}):(0,J.jsx)(V.oi,{label:{title:"TC : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:He,type:"text",style:{width:"190px"},onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.key||(e.preventDefault(),xe.current&&Nt(xe.current.value))}},inputRef:xe,icon:(0,J.jsx)(H.Z,{sx:{fontSize:"18px",color:He?"gray":"black"}}),onIconClick:function(e){e.preventDefault(),xe.current&&Nt(xe.current.value)},disableIcon:He}),(0,J.jsx)(V.oi,{label:{title:"Remarks : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},input:{disabled:He,type:"text",style:{width:"300px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(null===(t=ge.current)||void 0===t||t.focus())}},inputRef:me})]}),(0,J.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[(0,J.jsx)(V.lq,{label:{title:"Vat Type : ",style:{fontSize:"12px",fontWeight:"bold",width:"70px"}},selectRef:ge,select:{disabled:He,style:{width:"190px",height:"22px"},onKeyDown:function(e){var t;"NumpadEnter"!==e.code&&"Enter"!==e.code||(e.preventDefault(),null===(t=ye.current)||void 0===t||t.focus())}},datasource:[{key:"VAT"},{key:"Non-VAT"}],values:"key",display:"key"}),(0,J.jsx)(V.oi,{label:{title:"OR/Invoice No. : ",style:{fontSize:"12px",fontWeight:"bold",width:"100px"}},input:{disabled:He,type:"text",style:{width:"300px"},onKeyDown:function(e){"NumpadEnter"!==e.code&&"Enter"!==e.code||(e.preventDefault(),At())}},inputRef:ye}),(0,J.jsx)(s.Z,{disabled:He,sx:{height:"22px",fontSize:"11px"},variant:"contained",startIcon:(0,J.jsx)(q.Z,{sx:{fontSize:"12px"}}),onClick:function(){At()},color:"primary",children:"Save Row"})]})]}),(0,J.jsx)("div",{ref:Ve,className:Se,style:{marginTop:"10px",width:"100%",position:"relative",flex:1},children:(0,J.jsx)(U.r,{isLoading:$e||ut||nt,ref:Ue,rows:Le,column:X,width:Et,height:Rt,dataReadOnly:!0,onSelectionChange:function(e,t){var n=e[0];e.length>0?(we.current=n.IDNo,be.current=n.BranchCode,he.current&&(he.current.value=n.ClientName),xe.current&&(xe.current.value=n.TC_Code),se.current&&(se.current.value=n.acctName),de.current&&(de.current.value=n.code),ve.current&&(ve.current.value=n.credit),pe.current&&(pe.current.value=n.debit),ye.current&&(ye.current.value=n.invoice),me.current&&(me.current.value=n.remarks),fe.current&&(fe.current.value=n.subAcctName),ge.current&&(ge.current.value=n.vatType),te(t)):(te(null),Tt())},onKeyDown:function(e,t,n){"Delete"!==t&&"Backspace"!==t||Z().fire({title:"Are you sure you want to delete?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){if(e.isConfirmed)return Be((function(e){return e.filter((function(e,t){return t!==n}))}))}))},inputsearchselector:".manok"})}),(0,J.jsx)(f.Z,{open:Re,onClose:function(){return Me(!1)},children:(0,J.jsxs)(h.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:470,bgcolor:"background.paper",p:4},children:[(0,J.jsx)(p.Z,{style:{position:"absolute",top:"10px",right:"10px"},"aria-label":"search-client",onClick:function(){return Me(!1)},children:(0,J.jsx)(D.Z,{})}),(0,J.jsx)(v.Z,{id:"modal-modal-title",variant:"h6",component:"h2",sx:{marginBottom:"20px"},children:"Jobs"}),(0,J.jsxs)("div",{style:{width:"400px"},children:[(0,J.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:"10px",justifyContent:"space-between",alignItems:"center"},children:[(0,J.jsx)(R._,{dateAdapter:M.H,children:(0,J.jsx)(z.M,{sx:{width:"200px",".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},slotProps:{textField:{size:"small",name:"",InputLabelProps:{style:{fontSize:"14px"}},InputProps:{style:{height:"27px",fontSize:"14px"}}}},label:"Transaction Date: ",views:["month","year"],value:Ie.jobTransactionDate,onChange:function(e){Te({type:"UPDATE_FIELD",field:"jobTransactionDate",value:e})}})}),(0,J.jsx)(x.Z,{sx:{height:"30px","& .MuiTypography-root":{fontSize:"14px"}},control:(0,J.jsx)(m.Z,{size:"small",checked:Ie.jobAutoExp,onChange:function(e){Te({type:"UPDATE_FIELD",field:"jobAutoExp",value:!Ie.jobAutoExp})}}),label:"Auto Explanation"})]}),(0,J.jsxs)(g.Z,{fullWidth:!0,size:"small",variant:"outlined",sx:{".MuiFormLabel-root":{fontSize:"14px",background:"white",zIndex:99,padding:"0 3px"},".MuiFormLabel-root[data-shrink=false]":{top:"-5px"}},children:[(0,J.jsx)(y.Z,{id:"label-selection-job-type",children:"Type of Job"}),(0,J.jsxs)(w.Z,{labelId:"label-selection-job-type",value:Ie.jobType,name:"jobType",onChange:It,autoWidth:!0,sx:{height:"27px",fontSize:"14px"},children:[(0,J.jsx)(b.Z,{value:"",children:" "}),(0,J.jsx)(b.Z,{value:"0",children:"Reversal of Accrued Interest "}),(0,J.jsxs)(b.Z,{value:"1",children:[" ","Income Recognition & Accrual of Interest"]}),(0,J.jsx)(b.Z,{value:"2",children:"Penalty Charges"}),(0,J.jsx)(b.Z,{value:"3",children:"Penalty Income"}),(0,J.jsx)(b.Z,{value:"4",children:"RPT Transaction (NIL-HN)"}),(0,J.jsx)(b.Z,{value:"5",children:"RPT Transaction (AMIFIN)"}),(0,J.jsx)(b.Z,{value:"6",children:"RPT Income"}),(0,J.jsx)(b.Z,{value:"7",children:"Monthly Accrual Expenses"}),(0,J.jsx)(b.Z,{value:"8",children:"Monthly Accrual Income"}),(0,J.jsx)(b.Z,{value:"9",children:"Production (Milestone Guarantee)"}),(0,J.jsx)(b.Z,{value:"10",children:"Production (Liberty Insurance Co.)"}),(0,J.jsx)(b.Z,{value:"11",children:"Production (Federal Phoenix)"})]})]})]}),(0,J.jsxs)("div",{style:{display:"flex",columnGap:"30px",alignItems:"flex-end",marginTop:"20px"},children:[(0,J.jsx)(S.Z,{loading:nt,color:"success",variant:"contained",onClick:function(){return tt(Ie)},children:"Create Job"}),(0,J.jsx)(s.Z,{color:"error",variant:"contained",onClick:function(){return Me(!1)},children:"Cancel"})]})]})}),vt,wt,Dt,dt]})}},93263:function(e,t,n){var r,o=n(29439),i=n(74165),a=n(15861),l=n(72791),u=n(91933),c=n(3380),d=n(81582),s=n(54164),f=n(80184);function h(e,t,n){return(r=r||(0,a.Z)((0,i.Z)().mark((function e(t,n,r){var o,a=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>3&&void 0!==a[3]?a[3]:"",e.abrupt("return",t.get("".concat(null===r||void 0===r?void 0:r.url,"?").concat(null===r||void 0===r?void 0:r.queryUrlName,"=").concat(o),{headers:{Authorization:"Bearer ".concat(null===n||void 0===n?void 0:n.accessToken)}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.Z=function(e){var t,n,r=e.link,p=e.uniqueId,v=e.queryKey,x=e.responseDataKey,m=e.columns,g=e.onSelected,y=void 0===g?function(){}:g,w=e.onRemoveSelected,b=void 0===w?function(){}:w,C=e.onSuccess,S=void 0===C?function(){}:C,j=e.searchRef,D=e.onCellKeyDown,N=e.onCloseFunction,Z=void 0===N?function(){}:N,k=e.CustomizeAxios,I=void 0===k?h:k,T=e.isRowSelectable,A=e.getCellClassName,E=(0,l.useContext)(c.V),R=E.myAxios,M=E.user,z=(0,l.useState)(!1),F=(0,o.Z)(z,2),L=F[0],B=F[1],P=(0,l.useState)([]),K=(0,o.Z)(P,2),_=K[0],q=K[1];function U(){return(t=t||(0,a.Z)((0,i.Z)().mark((function e(){var t,n=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.next=3,I(R,M,r,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=(0,u.useQuery)({queryKey:v,queryFn:function(){return(n=n||(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},onSuccess:function(e){var t=e;q(t.data[x]),S(t)},refetchOnWindowFocus:!1}),G=V.isLoading,W=V.refetch;return{show:L,rows:_,isLoading:G,openModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,s.flushSync)((function(){B(!0)})),null!==j&&void 0!==j&&j.current&&(j.current.value=e,U(e).then((function(e){if(null===e||void 0===e||!e.data.success)return alert("Error : ".concat(null===e||void 0===e?void 0:e.data.message));q(e.data[x]),null!==j&&void 0!==j&&j.current&&j.current.focus()})))},closeModal:function(){var e;(B(!1),Z)&&Z(null===j||void 0===j||null===(e=j.current)||void 0===e?void 0:e.value)},ModalComponent:(0,f.jsx)(d.ZP,{getCellClassName:A,searchRef:j,showModal:L,onCloseModal:function(){var e;(B(!1),Z)&&Z(null===j||void 0===j||null===(e=j.current)||void 0===e?void 0:e.value)},onClickCloseIcon:function(){var e;(B(!1),Z)&&Z(null===j||void 0===j||null===(e=j.current)||void 0===e?void 0:e.value)},searchOnChange:function(e){},onSearchKeyEnter:function(e){U(e).then((function(e){if(null===e||void 0===e||!e.data.success)return alert("Error : ".concat(null===e||void 0===e?void 0:e.data.message));q(e.data[x])}))},onCellKeyDown:D,height:300,isLoading:G,queryKey:v,columns:m,onSelectionChange:function(e,t){if(e.length<=0)return b(t);var n=new Set(e),r=t.filter((function(e){return n.has(e[p].toString())}));r.length<=0||y(r,t)},id:p,rows:_,setRows:q,isRowSelectable:T}),refetch:W}}},64230:function(e,t,n){n.d(t,{L:function(){return u},s:function(){return l}});var r=n(74165),o=n(15861),i=n(21830),a=n.n(i);function l(e){var t;a().fire({title:"Are you sure!",html:null!==e&&void 0!==e&&e.text?null===e||void 0===e?void 0:e.text:e.isUpdate?"Are you sure you want to make this change?":"Are you sure you want to delete this?",icon:"warning",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Save",confirmButtonColor:"green",showLoaderOnConfirm:!0,preConfirm:function(n){return(t=t||(0,o.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e.cb(n)}catch(r){a().showValidationMessage("\n            Request failed: ".concat(r,"\n          "))}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)},allowOutsideClick:function(){return!a().isLoading()}}).then((function(t){if(t.isConfirmed&&e.isConfirm)return e.isConfirm();e.isDeclined&&e.isDeclined()}))}function u(e){a().fire({title:"Are you sure?",text:null!==e&&void 0!==e&&e.text?null===e||void 0===e?void 0:e.text:"Do you want to proceed with saving?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, save it!"}).then((function(t){if(t.isConfirmed&&e.isConfirm)return e.isConfirm();e.isDeclined&&e.isDeclined()}))}},84072:function(e,t,n){var r=n(64836);t.Z=void 0;var o=r(n(45649)),i=n(80184),a=(0,o.default)((0,i.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"AccountBalanceWallet");t.Z=a},42419:function(e,t,n){var r=n(64836);t.Z=void 0;var o=r(n(45649)),i=n(80184),a=(0,o.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=a},67442:function(e,t,n){var r=n(64836);t.Z=void 0;var o=r(n(45649)),i=n(80184),a=(0,o.default)((0,i.jsx)("path",{d:"M20 6h-3V4c0-1.11-.89-2-2-2H9c-1.11 0-2 .89-2 2v2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM9 4h6v2H9V4zm11 15H4v-2h16v2zm0-5H4V8h3v2h2V8h6v2h2V8h3v6z"}),"CardTravel");t.Z=a},84669:function(e,t,n){var r=n(64836);t.Z=void 0;var o=r(n(45649)),i=n(80184),a=(0,o.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"}),"NotInterested");t.Z=a},53329:function(e,t,n){var r=n(64836);t.Z=void 0;var o=r(n(45649)),i=n(80184),a=(0,o.default)((0,i.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=a},16656:function(e,t){t.Z={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037"}},95643:function(e,t){t.Z={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"}}}]);
//# sourceMappingURL=2876.8f12a94a.chunk.js.map