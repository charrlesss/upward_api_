{"version":3,"file":"static/js/3911.0f052309.chunk.js","mappings":"2RAQ8B,SAEfA,EAAKC,EAAAC,EAAAC,GAAA,OAAAC,EAAAA,IAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAApB,SAAAC,EACEC,EACAC,EACAC,GAAgB,OAAAL,EAAAA,EAAAA,KAAAM,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAEHN,EAAQO,KACnB,SACA,CACEN,SAAAA,EACAC,SAAAA,GAEF,CAAEM,iBAAiB,IACnB,KAAD,SAAAJ,EAAAK,OAAA,SAAAL,EAAAM,MAAA,wBAAAN,EAAAO,OAAA,GAAAZ,EAAA,MACFa,MAAA,KAAAC,UAAA,CAEc,SAASC,IAAe,IAADC,EAAAC,EAC9BC,GAAWC,EAAAA,EAAAA,MACjBC,GAAwCC,EAAAA,EAAAA,WAAS,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAhDI,EAAYF,EAAA,GAAEG,EAAeH,EAAA,GACpCI,GAA4BL,EAAAA,EAAAA,UAAS,CACnCnB,UAAU,EACVC,UAAU,EACVwB,SAAS,EACTC,QAAS,KACTC,GAAAN,EAAAA,EAAAA,GAAAG,EAAA,GALKI,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAMxBG,GAA6BC,EAAAA,EAAAA,YAAWC,EAAAA,GAAhCC,EAAOH,EAAPG,QAASlC,EAAO+B,EAAP/B,QACjBmC,GAA8BC,EAAAA,EAAAA,aAAY,CACxCC,YAAa,QACbC,WAAW,SAADC,GAAA,OAAAxB,EAAAA,IAAAnB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAE,SAAA0C,EAAOC,GAAiD,OAAA5C,EAAAA,EAAAA,KAAAM,MAAA,SAAAuC,GAAA,cAAAA,EAAArC,KAAAqC,EAAApC,MAAA,cAAAoC,EAAAjC,OAAA,UAClEkC,EAAAA,EAAAA,GAAK,MAAMC,MAAIhD,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MACb,SAAA+C,IAAA,OAAAhD,EAAAA,EAAAA,KAAAM,MAAA,SAAA2C,GAAA,cAAAA,EAAAzC,KAAAyC,EAAAxC,MAAA,cAAAwC,EAAAxC,KAAA,EAAkBf,EAAMS,EAASyC,EAAUxC,SAAUwC,EAAUvC,UAAS,cAAA4C,EAAArC,OAAA,SAAAqC,EAAApC,MAAA,wBAAAoC,EAAAnC,OAAA,GAAAkC,EAAA,OACzE,wBAAAH,EAAA/B,OAAA,GAAA6B,EAAA,MAAA5B,MAAA,KAAAC,UAAA,EACHkC,UAAW,SAACC,GACV,OAAIA,EAAIC,KAAKhD,SACJ6B,EAAU,CACf7B,UAAU,EACVC,UAAU,EACVwB,SAAS,EACTC,QAASqB,EAAIC,KAAKtB,UAGlBqB,EAAIC,KAAK/C,SACJ4B,EAAU,CACf7B,UAAU,EACVC,UAAU,EACVwB,SAAS,EACTC,QAASqB,EAAIC,KAAKtB,WAGtBG,EAAU,CACR7B,UAAU,EACVC,UAAU,EACVwB,SAAS,EACTC,QAASqB,EAAIC,KAAKtB,eAEpBuB,IAAAA,KAAU,CACRC,SAAU,SACVC,KAAM,UACNC,MAAOL,EAAIC,KAAKtB,QAChB2B,mBAAmB,EACnBC,MAAO,MACNX,MAAK,WAEN,GADAV,EAAQc,EAAIC,KAAKO,MACgB,sBAA7BR,EAAIC,KAAKO,KAAKC,WAChB,OAAOxC,EAAS,IAADyC,OACTC,QAAgC,gDAIpCX,EAAIC,KAAKO,KAAKI,gBAChB3C,EAAS,4BAET4C,OAAOC,aAAaC,QAAQ,aAAc,OACT,UAA7Bf,EAAIC,KAAKO,KAAKQ,aAChBH,OAAOC,aAAaC,QAAQ,kBAAmB,QAC/C9C,EAAS,IAADyC,OAAKC,QAAgC,iDAGd,SAA7BX,EAAIC,KAAKO,KAAKQ,aAChBH,OAAOC,aAAaC,QAAQ,kBAAmB,OAC/C9C,EAAS,IAADyC,OAAKC,QAAgC,gBAGnD,IACF,IA1DMM,EAAM9B,EAAN8B,OAAQC,EAAS/B,EAAT+B,UAsEhB,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oBAAmBC,SAAA,EAChCF,EAAAA,EAAAA,MAAA,QAAMC,UAAU,UAAUE,SAb3B,SAEoBC,GAAA,OAAAvD,EAAAA,IAAApB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAvB,SAAA0E,EAAwBC,GAAY,IAAAC,EAAA,OAAA7E,EAAAA,EAAAA,KAAAM,MAAA,SAAAwE,GAAA,cAAAA,EAAAtE,KAAAsE,EAAArE,MAAA,OAClCmE,EAAEG,iBACIF,EAAW,IAAIG,SAASJ,EAAEK,eAChCb,EAAO,CACLhE,SAAUyE,EAASK,IAAI,YACvB7E,SAAUwE,EAASK,IAAI,cACtB,wBAAAJ,EAAAhE,OAAA,GAAA6D,EAAA,MACJ5D,MAAA,KAAAC,UAAA,EAIgDwD,SAAA,EAC3CW,EAAAA,EAAAA,KAAA,OACEC,IAAI,mBACJC,IAAKvB,YACLwB,MAAO,CAAEC,MAAO,QAASC,OAAQ,OAAQC,WAAY,YAEvDN,EAAAA,EAAAA,KAAA,MAAIG,MAAO,CAAEI,WAAY,MAAOC,aAAc,QAASnB,SAAC,+BAGxDW,EAAAA,EAAAA,KAAA,OAAKZ,UAAU,gBAAeC,UAC5BF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEW,EAAAA,EAAAA,KAAA,SAAOS,QAAQ,WAAUpB,SAAC,eAC1BW,EAAAA,EAAAA,KAAA,SACAU,WAAW,EACTC,KAAK,WACLC,GAAG,WACHxB,UAAWvC,EAAO5B,SAAW,QAAU,GACvC4F,QAAS,kBACP/D,EAAU,CACR7B,UAAU,EACVC,UAAU,EACVwB,SAAS,EACTC,QAAS,IACT,IAGLE,EAAO5B,WACN+E,EAAAA,EAAAA,KAAA,KAAGZ,UAAU,eAAcC,SACxBxC,EAAO5B,UAAY4B,EAAOF,gBAKnCqD,EAAAA,EAAAA,KAAA,OAAKZ,UAAU,gBAAgBe,MAAO,CAAEW,UAAW,QAASzB,UAC1DF,EAAAA,EAAAA,MAAA,OAAAE,SAAA,EACEW,EAAAA,EAAAA,KAAA,SAAOS,QAAQ,WAAUpB,SAAC,eAC1BW,EAAAA,EAAAA,KAAA,SACEW,KAAK,WACLC,GAAG,WACHG,KAAMxE,EAAe,OAAS,WAC9B6C,UAAWvC,EAAO3B,SAAW,QAAU,GACvC2F,QAAS,kBACP/D,EAAU,CACR7B,UAAU,EACVC,UAAU,EACVwB,SAAS,EACTC,QAAS,IACT,IAGLE,EAAO3B,WACN8E,EAAAA,EAAAA,KAAA,KAAGZ,UAAU,eAAcC,SAAExC,EAAOF,gBAI1CwC,EAAAA,EAAAA,MAAA,OACEgB,MAAO,CACLa,QAAS,OACTC,WAAY,SACZC,UAAW,OACXJ,UAAW,QACXzB,SAAA,EAEFW,EAAAA,EAAAA,KAAA,SACEW,KAAK,WACLC,GAAG,WACHG,KAAK,WACLZ,MAAO,CAAEgB,QAAS,IAAKC,OAAQ,GAC/BC,SAAU,SAAC5B,GAAO,IAAD6B,EACf9E,EAA+B,QAAhB8E,EAAC7B,EAAEK,qBAAa,IAAAwB,OAAA,EAAfA,EAAiBC,QACnC,KAEFvB,EAAAA,EAAAA,KAAA,SACES,QAAQ,WACRN,MAAO,CACLqB,SAAU,OACVC,OAAQ,UACRN,QAAS,IACTC,OAAQ,GACR/B,SACH,sBAIHW,EAAAA,EAAAA,KAAA,UAAAX,SAAQ,cAETH,IACCc,EAAAA,EAAAA,KAAA,OAAKZ,UAAU,oBAAmBC,UAChCW,EAAAA,EAAAA,KAAA,OAAKZ,UAAU,eAKzB,C,wBCxMO,SAASzB,EAAK+D,GACjB,OAAO,IAAIC,SAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAAQF,EAAS,GAC9D,C","sources":["feautures/LandingPage.tsx","lib/wait.ts"],"sourcesContent":["import { useState, FormEvent, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../components/AuthContext\";\nimport { useMutation } from \"react-query\";\nimport { wait } from \"../lib/wait\";\nimport axios, { AxiosInstance } from \"axios\";\nimport Swal from \"sweetalert2\";\nimport \"../style/landingpage.css\";\nimport \"../style/laoding.css\";\n\nasync function Login(\n  myAxios: AxiosInstance,\n  username: string,\n  password: string\n) {\n  return await myAxios.post(\n    \"/login\",\n    {\n      username,\n      password,\n    },\n    { withCredentials: true }\n  );\n}\n\nexport default function LandingPage() {\n  const navigate = useNavigate();\n  const [showPassword, setShowPassword] = useState(false);\n  const [errors, setErrors] = useState({\n    username: false,\n    password: false,\n    success: false,\n    message: \"\",\n  });\n  const { setUser, myAxios } = useContext(AuthContext);\n  const { mutate, isLoading } = useMutation({\n    mutationKey: \"login\",\n    mutationFn: async (variables: { username: string; password: string }) =>\n      wait(1200).then(\n        async () => await Login(myAxios, variables.username, variables.password)\n      ),\n    onSuccess: (res) => {\n      if (res.data.username) {\n        return setErrors({\n          username: true,\n          password: false,\n          success: false,\n          message: res.data.message,\n        });\n      }\n      if (res.data.password) {\n        return setErrors({\n          username: false,\n          password: true,\n          success: false,\n          message: res.data.message,\n        });\n      }\n      setErrors({\n        username: false,\n        password: false,\n        success: true,\n        message: res.data.message,\n      });\n      Swal.fire({\n        position: \"center\",\n        icon: \"success\",\n        title: res.data.message,\n        showConfirmButton: false,\n        timer: 800,\n      }).then(() => {\n        setUser(res.data.user);\n        if (res.data.user.userAccess === \"ACCOUNTING_CHECKS\") {\n          return navigate(\n            `/${process.env.REACT_APP_DEPARTMENT}/dashboard/task/accounting/warehouse-checks`\n          );\n        }\n\n        if (res.data.user.is_master_admin) {\n          navigate(\"/master-admin-dashboard\");\n        } else {\n          window.localStorage.setItem(\"__policy__\", \"COM\");\n          if (res.data.user.department === \"UCSMI\") {\n            window.localStorage.setItem(\"__policy_type__\", \"TEMP\");\n            navigate(`/${process.env.REACT_APP_DEPARTMENT}/dashboard/task/accounting/post-date-checks`);\n\n          }\n          if (res.data.user.department === \"UMIS\") {\n            window.localStorage.setItem(\"__policy_type__\", \"REG\");\n            navigate(`/${process.env.REACT_APP_DEPARTMENT}/dashboard`);\n          }\n        }\n      });\n    },\n  });\n\n  async function onSubmit(e: FormEvent) {\n    e.preventDefault();\n    const formData = new FormData(e.currentTarget as HTMLFormElement);\n    mutate({\n      username: formData.get(\"username\") as string,\n      password: formData.get(\"password\") as string,\n    });\n  }\n\n  return (\n    <div className=\"main-landing-page\">\n      <form className=\"content\" onSubmit={onSubmit}>\n        <img\n          alt=\"Upward Insurance\"\n          src={process.env.REACT_APP_IMAGE_URL + \"logo.png\"}\n          style={{ width: \"120px\", height: \"auto\", background: \"white\" }}\n        />\n        <h3 style={{ fontWeight: \"400\", marginBottom: \"30px\" }}>\n          LOGIN TO UPWARD INSURANCE\n        </h3>\n        <div className=\"content-field\">\n          <div>\n            <label htmlFor=\"username\"> USERNAME</label>\n            <input\n            autoFocus={true}\n              name=\"username\"\n              id=\"username\"\n              className={errors.username ? \"error\" : \"\"}\n              onFocus={() =>\n                setErrors({\n                  username: false,\n                  password: false,\n                  success: false,\n                  message: \"\",\n                })\n              }\n            />\n            {errors.username && (\n              <p className=\"warning-text\">\n                {errors.username && errors.message}\n              </p>\n            )}\n          </div>\n        </div>\n        <div className=\"content-field\" style={{ marginTop: \"15px\" }}>\n          <div>\n            <label htmlFor=\"password\"> PASSWORD</label>\n            <input\n              name=\"password\"\n              id=\"password\"\n              type={showPassword ? \"text\" : \"password\"}\n              className={errors.password ? \"error\" : \"\"}\n              onFocus={() =>\n                setErrors({\n                  username: false,\n                  password: false,\n                  success: false,\n                  message: \"\",\n                })\n              }\n            />\n            {errors.password && (\n              <p className=\"warning-text\">{errors.message}</p>\n            )}\n          </div>\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            columnGap: \"10px\",\n            marginTop: \"10px\",\n          }}\n        >\n          <input\n            name=\"showpass\"\n            id=\"showpass\"\n            type=\"checkbox\"\n            style={{ padding: \"0\", margin: 0 }}\n            onChange={(e) => {\n              setShowPassword(e.currentTarget?.checked);\n            }}\n          />\n          <label\n            htmlFor=\"showpass\"\n            style={{\n              fontSize: \"10px\",\n              cursor: \"pointer\",\n              padding: \"0\",\n              margin: 0,\n            }}\n          >\n            SHOW PASSWORD\n          </label>\n        </div>\n        <button>SUBMIT</button>\n      </form>\n      {isLoading && (\n        <div className=\"loading-component\">\n          <div className=\"loader\"></div>\n        </div>\n      )}\n    </div>\n  );\n}\n","export function wait(duration:number){\n    return new Promise(resolve => setTimeout(resolve,duration))\n}"],"names":["Login","_x","_x2","_x3","_Login","_asyncToGenerator","_regeneratorRuntime","mark","_callee","myAxios","username","password","wrap","_context","prev","next","post","withCredentials","abrupt","sent","stop","apply","arguments","LandingPage","_mutationFn","_onSubmit","navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","showPassword","setShowPassword","_useState3","success","message","_useState4","errors","setErrors","_useContext","useContext","AuthContext","setUser","_useMutation","useMutation","mutationKey","mutationFn","_x4","_callee3","variables","_context3","wait","then","_callee2","_context2","onSuccess","res","data","Swal","position","icon","title","showConfirmButton","timer","user","userAccess","concat","process","is_master_admin","window","localStorage","setItem","department","mutate","isLoading","_jsxs","className","children","onSubmit","_x5","_callee4","e","formData","_context4","preventDefault","FormData","currentTarget","get","_jsx","alt","src","style","width","height","background","fontWeight","marginBottom","htmlFor","autoFocus","name","id","onFocus","marginTop","type","display","alignItems","columnGap","padding","margin","onChange","_e$currentTarget","checked","fontSize","cursor","duration","Promise","resolve","setTimeout"],"sourceRoot":""}